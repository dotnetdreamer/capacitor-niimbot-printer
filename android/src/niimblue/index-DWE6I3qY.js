const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web.BhV1AMqB.js","assets/fabric.Ccexr4Dr.js","assets/web.isxTNffP.js"])))=>i.map(i=>d[i]);
var od=Object.defineProperty;var ld=(t,e,n)=>e in t?od(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var qa=(t,e,n)=>ld(t,typeof e!="symbol"?e+"":e,n);import{g as Ta,c as dt,a as qi,f as et,r as cd}from"./fabric.Ccexr4Dr.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ht="top",pn="bottom",hn="right",Gt="left",Pa="auto",Qr=[Ht,pn,hn,Gt],kr="start",Vr="end",Cc="clippingParents",Bs="viewport",Nr="popper",Ic="reference",bs=Qr.reduce(function(t,e){return t.concat([e+"-"+kr,e+"-"+Vr])},[]),Ns=[].concat(Qr,[Pa]).reduce(function(t,e){return t.concat([e,e+"-"+kr,e+"-"+Vr])},[]),Bc="beforeRead",Nc="read",Mc="afterRead",xc="beforeMain",jc="main",Rc="afterMain",$c="beforeWrite",Uc="write",Vc="afterWrite",zc=[Bc,Nc,Mc,xc,jc,Rc,$c,Uc,Vc];function Un(t){return t?(t.nodeName||"").toLowerCase():null}function _n(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Tr(t){var e=_n(t).Element;return t instanceof e||t instanceof Element}function wn(t){var e=_n(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ms(t){if(typeof ShadowRoot>"u")return!1;var e=_n(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ud(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},a=e.elements[n];!wn(a)||!Un(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(s){var o=i[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function dd(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),o=s.reduce(function(l,c){return l[c]="",l},{});!wn(i)||!Un(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}const xs={name:"applyStyles",enabled:!0,phase:"write",fn:ud,effect:dd,requires:["computeStyles"]};function Rn(t){return t.split("-")[0]}var yr=Math.max,ua=Math.min,zr=Math.round;function gs(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Wc(){return!/^((?!chrome|android).)*safari/i.test(gs())}function Wr(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,a=1;e&&wn(t)&&(i=t.offsetWidth>0&&zr(r.width)/t.offsetWidth||1,a=t.offsetHeight>0&&zr(r.height)/t.offsetHeight||1);var s=Tr(t)?_n(t):window,o=s.visualViewport,l=!Wc()&&n,c=(r.left+(l&&o?o.offsetLeft:0))/i,u=(r.top+(l&&o?o.offsetTop:0))/a,d=r.width/i,h=r.height/a;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function js(t){var e=Wr(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function qc(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ms(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Qn(t){return _n(t).getComputedStyle(t)}function fd(t){return["table","td","th"].indexOf(Un(t))>=0}function dr(t){return((Tr(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ea(t){return Un(t)==="html"?t:t.assignedSlot||t.parentNode||(Ms(t)?t.host:null)||dr(t)}function po(t){return!wn(t)||Qn(t).position==="fixed"?null:t.offsetParent}function pd(t){var e=/firefox/i.test(gs()),n=/Trident/i.test(gs());if(n&&wn(t)){var r=Qn(t);if(r.position==="fixed")return null}var i=Ea(t);for(Ms(i)&&(i=i.host);wn(i)&&["html","body"].indexOf(Un(i))<0;){var a=Qn(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Fi(t){for(var e=_n(t),n=po(t);n&&fd(n)&&Qn(n).position==="static";)n=po(n);return n&&(Un(n)==="html"||Un(n)==="body"&&Qn(n).position==="static")?e:n||pd(t)||e}function Rs(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ti(t,e,n){return yr(t,ua(e,n))}function hd(t,e,n){var r=Ti(t,e,n);return r>n?n:r}function Fc(){return{top:0,right:0,bottom:0,left:0}}function Hc(t){return Object.assign({},Fc(),t)}function Gc(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var _d=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Hc(typeof e!="number"?e:Gc(e,Qr))};function md(t){var e,n=t.state,r=t.name,i=t.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,o=Rn(n.placement),l=Rs(o),c=[Gt,hn].indexOf(o)>=0,u=c?"height":"width";if(!(!a||!s)){var d=_d(i.padding,n),h=js(a),b=l==="y"?Ht:Gt,p=l==="y"?pn:hn,_=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],g=s[l]-n.rects.reference[l],v=Fi(a),w=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,S=_/2-g/2,E=d[b],L=w-h[u]-d[p],T=w/2-h[u]/2+S,P=Ti(E,T,L),O=l;n.modifiersData[r]=(e={},e[O]=P,e.centerOffset=P-T,e)}}function bd(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||qc(e.elements.popper,i)&&(e.elements.arrow=i))}const Zc={name:"arrow",enabled:!0,phase:"main",fn:md,effect:bd,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qr(t){return t.split("-")[1]}var gd={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vd(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:zr(n*i)/i||0,y:zr(r*i)/i||0}}function ho(t){var e,n=t.popper,r=t.popperRect,i=t.placement,a=t.variation,s=t.offsets,o=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=s.x,b=h===void 0?0:h,p=s.y,_=p===void 0?0:p,g=typeof u=="function"?u({x:b,y:_}):{x:b,y:_};b=g.x,_=g.y;var v=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),S=Gt,E=Ht,L=window;if(c){var T=Fi(n),P="clientHeight",O="clientWidth";if(T===_n(n)&&(T=dr(n),Qn(T).position!=="static"&&o==="absolute"&&(P="scrollHeight",O="scrollWidth")),T=T,i===Ht||(i===Gt||i===hn)&&a===Vr){E=pn;var B=d&&T===L&&L.visualViewport?L.visualViewport.height:T[P];_-=B-r.height,_*=l?1:-1}if(i===Gt||(i===Ht||i===pn)&&a===Vr){S=hn;var k=d&&T===L&&L.visualViewport?L.visualViewport.width:T[O];b-=k-r.width,b*=l?1:-1}}var A=Object.assign({position:o},c&&gd),I=u===!0?vd({x:b,y:_},_n(n)):{x:b,y:_};if(b=I.x,_=I.y,l){var M;return Object.assign({},A,(M={},M[E]=w?"0":"",M[S]=v?"0":"",M.transform=(L.devicePixelRatio||1)<=1?"translate("+b+"px, "+_+"px)":"translate3d("+b+"px, "+_+"px, 0)",M))}return Object.assign({},A,(e={},e[E]=w?_+"px":"",e[S]=v?b+"px":"",e.transform="",e))}function yd(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,s=a===void 0?!0:a,o=n.roundOffsets,l=o===void 0?!0:o,c={placement:Rn(e.placement),variation:qr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ho(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ho(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const $s={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yd,data:{}};var Qi={passive:!0};function wd(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,a=i===void 0?!0:i,s=r.resize,o=s===void 0?!0:s,l=_n(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(u){u.addEventListener("scroll",n.update,Qi)}),o&&l.addEventListener("resize",n.update,Qi),function(){a&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Qi)}),o&&l.removeEventListener("resize",n.update,Qi)}}const Us={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wd,data:{}};var kd={left:"right",right:"left",bottom:"top",top:"bottom"};function ia(t){return t.replace(/left|right|bottom|top/g,function(e){return kd[e]})}var Td={start:"end",end:"start"};function _o(t){return t.replace(/start|end/g,function(e){return Td[e]})}function Vs(t){var e=_n(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function zs(t){return Wr(dr(t)).left+Vs(t).scrollLeft}function Pd(t,e){var n=_n(t),r=dr(t),i=n.visualViewport,a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;var c=Wc();(c||!c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o+zs(t),y:l}}function Ed(t){var e,n=dr(t),r=Vs(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=yr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=yr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+zs(t),l=-r.scrollTop;return Qn(i||n).direction==="rtl"&&(o+=yr(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}function Ws(t){var e=Qn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Yc(t){return["html","body","#document"].indexOf(Un(t))>=0?t.ownerDocument.body:wn(t)&&Ws(t)?t:Yc(Ea(t))}function Pi(t,e){var n;e===void 0&&(e=[]);var r=Yc(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),a=_n(r),s=i?[a].concat(a.visualViewport||[],Ws(r)?r:[]):r,o=e.concat(s);return i?o:o.concat(Pi(Ea(s)))}function vs(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Sd(t,e){var n=Wr(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function mo(t,e,n){return e===Bs?vs(Pd(t,n)):Tr(e)?Sd(e,n):vs(Ed(dr(t)))}function Ad(t){var e=Pi(Ea(t)),n=["absolute","fixed"].indexOf(Qn(t).position)>=0,r=n&&wn(t)?Fi(t):t;return Tr(r)?e.filter(function(i){return Tr(i)&&qc(i,r)&&Un(i)!=="body"}):[]}function Dd(t,e,n,r){var i=e==="clippingParents"?Ad(t):[].concat(e),a=[].concat(i,[n]),s=a[0],o=a.reduce(function(l,c){var u=mo(t,c,r);return l.top=yr(u.top,l.top),l.right=ua(u.right,l.right),l.bottom=ua(u.bottom,l.bottom),l.left=yr(u.left,l.left),l},mo(t,s,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Kc(t){var e=t.reference,n=t.element,r=t.placement,i=r?Rn(r):null,a=r?qr(r):null,s=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,l;switch(i){case Ht:l={x:s,y:e.y-n.height};break;case pn:l={x:s,y:e.y+e.height};break;case hn:l={x:e.x+e.width,y:o};break;case Gt:l={x:e.x-n.width,y:o};break;default:l={x:e.x,y:e.y}}var c=i?Rs(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(a){case kr:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Vr:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Fr(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,a=n.strategy,s=a===void 0?t.strategy:a,o=n.boundary,l=o===void 0?Cc:o,c=n.rootBoundary,u=c===void 0?Bs:c,d=n.elementContext,h=d===void 0?Nr:d,b=n.altBoundary,p=b===void 0?!1:b,_=n.padding,g=_===void 0?0:_,v=Hc(typeof g!="number"?g:Gc(g,Qr)),w=h===Nr?Ic:Nr,S=t.rects.popper,E=t.elements[p?w:h],L=Dd(Tr(E)?E:E.contextElement||dr(t.elements.popper),l,u,s),T=Wr(t.elements.reference),P=Kc({reference:T,element:S,strategy:"absolute",placement:i}),O=vs(Object.assign({},S,P)),B=h===Nr?O:T,k={top:L.top-B.top+v.top,bottom:B.bottom-L.bottom+v.bottom,left:L.left-B.left+v.left,right:B.right-L.right+v.right},A=t.modifiersData.offset;if(h===Nr&&A){var I=A[i];Object.keys(k).forEach(function(M){var q=[hn,pn].indexOf(M)>=0?1:-1,W=[Ht,pn].indexOf(M)>=0?"y":"x";k[M]+=I[W]*q})}return k}function Od(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,a=n.rootBoundary,s=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Ns:l,u=qr(r),d=u?o?bs:bs.filter(function(p){return qr(p)===u}):Qr,h=d.filter(function(p){return c.indexOf(p)>=0});h.length===0&&(h=d);var b=h.reduce(function(p,_){return p[_]=Fr(t,{placement:_,boundary:i,rootBoundary:a,padding:s})[Rn(_)],p},{});return Object.keys(b).sort(function(p,_){return b[p]-b[_]})}function Ld(t){if(Rn(t)===Pa)return[];var e=ia(t);return[_o(t),e,_o(e)]}function Cd(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,o=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,b=n.flipVariations,p=b===void 0?!0:b,_=n.allowedAutoPlacements,g=e.options.placement,v=Rn(g),w=v===g,S=l||(w||!p?[ia(g)]:Ld(g)),E=[g].concat(S).reduce(function(F,j){return F.concat(Rn(j)===Pa?Od(e,{placement:j,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:_}):j)},[]),L=e.rects.reference,T=e.rects.popper,P=new Map,O=!0,B=E[0],k=0;k<E.length;k++){var A=E[k],I=Rn(A),M=qr(A)===kr,q=[Ht,pn].indexOf(I)>=0,W=q?"width":"height",D=Fr(e,{placement:A,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),x=q?M?hn:Gt:M?pn:Ht;L[W]>T[W]&&(x=ia(x));var R=ia(x),Q=[];if(a&&Q.push(D[I]<=0),o&&Q.push(D[x]<=0,D[R]<=0),Q.every(function(F){return F})){B=A,O=!1;break}P.set(A,Q)}if(O)for(var H=p?3:1,V=function(j){var ie=E.find(function(se){var fe=P.get(se);if(fe)return fe.slice(0,j).every(function(Me){return Me})});if(ie)return B=ie,"break"},$=H;$>0;$--){var z=V($);if(z==="break")break}e.placement!==B&&(e.modifiersData[r]._skip=!0,e.placement=B,e.reset=!0)}}const Qc={name:"flip",enabled:!0,phase:"main",fn:Cd,requiresIfExists:["offset"],data:{_skip:!1}};function bo(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function go(t){return[Ht,hn,pn,Gt].some(function(e){return t[e]>=0})}function Id(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,s=Fr(e,{elementContext:"reference"}),o=Fr(e,{altBoundary:!0}),l=bo(s,r),c=bo(o,i,a),u=go(l),d=go(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Jc={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Id};function Bd(t,e,n){var r=Rn(t),i=[Gt,Ht].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[Gt,hn].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function Nd(t){var e=t.state,n=t.options,r=t.name,i=n.offset,a=i===void 0?[0,0]:i,s=Ns.reduce(function(u,d){return u[d]=Bd(d,e.rects,a),u},{}),o=s[e.placement],l=o.x,c=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const Xc={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Nd};function Md(t){var e=t.state,n=t.name;e.modifiersData[n]=Kc({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const qs={name:"popperOffsets",enabled:!0,phase:"read",fn:Md,data:{}};function xd(t){return t==="x"?"y":"x"}function jd(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,o=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,b=h===void 0?!0:h,p=n.tetherOffset,_=p===void 0?0:p,g=Fr(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Rn(e.placement),w=qr(e.placement),S=!w,E=Rs(v),L=xd(E),T=e.modifiersData.popperOffsets,P=e.rects.reference,O=e.rects.popper,B=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,k=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(T){if(a){var M,q=E==="y"?Ht:Gt,W=E==="y"?pn:hn,D=E==="y"?"height":"width",x=T[E],R=x+g[q],Q=x-g[W],H=b?-O[D]/2:0,V=w===kr?P[D]:O[D],$=w===kr?-O[D]:-P[D],z=e.elements.arrow,F=b&&z?js(z):{width:0,height:0},j=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Fc(),ie=j[q],se=j[W],fe=Ti(0,P[D],F[D]),Me=S?P[D]/2-H-fe-ie-k.mainAxis:V-fe-ie-k.mainAxis,me=S?-P[D]/2+H+fe+se+k.mainAxis:$+fe+se+k.mainAxis,$e=e.elements.arrow&&Fi(e.elements.arrow),Ae=$e?E==="y"?$e.clientTop||0:$e.clientLeft||0:0,De=(M=A==null?void 0:A[E])!=null?M:0,ne=x+Me-De-Ae,Te=x+me-De,Ce=Ti(b?ua(R,ne):R,x,b?yr(Q,Te):Q);T[E]=Ce,I[E]=Ce-x}if(o){var Pe,We=E==="x"?Ht:Gt,Be=E==="x"?pn:hn,ge=T[L],ye=L==="y"?"height":"width",Ue=ge+g[We],ue=ge-g[Be],pe=[Ht,Gt].indexOf(v)!==-1,he=(Pe=A==null?void 0:A[L])!=null?Pe:0,Le=pe?Ue:ge-P[ye]-O[ye]-he+k.altAxis,le=pe?ge+P[ye]+O[ye]-he-k.altAxis:ue,ve=b&&pe?hd(Le,ge,le):Ti(b?Le:Ue,ge,b?le:ue);T[L]=ve,I[L]=ve-ge}e.modifiersData[r]=I}}const eu={name:"preventOverflow",enabled:!0,phase:"main",fn:jd,requiresIfExists:["offset"]};function Rd(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function $d(t){return t===_n(t)||!wn(t)?Vs(t):Rd(t)}function Ud(t){var e=t.getBoundingClientRect(),n=zr(e.width)/t.offsetWidth||1,r=zr(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Vd(t,e,n){n===void 0&&(n=!1);var r=wn(e),i=wn(e)&&Ud(e),a=dr(e),s=Wr(t,i,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Un(e)!=="body"||Ws(a))&&(o=$d(e)),wn(e)?(l=Wr(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=zs(a))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function zd(t){var e=new Map,n=new Set,r=[];t.forEach(function(a){e.set(a.name,a)});function i(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!n.has(o)){var l=e.get(o);l&&i(l)}}),r.push(a)}return t.forEach(function(a){n.has(a.name)||i(a)}),r}function Wd(t){var e=zd(t);return zc.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function qd(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Fd(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var vo={placement:"bottom",modifiers:[],strategy:"absolute"};function yo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Sa(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,a=i===void 0?vo:i;return function(o,l,c){c===void 0&&(c=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},vo,a),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},d=[],h=!1,b={state:u,setOptions:function(v){var w=typeof v=="function"?v(u.options):v;_(),u.options=Object.assign({},a,u.options,w),u.scrollParents={reference:Tr(o)?Pi(o):o.contextElement?Pi(o.contextElement):[],popper:Pi(l)};var S=Wd(Fd([].concat(r,u.options.modifiers)));return u.orderedModifiers=S.filter(function(E){return E.enabled}),p(),b.update()},forceUpdate:function(){if(!h){var v=u.elements,w=v.reference,S=v.popper;if(yo(w,S)){u.rects={reference:Vd(w,Fi(S),u.options.strategy==="fixed"),popper:js(S)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(k){return u.modifiersData[k.name]=Object.assign({},k.data)});for(var E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var L=u.orderedModifiers[E],T=L.fn,P=L.options,O=P===void 0?{}:P,B=L.name;typeof T=="function"&&(u=T({state:u,options:O,name:B,instance:b})||u)}}}},update:qd(function(){return new Promise(function(g){b.forceUpdate(),g(u)})}),destroy:function(){_(),h=!0}};if(!yo(o,l))return b;b.setOptions(c).then(function(g){!h&&c.onFirstUpdate&&c.onFirstUpdate(g)});function p(){u.orderedModifiers.forEach(function(g){var v=g.name,w=g.options,S=w===void 0?{}:w,E=g.effect;if(typeof E=="function"){var L=E({state:u,name:v,instance:b,options:S}),T=function(){};d.push(L||T)}})}function _(){d.forEach(function(g){return g()}),d=[]}return b}}var Hd=Sa(),Gd=[Us,qs,$s,xs],Zd=Sa({defaultModifiers:Gd}),Yd=[Us,qs,$s,xs,Xc,Qc,eu,Zc,Jc],Kd=Sa({defaultModifiers:Yd});const Qd=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Rc,afterRead:Mc,afterWrite:Vc,applyStyles:xs,arrow:Zc,auto:Pa,basePlacements:Qr,beforeMain:xc,beforeRead:Bc,beforeWrite:$c,bottom:pn,clippingParents:Cc,computeStyles:$s,createPopper:Kd,createPopperBase:Hd,createPopperLite:Zd,detectOverflow:Fr,end:Vr,eventListeners:Us,flip:Qc,hide:Jc,left:Gt,main:jc,modifierPhases:zc,offset:Xc,placements:Ns,popper:Nr,popperGenerator:Sa,popperOffsets:qs,preventOverflow:eu,read:Nc,reference:Ic,right:hn,start:kr,top:Ht,variationPlacements:bs,viewport:Bs,write:Uc},Symbol.toStringTag,{value:"Module"}));var tu={exports:{}};const Jd=Ta(Qd);var Fa={exports:{}},Ha={exports:{}};/*!
  * Bootstrap data.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var wo;function Xd(){return wo||(wo=1,function(t,e){(function(n,r){t.exports=r()})(dt,function(){const n=new Map;return{set(i,a,s){n.has(i)||n.set(i,new Map);const o=n.get(i);if(!o.has(a)&&o.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(o.keys())[0]}.`);return}o.set(a,s)},get(i,a){return n.has(i)&&n.get(i).get(a)||null},remove(i,a){if(!n.has(i))return;const s=n.get(i);s.delete(a),s.size===0&&n.delete(i)}}})}(Ha)),Ha.exports}var Ga={exports:{}},Ji={exports:{}};/*!
  * Bootstrap index.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var ko;function Xn(){return ko||(ko=1,function(t,e){(function(n,r){r(e)})(dt,function(n){const a="transitionend",s=k=>(k&&window.CSS&&window.CSS.escape&&(k=k.replace(/#([^\s"#']+)/g,(A,I)=>`#${CSS.escape(I)}`)),k),o=k=>k==null?`${k}`:Object.prototype.toString.call(k).match(/\s([a-z]+)/i)[1].toLowerCase(),l=k=>{do k+=Math.floor(Math.random()*1e6);while(document.getElementById(k));return k},c=k=>{if(!k)return 0;let{transitionDuration:A,transitionDelay:I}=window.getComputedStyle(k);const M=Number.parseFloat(A),q=Number.parseFloat(I);return!M&&!q?0:(A=A.split(",")[0],I=I.split(",")[0],(Number.parseFloat(A)+Number.parseFloat(I))*1e3)},u=k=>{k.dispatchEvent(new Event(a))},d=k=>!k||typeof k!="object"?!1:(typeof k.jquery<"u"&&(k=k[0]),typeof k.nodeType<"u"),h=k=>d(k)?k.jquery?k[0]:k:typeof k=="string"&&k.length>0?document.querySelector(s(k)):null,b=k=>{if(!d(k)||k.getClientRects().length===0)return!1;const A=getComputedStyle(k).getPropertyValue("visibility")==="visible",I=k.closest("details:not([open])");if(!I)return A;if(I!==k){const M=k.closest("summary");if(M&&M.parentNode!==I||M===null)return!1}return A},p=k=>!k||k.nodeType!==Node.ELEMENT_NODE||k.classList.contains("disabled")?!0:typeof k.disabled<"u"?k.disabled:k.hasAttribute("disabled")&&k.getAttribute("disabled")!=="false",_=k=>{if(!document.documentElement.attachShadow)return null;if(typeof k.getRootNode=="function"){const A=k.getRootNode();return A instanceof ShadowRoot?A:null}return k instanceof ShadowRoot?k:k.parentNode?_(k.parentNode):null},g=()=>{},v=k=>{k.offsetHeight},w=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,S=[],E=k=>{document.readyState==="loading"?(S.length||document.addEventListener("DOMContentLoaded",()=>{for(const A of S)A()}),S.push(k)):k()},L=()=>document.documentElement.dir==="rtl",T=k=>{E(()=>{const A=w();if(A){const I=k.NAME,M=A.fn[I];A.fn[I]=k.jQueryInterface,A.fn[I].Constructor=k,A.fn[I].noConflict=()=>(A.fn[I]=M,k.jQueryInterface)}})},P=(k,A=[],I=k)=>typeof k=="function"?k(...A):I,O=(k,A,I=!0)=>{if(!I){P(k);return}const q=c(A)+5;let W=!1;const D=({target:x})=>{x===A&&(W=!0,A.removeEventListener(a,D),P(k))};A.addEventListener(a,D),setTimeout(()=>{W||u(A)},q)},B=(k,A,I,M)=>{const q=k.length;let W=k.indexOf(A);return W===-1?!I&&M?k[q-1]:k[0]:(W+=I?1:-1,M&&(W=(W+q)%q),k[Math.max(0,Math.min(W,q-1))])};n.defineJQueryPlugin=T,n.execute=P,n.executeAfterTransition=O,n.findShadowRoot=_,n.getElement=h,n.getNextActiveElement=B,n.getTransitionDurationFromElement=c,n.getUID=l,n.getjQuery=w,n.isDisabled=p,n.isElement=d,n.isRTL=L,n.isVisible=b,n.noop=g,n.onDOMContentLoaded=E,n.parseSelector=s,n.reflow=v,n.toType=o,n.triggerTransitionEnd=u,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})})}(Ji,Ji.exports)),Ji.exports}/*!
  * Bootstrap event-handler.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var To;function Jr(){return To||(To=1,function(t,e){(function(n,r){t.exports=r(Xn())})(dt,function(n){const r=/[^.]*(?=\..*)\.|.*/,i=/\..*/,a=/::\d+$/,s={};let o=1;const l={mouseenter:"mouseover",mouseleave:"mouseout"},c=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function u(T,P){return P&&`${P}::${o++}`||T.uidEvent||o++}function d(T){const P=u(T);return T.uidEvent=P,s[P]=s[P]||{},s[P]}function h(T,P){return function O(B){return L(B,{delegateTarget:T}),O.oneOff&&E.off(T,B.type,P),P.apply(T,[B])}}function b(T,P,O){return function B(k){const A=T.querySelectorAll(P);for(let{target:I}=k;I&&I!==this;I=I.parentNode)for(const M of A)if(M===I)return L(k,{delegateTarget:I}),B.oneOff&&E.off(T,k.type,P,O),O.apply(I,[k])}}function p(T,P,O=null){return Object.values(T).find(B=>B.callable===P&&B.delegationSelector===O)}function _(T,P,O){const B=typeof P=="string",k=B?O:P||O;let A=S(T);return c.has(A)||(A=T),[B,k,A]}function g(T,P,O,B,k){if(typeof P!="string"||!T)return;let[A,I,M]=_(P,O,B);P in l&&(I=(H=>function(V){if(!V.relatedTarget||V.relatedTarget!==V.delegateTarget&&!V.delegateTarget.contains(V.relatedTarget))return H.call(this,V)})(I));const q=d(T),W=q[M]||(q[M]={}),D=p(W,I,A?O:null);if(D){D.oneOff=D.oneOff&&k;return}const x=u(I,P.replace(r,"")),R=A?b(T,O,I):h(T,I);R.delegationSelector=A?O:null,R.callable=I,R.oneOff=k,R.uidEvent=x,W[x]=R,T.addEventListener(M,R,A)}function v(T,P,O,B,k){const A=p(P[O],B,k);A&&(T.removeEventListener(O,A,!!k),delete P[O][A.uidEvent])}function w(T,P,O,B){const k=P[O]||{};for(const[A,I]of Object.entries(k))A.includes(B)&&v(T,P,O,I.callable,I.delegationSelector)}function S(T){return T=T.replace(i,""),l[T]||T}const E={on(T,P,O,B){g(T,P,O,B,!1)},one(T,P,O,B){g(T,P,O,B,!0)},off(T,P,O,B){if(typeof P!="string"||!T)return;const[k,A,I]=_(P,O,B),M=I!==P,q=d(T),W=q[I]||{},D=P.startsWith(".");if(typeof A<"u"){if(!Object.keys(W).length)return;v(T,q,I,A,k?O:null);return}if(D)for(const x of Object.keys(q))w(T,q,x,P.slice(1));for(const[x,R]of Object.entries(W)){const Q=x.replace(a,"");(!M||P.includes(Q))&&v(T,q,I,R.callable,R.delegationSelector)}},trigger(T,P,O){if(typeof P!="string"||!T)return null;const B=n.getjQuery(),k=S(P),A=P!==k;let I=null,M=!0,q=!0,W=!1;A&&B&&(I=B.Event(P,O),B(T).trigger(I),M=!I.isPropagationStopped(),q=!I.isImmediatePropagationStopped(),W=I.isDefaultPrevented());const D=L(new Event(P,{bubbles:M,cancelable:!0}),O);return W&&D.preventDefault(),q&&T.dispatchEvent(D),D.defaultPrevented&&I&&I.preventDefault(),D}};function L(T,P={}){for(const[O,B]of Object.entries(P))try{T[O]=B}catch{Object.defineProperty(T,O,{configurable:!0,get(){return B}})}return T}return E})}(Ga)),Ga.exports}var Za={exports:{}},Ya={exports:{}};/*!
  * Bootstrap manipulator.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Po;function Fs(){return Po||(Po=1,function(t,e){(function(n,r){t.exports=r()})(dt,function(){function n(a){if(a==="true")return!0;if(a==="false")return!1;if(a===Number(a).toString())return Number(a);if(a===""||a==="null")return null;if(typeof a!="string")return a;try{return JSON.parse(decodeURIComponent(a))}catch{return a}}function r(a){return a.replace(/[A-Z]/g,s=>`-${s.toLowerCase()}`)}return{setDataAttribute(a,s,o){a.setAttribute(`data-bs-${r(s)}`,o)},removeDataAttribute(a,s){a.removeAttribute(`data-bs-${r(s)}`)},getDataAttributes(a){if(!a)return{};const s={},o=Object.keys(a.dataset).filter(l=>l.startsWith("bs")&&!l.startsWith("bsConfig"));for(const l of o){let c=l.replace(/^bs/,"");c=c.charAt(0).toLowerCase()+c.slice(1,c.length),s[c]=n(a.dataset[l])}return s},getDataAttribute(a,s){return n(a.getAttribute(`data-bs-${r(s)}`))}}})}(Ya)),Ya.exports}/*!
  * Bootstrap config.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Eo;function Hs(){return Eo||(Eo=1,function(t,e){(function(n,r){t.exports=r(Fs(),Xn())})(dt,function(n,r){class i{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(s){return s=this._mergeConfigObj(s),s=this._configAfterMerge(s),this._typeCheckConfig(s),s}_configAfterMerge(s){return s}_mergeConfigObj(s,o){const l=r.isElement(o)?n.getDataAttribute(o,"config"):{};return{...this.constructor.Default,...typeof l=="object"?l:{},...r.isElement(o)?n.getDataAttributes(o):{},...typeof s=="object"?s:{}}}_typeCheckConfig(s,o=this.constructor.DefaultType){for(const[l,c]of Object.entries(o)){const u=s[l],d=r.isElement(u)?"element":r.toType(u);if(!new RegExp(c).test(d))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${l}" provided type "${d}" but expected type "${c}".`)}}}return i})}(Za)),Za.exports}/*!
  * Bootstrap base-component.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var So;function nu(){return So||(So=1,function(t,e){(function(n,r){t.exports=r(Xd(),Jr(),Hs(),Xn())})(dt,function(n,r,i,a){const s="5.3.3";class o extends i{constructor(c,u){super(),c=a.getElement(c),c&&(this._element=c,this._config=this._getConfig(u),n.set(this._element,this.constructor.DATA_KEY,this))}dispose(){n.remove(this._element,this.constructor.DATA_KEY),r.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,u,d=!0){a.executeAfterTransition(c,u,d)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return n.get(a.getElement(c),this.DATA_KEY)}static getOrCreateInstance(c,u={}){return this.getInstance(c)||new this(c,typeof u=="object"?u:null)}static get VERSION(){return s}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}return o})}(Fa)),Fa.exports}var Ka={exports:{}};/*!
  * Bootstrap selector-engine.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Ao;function Hi(){return Ao||(Ao=1,function(t,e){(function(n,r){t.exports=r(Xn())})(dt,function(n){const r=a=>{let s=a.getAttribute("data-bs-target");if(!s||s==="#"){let o=a.getAttribute("href");if(!o||!o.includes("#")&&!o.startsWith("."))return null;o.includes("#")&&!o.startsWith("#")&&(o=`#${o.split("#")[1]}`),s=o&&o!=="#"?o.trim():null}return s?s.split(",").map(o=>n.parseSelector(o)).join(","):null},i={find(a,s=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(s,a))},findOne(a,s=document.documentElement){return Element.prototype.querySelector.call(s,a)},children(a,s){return[].concat(...a.children).filter(o=>o.matches(s))},parents(a,s){const o=[];let l=a.parentNode.closest(s);for(;l;)o.push(l),l=l.parentNode.closest(s);return o},prev(a,s){let o=a.previousElementSibling;for(;o;){if(o.matches(s))return[o];o=o.previousElementSibling}return[]},next(a,s){let o=a.nextElementSibling;for(;o;){if(o.matches(s))return[o];o=o.nextElementSibling}return[]},focusableChildren(a){const s=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(o=>`${o}:not([tabindex^="-"])`).join(",");return this.find(s,a).filter(o=>!n.isDisabled(o)&&n.isVisible(o))},getSelectorFromElement(a){const s=r(a);return s&&i.findOne(s)?s:null},getElementFromSelector(a){const s=r(a);return s?i.findOne(s):null},getMultipleElementsFromSelector(a){const s=r(a);return s?i.find(s):[]}};return i})}(Ka)),Ka.exports}/*!
  * Bootstrap dropdown.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r(Jd,nu(),Jr(),Fs(),Hi(),Xn())})(dt,function(n,r,i,a,s,o){function l(De){const ne=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(De){for(const Te in De)if(Te!=="default"){const Ce=Object.getOwnPropertyDescriptor(De,Te);Object.defineProperty(ne,Te,Ce.get?Ce:{enumerable:!0,get:()=>De[Te]})}}return ne.default=De,Object.freeze(ne)}const c=l(n),u="dropdown",h=".bs.dropdown",b=".data-api",p="Escape",_="Tab",g="ArrowUp",v="ArrowDown",w=2,S=`hide${h}`,E=`hidden${h}`,L=`show${h}`,T=`shown${h}`,P=`click${h}${b}`,O=`keydown${h}${b}`,B=`keyup${h}${b}`,k="show",A="dropup",I="dropend",M="dropstart",q="dropup-center",W="dropdown-center",D='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',x=`${D}.${k}`,R=".dropdown-menu",Q=".navbar",H=".navbar-nav",V=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",$=o.isRTL()?"top-end":"top-start",z=o.isRTL()?"top-start":"top-end",F=o.isRTL()?"bottom-end":"bottom-start",j=o.isRTL()?"bottom-start":"bottom-end",ie=o.isRTL()?"left-start":"right-start",se=o.isRTL()?"right-start":"left-start",fe="top",Me="bottom",me={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},$e={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ae extends r{constructor(ne,Te){super(ne,Te),this._popper=null,this._parent=this._element.parentNode,this._menu=s.next(this._element,R)[0]||s.prev(this._element,R)[0]||s.findOne(R,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return me}static get DefaultType(){return $e}static get NAME(){return u}toggle(){return this._isShown()?this.hide():this.show()}show(){if(o.isDisabled(this._element)||this._isShown())return;const ne={relatedTarget:this._element};if(!i.trigger(this._element,L,ne).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(H))for(const Ce of[].concat(...document.body.children))i.on(Ce,"mouseover",o.noop);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(k),this._element.classList.add(k),i.trigger(this._element,T,ne)}}hide(){if(o.isDisabled(this._element)||!this._isShown())return;const ne={relatedTarget:this._element};this._completeHide(ne)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(ne){if(!i.trigger(this._element,S,ne).defaultPrevented){if("ontouchstart"in document.documentElement)for(const Ce of[].concat(...document.body.children))i.off(Ce,"mouseover",o.noop);this._popper&&this._popper.destroy(),this._menu.classList.remove(k),this._element.classList.remove(k),this._element.setAttribute("aria-expanded","false"),a.removeDataAttribute(this._menu,"popper"),i.trigger(this._element,E,ne)}}_getConfig(ne){if(ne=super._getConfig(ne),typeof ne.reference=="object"&&!o.isElement(ne.reference)&&typeof ne.reference.getBoundingClientRect!="function")throw new TypeError(`${u.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return ne}_createPopper(){if(typeof c>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let ne=this._element;this._config.reference==="parent"?ne=this._parent:o.isElement(this._config.reference)?ne=o.getElement(this._config.reference):typeof this._config.reference=="object"&&(ne=this._config.reference);const Te=this._getPopperConfig();this._popper=c.createPopper(ne,this._menu,Te)}_isShown(){return this._menu.classList.contains(k)}_getPlacement(){const ne=this._parent;if(ne.classList.contains(I))return ie;if(ne.classList.contains(M))return se;if(ne.classList.contains(q))return fe;if(ne.classList.contains(W))return Me;const Te=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return ne.classList.contains(A)?Te?z:$:Te?j:F}_detectNavbar(){return this._element.closest(Q)!==null}_getOffset(){const{offset:ne}=this._config;return typeof ne=="string"?ne.split(",").map(Te=>Number.parseInt(Te,10)):typeof ne=="function"?Te=>ne(Te,this._element):ne}_getPopperConfig(){const ne={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(a.setDataAttribute(this._menu,"popper","static"),ne.modifiers=[{name:"applyStyles",enabled:!1}]),{...ne,...o.execute(this._config.popperConfig,[ne])}}_selectMenuItem({key:ne,target:Te}){const Ce=s.find(V,this._menu).filter(Pe=>o.isVisible(Pe));Ce.length&&o.getNextActiveElement(Ce,Te,ne===v,!Ce.includes(Te)).focus()}static jQueryInterface(ne){return this.each(function(){const Te=Ae.getOrCreateInstance(this,ne);if(typeof ne=="string"){if(typeof Te[ne]>"u")throw new TypeError(`No method named "${ne}"`);Te[ne]()}})}static clearMenus(ne){if(ne.button===w||ne.type==="keyup"&&ne.key!==_)return;const Te=s.find(x);for(const Ce of Te){const Pe=Ae.getInstance(Ce);if(!Pe||Pe._config.autoClose===!1)continue;const We=ne.composedPath(),Be=We.includes(Pe._menu);if(We.includes(Pe._element)||Pe._config.autoClose==="inside"&&!Be||Pe._config.autoClose==="outside"&&Be||Pe._menu.contains(ne.target)&&(ne.type==="keyup"&&ne.key===_||/input|select|option|textarea|form/i.test(ne.target.tagName)))continue;const ge={relatedTarget:Pe._element};ne.type==="click"&&(ge.clickEvent=ne),Pe._completeHide(ge)}}static dataApiKeydownHandler(ne){const Te=/input|textarea/i.test(ne.target.tagName),Ce=ne.key===p,Pe=[g,v].includes(ne.key);if(!Pe&&!Ce||Te&&!Ce)return;ne.preventDefault();const We=this.matches(D)?this:s.prev(this,D)[0]||s.next(this,D)[0]||s.findOne(D,ne.delegateTarget.parentNode),Be=Ae.getOrCreateInstance(We);if(Pe){ne.stopPropagation(),Be.show(),Be._selectMenuItem(ne);return}Be._isShown()&&(ne.stopPropagation(),Be.hide(),We.focus())}}return i.on(document,O,D,Ae.dataApiKeydownHandler),i.on(document,O,R,Ae.dataApiKeydownHandler),i.on(document,P,Ae.clearMenus),i.on(document,B,Ae.clearMenus),i.on(document,P,D,function(De){De.preventDefault(),Ae.getOrCreateInstance(this).toggle()}),o.defineJQueryPlugin(Ae),Ae})})(tu);var ef=tu.exports;const ys=qi(ef);function gt(){}function Hr(t,e){for(const n in e)t[n]=e[n];return t}function ru(t){return t()}function Do(){return Object.create(null)}function st(t){t.forEach(ru)}function Gs(t){return typeof t=="function"}function _t(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Xi;function Oo(t,e){return t===e?!0:(Xi||(Xi=document.createElement("a")),Xi.href=e,t===Xi.href)}function tf(t){return Object.keys(t).length===0}function Zs(t,...e){if(t==null){for(const r of e)r(void 0);return gt}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function nf(t){let e;return Zs(t,n=>e=n)(),e}function Ke(t,e,n){t.$$.on_destroy.push(Zs(e,n))}function Si(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Lo(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function f(t,e){t.appendChild(e)}function Z(t,e,n){t.insertBefore(e,n||null)}function G(t){t.parentNode&&t.parentNode.removeChild(t)}function kn(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function Y(t){return document.createTextNode(t)}function C(){return Y(" ")}function er(){return Y("")}function K(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ut(t){return t===""?null:+t}function rf(t){return Array.from(t.childNodes)}function re(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ee(t,e){t.value=e??""}function yn(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Pt(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function xn(t){const e=t.querySelector(":checked");return e&&e.__value}let Ai;function Ei(t){Ai=t}function iu(){if(!Ai)throw new Error("Function called outside component initialization");return Ai}function Xr(t){iu().$$.on_mount.push(t)}function Ys(t){iu().$$.on_destroy.push(t)}const Mr=[],Pr=[];let Rr=[];const Co=[],au=Promise.resolve();let ws=!1;function su(){ws||(ws=!0,au.then(lu))}function ou(){return su(),au}function dn(t){Rr.push(t)}const Qa=new Set;let Ir=0;function lu(){if(Ir!==0)return;const t=Ai;do{try{for(;Ir<Mr.length;){const e=Mr[Ir];Ir++,Ei(e),af(e.$$)}}catch(e){throw Mr.length=0,Ir=0,e}for(Ei(null),Mr.length=0,Ir=0;Pr.length;)Pr.pop()();for(let e=0;e<Rr.length;e+=1){const n=Rr[e];Qa.has(n)||(Qa.add(n),n())}Rr.length=0}while(Mr.length);for(;Co.length;)Co.pop()();ws=!1,Qa.clear(),Ei(t)}function af(t){if(t.fragment!==null){t.update(),st(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(dn)}}function sf(t){const e=[],n=[];Rr.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Rr=e}const aa=new Set;let gr;function Qe(){gr={r:0,c:[],p:gr}}function Je(){gr.r||st(gr.c),gr=gr.p}function N(t,e){t&&t.i&&(aa.delete(t),t.i(e))}function U(t,e,n,r){if(t&&t.o){if(aa.has(t))return;aa.add(t),gr.c.push(()=>{aa.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function lt(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function te(t){t&&t.c()}function X(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),dn(()=>{const a=t.$$.on_mount.map(ru).filter(Gs);t.$$.on_destroy?t.$$.on_destroy.push(...a):st(a),t.$$.on_mount=[]}),i.forEach(dn)}function ee(t,e){const n=t.$$;n.fragment!==null&&(sf(n.after_update),st(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function of(t,e){t.$$.dirty[0]===-1&&(Mr.push(t),su(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function vt(t,e,n,r,i,a,s=null,o=[-1]){const l=Ai;Ei(t);const c=t.$$={fragment:null,ctx:[],props:a,update:gt,not_equal:i,bound:Do(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Do(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};s&&s(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(d,h,...b)=>{const p=b.length?b[0]:h;return c.ctx&&i(c.ctx[d],c.ctx[d]=p)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](p),u&&of(t,d)),h}):[],c.update(),u=!0,st(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const d=rf(e.target);c.fragment&&c.fragment.l(d),d.forEach(G)}else c.fragment&&c.fragment.c();e.intro&&N(t.$$.fragment),X(t,e.target,e.anchor),lu()}Ei(l)}class yt{constructor(){qa(this,"$$");qa(this,"$$set")}$destroy(){ee(this,1),this.$destroy=gt}$on(e,n){if(!Gs(n))return gt;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!tf(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const lf="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(lf);var Ja={},Xa={},si={},cu={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var b=new i(u,d||l,h),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],b]:l._events[p].push(b):(l._events[p]=b,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,b=d.length,p=new Array(b);h<b;h++)p[h]=d[h].fn;return p},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,b,p){var _=n?n+c:c;if(!this._events[_])return!1;var g=this._events[_],v=arguments.length,w,S;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,d),!0;case 4:return g.fn.call(g.context,u,d,h),!0;case 5:return g.fn.call(g.context,u,d,h,b),!0;case 6:return g.fn.call(g.context,u,d,h,b,p),!0}for(S=1,w=new Array(v-1);S<v;S++)w[S-1]=arguments[S];g.fn.apply(g.context,w)}else{var E=g.length,L;for(S=0;S<E;S++)switch(g[S].once&&this.removeListener(c,g[S].fn,void 0,!0),v){case 1:g[S].fn.call(g[S].context);break;case 2:g[S].fn.call(g[S].context,u);break;case 3:g[S].fn.call(g[S].context,u,d);break;case 4:g[S].fn.call(g[S].context,u,d,h);break;default:if(!w)for(L=1,w=new Array(v-1);L<v;L++)w[L-1]=arguments[L];g[S].fn.apply(g[S].context,w)}}return!0},o.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var b=n?n+c:c;if(!this._events[b])return this;if(!u)return s(this,b),this;var p=this._events[b];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&s(this,b);else{for(var _=0,g=[],v=p.length;_<v;_++)(p[_].fn!==u||h&&!p[_].once||d&&p[_].context!==d)&&g.push(p[_]);g.length?this._events[b]=g.length===1?g[0]:g:s(this,b)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(cu);var cf=cu.exports,uu={},ks=function(t,e){return ks=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ks(t,e)};function du(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ks(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var da=function(){return da=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},da.apply(this,arguments)};function fu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pu(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,n,a):s(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function hu(t,e){return function(n,r){e(n,r,t)}}function uf(t,e,n,r,i,a){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var o=r.kind,l=o==="getter"?"get":o==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,h=!1,b=n.length-1;b>=0;b--){var p={};for(var _ in r)p[_]=_==="access"?{}:r[_];for(var _ in r.access)p.access[_]=r.access[_];p.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(v||null))};var g=(0,n[b])(o==="accessor"?{get:u.get,set:u.set}:u[l],p);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(d=s(g.get))&&(u.get=d),(d=s(g.set))&&(u.set=d),(d=s(g.init))&&i.unshift(d)}else(d=s(g))&&(o==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),h=!0}function df(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function ff(t){return typeof t=="symbol"?t:"".concat(t)}function pf(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function _u(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function mu(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})}function bu(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Aa=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function gu(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Aa(e,t,n)}function fa(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ks(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function vu(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ks(arguments[e]));return t}function yu(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}function wu(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function Gr(t){return this instanceof Gr?(this.v=t,this):new Gr(t)}function ku(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(p){return Promise.resolve(p).then(b,d)}}function o(b,p){r[b]&&(i[b]=function(_){return new Promise(function(g,v){a.push([b,_,g,v])>1||l(b,_)})},p&&(i[b]=p(i[b])))}function l(b,p){try{c(r[b](p))}catch(_){h(a[0][3],_)}}function c(b){b.value instanceof Gr?Promise.resolve(b.value.v).then(u,d):h(a[0][2],b)}function u(b){l("next",b)}function d(b){l("throw",b)}function h(b,p){b(p),a.shift(),a.length&&l(a[0][0],a[0][1])}}function Tu(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,a){e[i]=t[i]?function(s){return(n=!n)?{value:Gr(t[i](s)),done:!1}:a?a(s):s}:a}}function Pu(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof fa=="function"?fa(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(o,l){s=t[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}}function Eu(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var hf=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function Su(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Aa(e,t,n);return hf(e,t),e}function Au(t){return t&&t.__esModule?t:{default:t}}function Du(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Ou(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function Lu(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Cu(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var _f=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function Iu(t){function e(a){t.error=t.hasError?new _f(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(s){return e(s),i()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}const mf={__extends:du,__assign:da,__rest:fu,__decorate:pu,__param:hu,__metadata:_u,__awaiter:mu,__generator:bu,__createBinding:Aa,__exportStar:gu,__values:fa,__read:Ks,__spread:vu,__spreadArrays:yu,__spreadArray:wu,__await:Gr,__asyncGenerator:ku,__asyncDelegator:Tu,__asyncValues:Pu,__makeTemplateObject:Eu,__importStar:Su,__importDefault:Au,__classPrivateFieldGet:Du,__classPrivateFieldSet:Ou,__classPrivateFieldIn:Lu,__addDisposableResource:Cu,__disposeResources:Iu},bf=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Cu,get __assign(){return da},__asyncDelegator:Tu,__asyncGenerator:ku,__asyncValues:Pu,__await:Gr,__awaiter:mu,__classPrivateFieldGet:Du,__classPrivateFieldIn:Lu,__classPrivateFieldSet:Ou,__createBinding:Aa,__decorate:pu,__disposeResources:Iu,__esDecorate:uf,__exportStar:gu,__extends:du,__generator:bu,__importDefault:Au,__importStar:Su,__makeTemplateObject:Eu,__metadata:_u,__param:hu,__propKey:ff,__read:Ks,__rest:fu,__runInitializers:df,__setFunctionName:pf,__spread:vu,__spreadArray:wu,__spreadArrays:yu,__values:fa,default:mf},Symbol.toStringTag,{value:"Module"})),Da=Ta(bf);var Qs={},Oa={},Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.E_CANCELED=Dn.E_ALREADY_LOCKED=Dn.E_TIMEOUT=void 0;Dn.E_TIMEOUT=new Error("timeout while waiting for mutex to become available");Dn.E_ALREADY_LOCKED=new Error("mutex already locked");Dn.E_CANCELED=new Error("request for lock canceled");Object.defineProperty(Oa,"__esModule",{value:!0});var Io=Da,gf=Dn,vf=function(){function t(e,n){n===void 0&&(n=gf.E_CANCELED),this._value=e,this._cancelError=n,this._queue=[],this._weightedWaiters=[]}return t.prototype.acquire=function(e,n){var r=this;if(e===void 0&&(e=1),n===void 0&&(n=0),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));return new Promise(function(i,a){var s={resolve:i,reject:a,weight:e,priority:n},o=Bu(r._queue,function(l){return n<=l.priority});o===-1&&e<=r._value?r._dispatchItem(s):r._queue.splice(o+1,0,s)})},t.prototype.runExclusive=function(e){return Io.__awaiter(this,arguments,void 0,function(n,r,i){var a,s,o;return r===void 0&&(r=1),i===void 0&&(i=0),Io.__generator(this,function(l){switch(l.label){case 0:return[4,this.acquire(r,i)];case 1:a=l.sent(),s=a[0],o=a[1],l.label=2;case 2:return l.trys.push([2,,4,5]),[4,n(s)];case 3:return[2,l.sent()];case 4:return o(),[7];case 5:return[2]}})})},t.prototype.waitForUnlock=function(e,n){var r=this;if(e===void 0&&(e=1),n===void 0&&(n=0),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));return this._couldLockImmediately(e,n)?Promise.resolve():new Promise(function(i){r._weightedWaiters[e-1]||(r._weightedWaiters[e-1]=[]),yf(r._weightedWaiters[e-1],{resolve:i,priority:n})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.getValue=function(){return this._value},t.prototype.setValue=function(e){this._value=e,this._dispatchQueue()},t.prototype.release=function(e){if(e===void 0&&(e=1),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));this._value+=e,this._dispatchQueue()},t.prototype.cancel=function(){var e=this;this._queue.forEach(function(n){return n.reject(e._cancelError)}),this._queue=[]},t.prototype._dispatchQueue=function(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()},t.prototype._dispatchItem=function(e){var n=this._value;this._value-=e.weight,e.resolve([n,this._newReleaser(e.weight)])},t.prototype._newReleaser=function(e){var n=this,r=!1;return function(){r||(r=!0,n.release(e))}},t.prototype._drainUnlockWaiters=function(){if(this._queue.length===0)for(var e=this._value;e>0;e--){var n=this._weightedWaiters[e-1];n&&(n.forEach(function(a){return a.resolve()}),this._weightedWaiters[e-1]=[])}else for(var r=this._queue[0].priority,e=this._value;e>0;e--){var n=this._weightedWaiters[e-1];if(n){var i=n.findIndex(function(o){return o.priority<=r});(i===-1?n:n.splice(0,i)).forEach(function(o){return o.resolve()})}}},t.prototype._couldLockImmediately=function(e,n){return(this._queue.length===0||this._queue[0].priority<n)&&e<=this._value},t}();function yf(t,e){var n=Bu(t,function(r){return e.priority<=r.priority});t.splice(n+1,0,e)}function Bu(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return n;return-1}Oa.default=vf;Object.defineProperty(Qs,"__esModule",{value:!0});var Bo=Da,wf=Oa,kf=function(){function t(e){this._semaphore=new wf.default(1,e)}return t.prototype.acquire=function(){return Bo.__awaiter(this,arguments,void 0,function(e){var n,r;return e===void 0&&(e=0),Bo.__generator(this,function(i){switch(i.label){case 0:return[4,this._semaphore.acquire(1,e)];case 1:return n=i.sent(),r=n[1],[2,r]}})})},t.prototype.runExclusive=function(e,n){return n===void 0&&(n=0),this._semaphore.runExclusive(function(){return e()},1,n)},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.waitForUnlock=function(e){return e===void 0&&(e=0),this._semaphore.waitForUnlock(1,e)},t.prototype.release=function(){this._semaphore.isLocked()&&this._semaphore.release()},t.prototype.cancel=function(){return this._semaphore.cancel()},t}();Qs.default=kf;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.withTimeout=void 0;var ea=Da,Tf=Dn;function Pf(t,e,n){var r=this;return n===void 0&&(n=Tf.E_TIMEOUT),{acquire:function(i,a){var s;if(ta(t)?s=i:(s=void 0,a=i),s!==void 0&&s<=0)throw new Error("invalid weight ".concat(s,": must be positive"));return new Promise(function(o,l){return ea.__awaiter(r,void 0,void 0,function(){var c,u,d,h,b;return ea.__generator(this,function(p){switch(p.label){case 0:c=!1,u=setTimeout(function(){c=!0,l(n)},e),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,ta(t)?t.acquire(s,a):t.acquire(a)];case 2:return d=p.sent(),c?(h=Array.isArray(d)?d[1]:d,h()):(clearTimeout(u),o(d)),[3,4];case 3:return b=p.sent(),c||(clearTimeout(u),l(b)),[3,4];case 4:return[2]}})})})},runExclusive:function(i,a,s){return ea.__awaiter(this,void 0,void 0,function(){var o,l;return ea.__generator(this,function(c){switch(c.label){case 0:o=function(){},c.label=1;case 1:return c.trys.push([1,,7,8]),[4,this.acquire(a,s)];case 2:return l=c.sent(),Array.isArray(l)?(o=l[1],[4,i(l[0])]):[3,4];case 3:return[2,c.sent()];case 4:return o=l,[4,i()];case 5:return[2,c.sent()];case 6:return[3,8];case 7:return o(),[7];case 8:return[2]}})})},release:function(i){t.release(i)},cancel:function(){return t.cancel()},waitForUnlock:function(i,a){var s;if(ta(t)?s=i:(s=void 0,a=i),s!==void 0&&s<=0)throw new Error("invalid weight ".concat(s,": must be positive"));return new Promise(function(o,l){var c=setTimeout(function(){return l(n)},e);(ta(t)?t.waitForUnlock(s,a):t.waitForUnlock(a)).then(function(){clearTimeout(c),o()})})},isLocked:function(){return t.isLocked()},getValue:function(){return t.getValue()},setValue:function(i){return t.setValue(i)}}}Gi.withTimeout=Pf;function ta(t){return t.getValue!==void 0}var La={};Object.defineProperty(La,"__esModule",{value:!0});La.tryAcquire=void 0;var Ef=Dn,Sf=Gi;function Af(t,e){return e===void 0&&(e=Ef.E_ALREADY_LOCKED),(0,Sf.withTimeout)(t,0,e)}La.tryAcquire=Af;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.tryAcquire=t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Da,n=Qs;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return n.default}});var r=Oa;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var i=Gi;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return i.withTimeout}});var a=La;Object.defineProperty(t,"tryAcquire",{enumerable:!0,get:function(){return a.tryAcquire}}),e.__exportStar(Dn,t)})(uu);var es={},oi={},an={};/*! Capacitor: https://capacitorjs.com/ - MIT License */const Df=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},r=(a,s)=>{n.platforms.set(a,s)},i=a=>{n.platforms.has(a)&&(n.currentPlatform=n.platforms.get(a))};return n.addPlatform=r,n.setPlatform=i,n},Of=t=>t.CapacitorPlatforms=Df(t),Js=Of(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Lf=Js.addPlatform,Cf=Js.setPlatform,If=(t,e)=>{var n;const r=e.config,i=t.Plugins;if(!(r!=null&&r.name))throw new Error('Capacitor WebPlugin is using the deprecated "registerWebPlugin()" function, but without the config. Please use "registerPlugin()" instead to register this web plugin."');console.warn(`Capacitor plugin "${r.name}" is using the deprecated "registerWebPlugin()" function`),(!i[r.name]||!((n=r==null?void 0:r.platforms)===null||n===void 0)&&n.includes(t.getPlatform()))&&(i[r.name]=e)};var Er;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Er||(Er={}));class sa extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const Bf=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Nf=t=>{var e,n,r,i,a;const s=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},l=o.Plugins=o.Plugins||{},c=t.CapacitorPlatforms,u=()=>s!==null?s.name:Bf(t),d=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||u,h=()=>d()!=="web",b=((n=c==null?void 0:c.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||h,p=P=>{const O=E.get(P);return!!(O!=null&&O.platforms.has(d())||v(P))},_=((r=c==null?void 0:c.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||p,g=P=>{var O;return(O=o.PluginHeaders)===null||O===void 0?void 0:O.find(B=>B.name===P)},v=((i=c==null?void 0:c.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||g,w=P=>t.console.error(P),S=(P,O,B)=>Promise.reject(`${B} does not have an implementation of "${O}".`),E=new Map,L=(P,O={})=>{const B=E.get(P);if(B)return console.warn(`Capacitor plugin "${P}" already registered. Cannot register plugins twice.`),B.proxy;const k=d(),A=v(P);let I;const M=async()=>(!I&&k in O?I=typeof O[k]=="function"?I=await O[k]():I=O[k]:s!==null&&!I&&"web"in O&&(I=typeof O.web=="function"?I=await O.web():I=O.web),I),q=(H,V)=>{var $,z;if(A){const F=A==null?void 0:A.methods.find(j=>V===j.name);if(F)return F.rtype==="promise"?j=>o.nativePromise(P,V.toString(),j):(j,ie)=>o.nativeCallback(P,V.toString(),j,ie);if(H)return($=H[V])===null||$===void 0?void 0:$.bind(H)}else{if(H)return(z=H[V])===null||z===void 0?void 0:z.bind(H);throw new sa(`"${P}" plugin is not implemented on ${k}`,Er.Unimplemented)}},W=H=>{let V;const $=(...z)=>{const F=M().then(j=>{const ie=q(j,H);if(ie){const se=ie(...z);return V=se==null?void 0:se.remove,se}else throw new sa(`"${P}.${H}()" is not implemented on ${k}`,Er.Unimplemented)});return H==="addListener"&&(F.remove=async()=>V()),F};return $.toString=()=>`${H.toString()}() { [capacitor code] }`,Object.defineProperty($,"name",{value:H,writable:!1,configurable:!1}),$},D=W("addListener"),x=W("removeListener"),R=(H,V)=>{const $=D({eventName:H},V),z=async()=>{const j=await $;x({eventName:H,callbackId:j},V)},F=new Promise(j=>$.then(()=>j({remove:z})));return F.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await z()},F},Q=new Proxy({},{get(H,V){switch(V){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return A?R:D;case"removeListener":return x;default:return W(V)}}});return l[P]=Q,E.set(P,{name:P,proxy:Q,platforms:new Set([...Object.keys(O),...A?[k]:[]])}),Q},T=((a=c==null?void 0:c.currentPlatform)===null||a===void 0?void 0:a.registerPlugin)||L;return o.convertFileSrc||(o.convertFileSrc=P=>P),o.getPlatform=d,o.handleError=w,o.isNativePlatform=b,o.isPluginAvailable=_,o.pluginMethodNoop=S,o.registerPlugin=T,o.Exception=sa,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},Mf=t=>t.Capacitor=Nf(t),Kn=Mf(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ei=Kn.registerPlugin,xf=Kn.Plugins,jf=t=>If(Kn,t);class Xs{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const a=this.windowListeners[e];a&&!a.registered&&this.addWindowListener(a),r&&this.sendRetainedArgumentsForEvent(e);const s=async()=>this.removeListener(e,n);return Promise.resolve({remove:s})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const i=this.listeners[e];if(!i){if(r){let a=this.retainedEventArguments[e];a||(a=[]),a.push(n),this.retainedEventArguments[e]=a}return}i.forEach(a=>a(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Kn.Exception(e,Er.Unimplemented)}unavailable(e="not available"){return new Kn.Exception(e,Er.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const i=r.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const Rf=ei("WebView"),No=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Mo=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class $f extends Xs{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,a]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=Mo(i).trim(),a=Mo(a).trim(),n[i]=a}),n}async setCookie(e){try{const n=No(e.key),r=No(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,a=(e.path||"/").replace("path=",""),s=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${a}; ${s};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}const Uf=ei("CapacitorCookies",{web:()=>new $f}),Vf=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(t)}),zf=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,a,s)=>(i[a]=t[e[s]],i),{})},Wf=(t,e=!0)=>t?Object.entries(t).reduce((r,i)=>{const[a,s]=i;let o,l;return Array.isArray(s)?(l="",s.forEach(c=>{o=e?encodeURIComponent(c):c,l+=`${a}=${o}&`}),l.slice(0,-1)):(o=e?encodeURIComponent(s):s,l=`${a}=${o}`),`${r}&${l}`},"").substr(1):null,Nu=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=zf(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[s,o]of Object.entries(t.data||{}))a.set(s,o);n.body=a.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const a=new FormData;if(t.data instanceof FormData)t.data.forEach((o,l)=>{a.append(l,o)});else for(const o of Object.keys(t.data))a.append(o,t.data[o]);n.body=a;const s=new Headers(n.headers);s.delete("content-type"),n.headers=s}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class qf extends Xs{async request(e){const n=Nu(e,e.webFetchExtra),r=Wf(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,a=await fetch(i,n),s=a.headers.get("content-type")||"";let{responseType:o="text"}=a.ok?e:{};s.includes("application/json")&&(o="json");let l,c;switch(o){case"arraybuffer":case"blob":c=await a.blob(),l=await Vf(c);break;case"json":l=await a.json();break;case"document":case"text":default:l=await a.text()}const u={};return a.headers.forEach((d,h)=>{u[h]=d}),{data:l,headers:u,status:a.status,url:a.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}const Ff=ei("CapacitorHttp",{web:()=>new qf}),Hf=Object.freeze(Object.defineProperty({__proto__:null,Capacitor:Kn,CapacitorCookies:Uf,CapacitorException:sa,CapacitorHttp:Ff,CapacitorPlatforms:Js,get ExceptionCode(){return Er},Plugins:xf,WebPlugin:Xs,WebView:Rf,addPlatform:Lf,buildRequestInit:Nu,registerPlugin:ei,registerWebPlugin:jf,setPlatform:Cf},Symbol.toStringTag,{value:"Module"})),Gf=Ta(Hf);Object.defineProperty(an,"__esModule",{value:!0});an.Validators=an.Utils=void 0;const Zf=Gf;class Ca{static numberToHex(e){const n=e.toString(16);return n.length===1?`0${n}`:n}static bufToHex(e,n=" "){return(e instanceof DataView?this.dataViewToNumberArray(e):Array.from(e)).map(i=>Ca.numberToHex(i)).join(n)}static hexToBuf(e){const n=e.match(/[\da-f]{2}/gi);return n?new Uint8Array(n.map(r=>parseInt(r,16))):new Uint8Array}static dataViewToNumberArray(e){const n=[];for(let r=0;r<e.byteLength;r++)n.push(e.getUint8(r));return n}static dataViewToU8Array(e){return Uint8Array.from(this.dataViewToNumberArray(e))}static u8ArrayToString(e){return new TextDecoder().decode(e)}static countPixelsForBitmapPacket(e,n){let r=0,i=0,a=0,s=0,o=0;const l=n/3;return e.forEach(c=>{for(let u=7;u>=0;u--)(c&1<<u)!==0&&(o<l?i++:o<l*2?a++:s++,r++),o++}),{total:r,a:i,b:a,c:s}}static u16ToBytes(e){const n=e>>8&255,r=e%256&255;return[n,r]}static bytesToI16(e){return Mu.u8ArrayLengthEquals(e,2),e[0]*256+e[1]}static u8ArraysEqual(e,n){return e.length===n.length&&e.every((r,i)=>r===n[i])}static u8ArrayAppend(e,n){const r=new Uint8Array(e.length+n.length);return r.set(e,0),r.set(n,e.length),r}static sleep(e){return new Promise(n=>setTimeout(n,e))}static isBluetoothSupported(){var e;return typeof((e=navigator.bluetooth)==null?void 0:e.requestDevice)<"u"}static isSerialSupported(){var e;return typeof((e=navigator.serial)==null?void 0:e.requestPort)<"u"}static getAvailableTransports(){var e,n;return{capacitorBle:Zf.Capacitor.getPlatform()!=="web",webBluetooth:typeof((e=navigator.bluetooth)==null?void 0:e.requestDevice)<"u",webSerial:typeof((n=navigator.serial)==null?void 0:n.requestPort)<"u"}}}an.Utils=Ca;class Mu{static u8ArraysEqual(e,n,r){if(!Ca.u8ArraysEqual(e,n))throw new Error(r??"Arrays must be equal")}static u8ArrayLengthEquals(e,n,r){if(e.length!==n)throw new Error(r??`Array length must be ${n}`)}static u8ArrayLengthAtLeast(e,n,r){if(e.length<n)throw new Error(r??`Array length must be at least ${n}`)}}an.Validators=Mu;var xo;function Ia(){if(xo)return oi;xo=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.NiimbotPacket=void 0;const t=an,e=Yt();class n{constructor(i,a,s=[]){this._command=i,this._data=a instanceof Uint8Array?a:new Uint8Array(a),this._validResponseIds=s,this._oneWay=!1}get dataLength(){return this._data.length}get length(){return n.HEAD.length+1+1+this.dataLength+1+n.TAIL.length}set oneWay(i){this._oneWay=i}get oneWay(){return this._oneWay}get validResponseIds(){return this._validResponseIds}get command(){return this._command}get data(){return this._data}get checksum(){let i=0;return i^=this._command,i^=this._data.length,this._data.forEach(a=>i^=a),i}toBytes(){const i=new ArrayBuffer(n.HEAD.length+1+1+this._data.length+1+n.TAIL.length),a=new Uint8Array(i);let s=0;return a.set(n.HEAD,s),s+=n.HEAD.length,a[s]=this._command,s+=1,a[s]=this._data.length,s+=1,a.set(this._data,s),s+=this._data.length,a[s]=this.checksum,s+=1,a.set(n.TAIL,s),this._command===e.RequestCommandId.Connect?new Uint8Array([3,...a]):a}static fromBytes(i){const a=new Uint8Array(i.slice(0,2)),s=new Uint8Array(i.slice(i.length-2)),o=n.HEAD.length+1+1+1+n.TAIL.length;if(i.length<o)throw new Error(`Packet is too small (${i.length} < ${o})`);t.Validators.u8ArraysEqual(a,n.HEAD,"Invalid packet head"),t.Validators.u8ArraysEqual(s,n.TAIL,"Invalid packet tail");const l=i[2],c=i[3];if(i.length!==o+c)throw new Error(`Invalid packet size (${i.length} < ${o+c})`);const u=new Uint8Array(i.slice(4,4+c)),d=i[4+c],h=new n(l,u);if(h.checksum!==d)throw new Error("Invalid packet checksum");return h}static fromBytesMultiPacket(i){const a=[];let s=-1,o=-1,l=-1,c=-1;for(let d=0;d<i.length;d++){const h=i[d];h===n.HEAD[0]?s===-1?(s=d,o=-1):o=d:h===n.TAIL[0]&&s!==-1&&o!==-1&&(l===-1?(l=d,c=-1):c=d),s!==-1&&o!==-1&&l!==-1&&c!==-1&&(a.push(i.slice(s,c+1)),s=-1,o=-1,l=-1,c=-1)}const u=a.reduce((d,h)=>d+h.length,0);if(i.length!==u)throw new Error("Splitted chunks data length not equals buffer length");return a.map(d=>this.fromBytes(d))}}return oi.NiimbotPacket=n,n.HEAD=new Uint8Array([85,85]),n.TAIL=new Uint8Array([170,170]),oi}var ar={};Object.defineProperty(ar,"__esModule",{value:!0});ar.commandsMap=ar.ResponseCommandId=ar.RequestCommandId=void 0;var Ts;(function(t){t[t.Invalid=-1]="Invalid",t[t.Connect=193]="Connect",t[t.CancelPrint=218]="CancelPrint",t[t.CalibrateHeight=89]="CalibrateHeight",t[t.Heartbeat=220]="Heartbeat",t[t.LabelPositioningCalibration=142]="LabelPositioningCalibration",t[t.PageEnd=227]="PageEnd",t[t.PrinterLog=5]="PrinterLog",t[t.PageStart=3]="PageStart",t[t.PrintBitmapRow=133]="PrintBitmapRow",t[t.PrintBitmapRowIndexed=131]="PrintBitmapRowIndexed",t[t.PrintClear=32]="PrintClear",t[t.PrintEmptyRow=132]="PrintEmptyRow",t[t.PrintEnd=243]="PrintEnd",t[t.PrinterInfo=64]="PrinterInfo",t[t.PrinterConfig=175]="PrinterConfig",t[t.PrinterStatusData=165]="PrinterStatusData",t[t.PrinterReset=40]="PrinterReset",t[t.PrintQuantity=21]="PrintQuantity",t[t.PrintStart=1]="PrintStart",t[t.PrintStatus=163]="PrintStatus",t[t.RfidInfo=26]="RfidInfo",t[t.RfidInfo2=28]="RfidInfo2",t[t.RfidSuccessTimes=84]="RfidSuccessTimes",t[t.SetAutoShutdownTime=39]="SetAutoShutdownTime",t[t.SetDensity=33]="SetDensity",t[t.SetLabelType=35]="SetLabelType",t[t.SetPageSize=19]="SetPageSize",t[t.SoundSettings=88]="SoundSettings",t[t.AntiFake=11]="AntiFake",t[t.WriteRFID=112]="WriteRFID",t[t.PrintTestPage=90]="PrintTestPage"})(Ts||(ar.RequestCommandId=Ts={}));var Ps;(function(t){t[t.Invalid=-1]="Invalid",t[t.In_NotSupported=0]="In_NotSupported",t[t.In_Connect=194]="In_Connect",t[t.In_CalibrateHeight=105]="In_CalibrateHeight",t[t.In_CancelPrint=208]="In_CancelPrint",t[t.In_AntiFake=12]="In_AntiFake",t[t.In_HeartbeatAdvanced1=221]="In_HeartbeatAdvanced1",t[t.In_HeartbeatBasic=222]="In_HeartbeatBasic",t[t.In_HeartbeatUnknown=223]="In_HeartbeatUnknown",t[t.In_HeartbeatAdvanced2=217]="In_HeartbeatAdvanced2",t[t.In_LabelPositioningCalibration=143]="In_LabelPositioningCalibration",t[t.In_PageStart=4]="In_PageStart",t[t.In_PrintClear=48]="In_PrintClear",t[t.In_PrinterCheckLine=211]="In_PrinterCheckLine",t[t.In_PrintEnd=244]="In_PrintEnd",t[t.In_PrinterConfig=191]="In_PrinterConfig",t[t.In_PrinterLog=6]="In_PrinterLog",t[t.In_PrinterInfoAutoShutDownTime=71]="In_PrinterInfoAutoShutDownTime",t[t.In_PrinterInfoBluetoothAddress=77]="In_PrinterInfoBluetoothAddress",t[t.In_PrinterInfoSpeed=66]="In_PrinterInfoSpeed",t[t.In_PrinterInfoDensity=65]="In_PrinterInfoDensity",t[t.In_PrinterInfoLanguage=70]="In_PrinterInfoLanguage",t[t.In_PrinterInfoChargeLevel=74]="In_PrinterInfoChargeLevel",t[t.In_PrinterInfoHardWareVersion=76]="In_PrinterInfoHardWareVersion",t[t.In_PrinterInfoLabelType=67]="In_PrinterInfoLabelType",t[t.In_PrinterInfoPrinterCode=72]="In_PrinterInfoPrinterCode",t[t.In_PrinterInfoSerialNumber=75]="In_PrinterInfoSerialNumber",t[t.In_PrinterInfoSoftWareVersion=73]="In_PrinterInfoSoftWareVersion",t[t.In_PrinterInfoArea=79]="In_PrinterInfoArea",t[t.In_PrinterStatusData=181]="In_PrinterStatusData",t[t.In_PrinterReset=56]="In_PrinterReset",t[t.In_PrintStatus=179]="In_PrintStatus",t[t.In_PrintError=219]="In_PrintError",t[t.In_PrintQuantity=22]="In_PrintQuantity",t[t.In_PrintStart=2]="In_PrintStart",t[t.In_RfidInfo=27]="In_RfidInfo",t[t.In_RfidInfo2=29]="In_RfidInfo2",t[t.In_RfidSuccessTimes=100]="In_RfidSuccessTimes",t[t.In_SetAutoShutdownTime=55]="In_SetAutoShutdownTime",t[t.In_SetDensity=49]="In_SetDensity",t[t.In_SetLabelType=51]="In_SetLabelType",t[t.In_SetPageSize=20]="In_SetPageSize",t[t.In_SoundSettings=104]="In_SoundSettings",t[t.In_PageEnd=228]="In_PageEnd",t[t.In_PrinterPageIndex=224]="In_PrinterPageIndex",t[t.In_PrintTestPage=106]="In_PrintTestPage",t[t.In_WriteRFID=113]="In_WriteRFID"})(Ps||(ar.ResponseCommandId=Ps={}));var Ye=Ts,je=Ps;ar.commandsMap={[Ye.Invalid]:null,[Ye.PrintBitmapRow]:null,[Ye.PrintBitmapRowIndexed]:null,[Ye.PrintEmptyRow]:null,[Ye.Connect]:[je.In_Connect],[Ye.CancelPrint]:[je.In_CancelPrint],[Ye.CalibrateHeight]:[je.In_CalibrateHeight],[Ye.Heartbeat]:[je.In_HeartbeatBasic,je.In_HeartbeatUnknown,je.In_HeartbeatAdvanced1,je.In_HeartbeatAdvanced2],[Ye.LabelPositioningCalibration]:[je.In_LabelPositioningCalibration],[Ye.PageEnd]:[je.In_PageEnd],[Ye.PrinterLog]:[je.In_PrinterLog],[Ye.PageStart]:[je.In_PageStart],[Ye.PrintClear]:[je.In_PrintClear],[Ye.PrintEnd]:[je.In_PrintEnd],[Ye.PrinterInfo]:[je.In_PrinterInfoArea,je.In_PrinterInfoAutoShutDownTime,je.In_PrinterInfoBluetoothAddress,je.In_PrinterInfoChargeLevel,je.In_PrinterInfoDensity,je.In_PrinterInfoHardWareVersion,je.In_PrinterInfoLabelType,je.In_PrinterInfoLanguage,je.In_PrinterInfoPrinterCode,je.In_PrinterInfoSerialNumber,je.In_PrinterInfoSoftWareVersion,je.In_PrinterInfoSpeed],[Ye.PrinterConfig]:[je.In_PrinterConfig],[Ye.PrinterStatusData]:[je.In_PrinterStatusData],[Ye.PrinterReset]:[je.In_PrinterReset],[Ye.PrintQuantity]:[je.In_PrintQuantity],[Ye.PrintStart]:[je.In_PrintStart],[Ye.PrintStatus]:[je.In_PrintStatus],[Ye.RfidInfo]:[je.In_RfidInfo],[Ye.RfidInfo2]:[je.In_RfidInfo2],[Ye.RfidSuccessTimes]:[je.In_RfidSuccessTimes],[Ye.SetAutoShutdownTime]:[je.In_SetAutoShutdownTime],[Ye.SetDensity]:[je.In_SetDensity],[Ye.SetLabelType]:[je.In_SetLabelType],[Ye.SetPageSize]:[je.In_SetPageSize],[Ye.SoundSettings]:[je.In_SoundSettings],[Ye.AntiFake]:[je.In_AntiFake],[Ye.WriteRFID]:[je.In_WriteRFID],[Ye.PrintTestPage]:[je.In_PrintTestPage]};var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.PrinterErrorCode=Tt.ConnectResult=Tt.BatteryChargeLevel=Tt.AutoShutdownTime=Tt.HeartbeatType=Tt.LabelType=Tt.SoundSettingsItemType=Tt.SoundSettingsType=Tt.PrinterInfoType=void 0;var jo;(function(t){t[t.Density=1]="Density",t[t.Speed=2]="Speed",t[t.LabelType=3]="LabelType",t[t.Language=6]="Language",t[t.AutoShutdownTime=7]="AutoShutdownTime",t[t.PrinterModelId=8]="PrinterModelId",t[t.SoftWareVersion=9]="SoftWareVersion",t[t.BatteryChargeLevel=10]="BatteryChargeLevel",t[t.SerialNumber=11]="SerialNumber",t[t.HardWareVersion=12]="HardWareVersion",t[t.BluetoothAddress=13]="BluetoothAddress",t[t.PrintMode=14]="PrintMode",t[t.Area=15]="Area"})(jo||(Tt.PrinterInfoType=jo={}));var Ro;(function(t){t[t.SetSound=1]="SetSound",t[t.GetSoundState=2]="GetSoundState"})(Ro||(Tt.SoundSettingsType=Ro={}));var $o;(function(t){t[t.BluetoothConnectionSound=1]="BluetoothConnectionSound",t[t.PowerSound=2]="PowerSound"})($o||(Tt.SoundSettingsItemType=$o={}));var Uo;(function(t){t[t.Invalid=0]="Invalid",t[t.WithGaps=1]="WithGaps",t[t.Black=2]="Black",t[t.Continuous=3]="Continuous",t[t.Perforated=4]="Perforated",t[t.Transparent=5]="Transparent",t[t.PvcTag=6]="PvcTag",t[t.BlackMarkGap=10]="BlackMarkGap",t[t.HeatShrinkTube=11]="HeatShrinkTube"})(Uo||(Tt.LabelType=Uo={}));var Vo;(function(t){t[t.Advanced1=1]="Advanced1",t[t.Basic=2]="Basic",t[t.Unknown=3]="Unknown",t[t.Advanced2=4]="Advanced2"})(Vo||(Tt.HeartbeatType=Vo={}));var zo;(function(t){t[t.ShutdownTime1=1]="ShutdownTime1",t[t.ShutdownTime2=2]="ShutdownTime2",t[t.ShutdownTime3=3]="ShutdownTime3",t[t.ShutdownTime4=4]="ShutdownTime4"})(zo||(Tt.AutoShutdownTime=zo={}));var Wo;(function(t){t[t.Charge0=0]="Charge0",t[t.Charge25=1]="Charge25",t[t.Charge50=2]="Charge50",t[t.Charge75=3]="Charge75",t[t.Charge100=4]="Charge100"})(Wo||(Tt.BatteryChargeLevel=Wo={}));var qo;(function(t){t[t.Disconnect=0]="Disconnect",t[t.Connected=1]="Connected",t[t.ConnectedNew=2]="ConnectedNew",t[t.ConnectedV3=3]="ConnectedV3",t[t.FirmwareErrors=90]="FirmwareErrors"})(qo||(Tt.ConnectResult=qo={}));var Fo;(function(t){t[t.CoverOpen=1]="CoverOpen",t[t.LackPaper=2]="LackPaper",t[t.LowBattery=3]="LowBattery",t[t.BatteryException=4]="BatteryException",t[t.UserCancel=5]="UserCancel",t[t.DataError=6]="DataError",t[t.Overheat=7]="Overheat",t[t.PaperOutException=8]="PaperOutException",t[t.PrinterBusy=9]="PrinterBusy",t[t.NoPrinterHead=10]="NoPrinterHead",t[t.TemperatureLow=11]="TemperatureLow",t[t.PrinterHeadLoose=12]="PrinterHeadLoose",t[t.NoRibbon=13]="NoRibbon",t[t.WrongRibbon=14]="WrongRibbon",t[t.UsedRibbon=15]="UsedRibbon",t[t.WrongPaper=16]="WrongPaper",t[t.SetPaperFail=17]="SetPaperFail",t[t.SetPrintModeFail=18]="SetPrintModeFail",t[t.SetPrintDensityFail=19]="SetPrintDensityFail",t[t.WriteRfidFail=20]="WriteRfidFail",t[t.SetMarginFail=21]="SetMarginFail",t[t.CommunicationException=22]="CommunicationException",t[t.Disconnect=23]="Disconnect",t[t.CanvasParameterError=24]="CanvasParameterError",t[t.RotationParameterException=25]="RotationParameterException",t[t.JsonParameterException=26]="JsonParameterException",t[t.B3sAbnormalPaperOutput=27]="B3sAbnormalPaperOutput",t[t.ECheckPaper=28]="ECheckPaper",t[t.RfidTagNotWritten=29]="RfidTagNotWritten",t[t.SetPrintDensityNoSupport=30]="SetPrintDensityNoSupport",t[t.SetPrintModeNoSupport=31]="SetPrintModeNoSupport",t[t.SetPrintLabelMaterialError=32]="SetPrintLabelMaterialError",t[t.SetPrintLabelMaterialNoSupport=33]="SetPrintLabelMaterialNoSupport",t[t.NotSupportWrittenRfid=34]="NotSupportWrittenRfid",t[t.IllegalPage=50]="IllegalPage",t[t.IllegalRibbonPage=51]="IllegalRibbonPage",t[t.ReceiveDataTimeout=52]="ReceiveDataTimeout",t[t.NonDedicatedRibbon=53]="NonDedicatedRibbon"})(Fo||(Tt.PrinterErrorCode=Fo={}));var li={},ci={},Ho;function xu(){if(Ho)return ci;Ho=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.ImageEncoder=void 0;const t=Vu();class e{static encodeCanvas(r,i="left"){const s=r.getContext("2d").getImageData(0,0,r.width,r.height),o=[];let l=r.width,c=r.height;if(i==="left"&&(l=r.height,c=r.width),l%8!==0)throw new Error("Column count must be multiple of 8");for(let u=0;u<c;u++){let d=!0,h=0;const b=new Uint8Array(l/8);for(let _=0;_<l/8;_++){let g=0;for(let v=0;v<8;v++)e.isPixelNonWhite(s,_*8+v,u,i)&&(g|=1<<7-v,d=!1,h++);b[_]=g}const p={dataType:d?"void":"pixels",rowNumber:u,repeat:1,rowData:d?void 0:b,blackPixelsCount:h};if(o.length===0)o.push(p);else{const _=o[o.length-1];let g=p.dataType===_.dataType;g&&p.dataType==="pixels"&&(g=t.Utils.u8ArraysEqual(p.rowData,_.rowData)),g?_.repeat++:o.push(p)}}return{cols:l,rows:c,rowsData:o}}static isPixelNonWhite(r,i,a,s="left"){let o=a*r.width+i;return s==="left"&&(o=(r.height-1-i)*r.width+a),o*=4,r.data[o]!==255||r.data[o+1]!==255||r.data[o+2]!==255}static indexPixels(r){const i=[];for(let a=0;a<r.byteLength;a++){const s=r[a];for(let o=0;o<8;o++)s&1<<7-o&&i.push(...t.Utils.u16ToBytes(a*8+o))}return new Uint8Array(i)}}return ci.ImageEncoder=e,ci}var Go;function ju(){if(Go)return li;Go=1,Object.defineProperty(li,"__esModule",{value:!0}),li.PacketGenerator=void 0;const t=Yt(),e=xu(),n=an;class r{static mapped(a,s=[1]){const o=t.commandsMap[a];if(o===null){const l=new t.NiimbotPacket(a,s);return l.oneWay=!0,l}return new t.NiimbotPacket(a,s,o)}static connect(){return this.mapped(t.RequestCommandId.Connect)}static getPrinterStatusData(){return this.mapped(t.RequestCommandId.PrinterStatusData)}static rfidInfo(){return this.mapped(t.RequestCommandId.RfidInfo)}static setAutoShutDownTime(a){return this.mapped(t.RequestCommandId.SetAutoShutdownTime,[a])}static getPrinterInfo(a){return this.mapped(t.RequestCommandId.PrinterInfo,[a])}static setSoundSettings(a,s){return this.mapped(t.RequestCommandId.SoundSettings,[t.SoundSettingsType.SetSound,a,s?1:0])}static getSoundSettings(a){return this.mapped(t.RequestCommandId.SoundSettings,[t.SoundSettingsType.GetSoundState,a,1])}static heartbeat(a){return this.mapped(t.RequestCommandId.Heartbeat,[a])}static setDensity(a){return this.mapped(t.RequestCommandId.SetDensity,[a])}static setLabelType(a){return this.mapped(t.RequestCommandId.SetLabelType,[a])}static setPageSizeV1(a){return this.mapped(t.RequestCommandId.SetPageSize,[...n.Utils.u16ToBytes(a)])}static setPageSizeV2(a,s){return this.mapped(t.RequestCommandId.SetPageSize,[...n.Utils.u16ToBytes(a),...n.Utils.u16ToBytes(s)])}static setPageSizeV3(a,s,o){return this.mapped(t.RequestCommandId.SetPageSize,[...n.Utils.u16ToBytes(a),...n.Utils.u16ToBytes(s),...n.Utils.u16ToBytes(o)])}static setPageSizeV4(a,s,o,l,c){return this.mapped(t.RequestCommandId.SetPageSize,[...n.Utils.u16ToBytes(a),...n.Utils.u16ToBytes(s),...n.Utils.u16ToBytes(o),...n.Utils.u16ToBytes(l),c?1:0])}static setPrintQuantity(a){return this.mapped(t.RequestCommandId.PrintQuantity,[...n.Utils.u16ToBytes(a)])}static printStatus(){return this.mapped(t.RequestCommandId.PrintStatus)}static printerReset(){return this.mapped(t.RequestCommandId.PrinterReset)}static printStart(){return this.mapped(t.RequestCommandId.PrintStart)}static printStartV3(a){return this.mapped(t.RequestCommandId.PrintStart,[...n.Utils.u16ToBytes(a)])}static printStartV4(a,s=0){return this.mapped(t.RequestCommandId.PrintStart,[...n.Utils.u16ToBytes(a),0,0,0,0,s])}static printStartV5(a,s=0,o=0){return this.mapped(t.RequestCommandId.PrintStart,[...n.Utils.u16ToBytes(a),0,0,0,0,s,o])}static printEnd(){return this.mapped(t.RequestCommandId.PrintEnd)}static pageStart(){return this.mapped(t.RequestCommandId.PageStart)}static pageEnd(){return this.mapped(t.RequestCommandId.PageEnd)}static printEmptySpace(a,s){return this.mapped(t.RequestCommandId.PrintEmptyRow,[...n.Utils.u16ToBytes(a),s])}static printBitmapRow(a,s,o,l){const{total:c,a:u,b:d,c:h}=n.Utils.countPixelsForBitmapPacket(o,l??0);let b=[0,...n.Utils.u16ToBytes(c)];return l!==void 0&&(b=[u,d,h]),this.mapped(t.RequestCommandId.PrintBitmapRow,[...n.Utils.u16ToBytes(a),...b,s,...o])}static printBitmapRowIndexed(a,s,o,l){const{total:c,a:u,b:d,c:h}=n.Utils.countPixelsForBitmapPacket(o,l??0),b=e.ImageEncoder.indexPixels(o);if(c>6)throw new Error(`Black pixel count > 6 (${c})`);let p=[0,...n.Utils.u16ToBytes(c)];return l!==void 0&&(p=[u,d,h]),this.mapped(t.RequestCommandId.PrintBitmapRowIndexed,[...n.Utils.u16ToBytes(a),...p,s,...b])}static printClear(){return this.mapped(t.RequestCommandId.PrintClear)}static writeRfid(a){return this.mapped(t.RequestCommandId.WriteRFID,a)}static writeImageData(a,s){return a.rowsData.map(o=>o.dataType==="pixels"?o.blackPixelsCount>6?this.printBitmapRow(o.rowNumber,o.repeat,o.rowData,s):this.printBitmapRowIndexed(o.rowNumber,o.repeat,o.rowData,s):this.printEmptySpace(o.rowNumber,o.repeat))}static printTestPage(){return this.mapped(t.RequestCommandId.PrintTestPage)}static labelPositioningCalibration(a){return this.mapped(t.RequestCommandId.LabelPositioningCalibration,[a])}}return li.PacketGenerator=r,li}var _r={},tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.PrintProgressEvent=tt.PrinterInfoFetchedEvent=tt.HeartbeatFailedEvent=tt.HeartbeatEvent=tt.RawPacketReceivedEvent=tt.RawPacketSentEvent=tt.PacketSentEvent=tt.PacketReceivedEvent=tt.DisconnectEvent=tt.ConnectEvent=tt.NiimbotEvent=void 0;class Cn{constructor(e){this.type=e}}tt.NiimbotEvent=Cn;class Yf extends Cn{constructor(e){super("connect"),this.info=e}}tt.ConnectEvent=Yf;class Kf extends Cn{constructor(){super("disconnect")}}tt.DisconnectEvent=Kf;class Qf extends Cn{constructor(e){super("packetreceived"),this.packet=e}}tt.PacketReceivedEvent=Qf;class Jf extends Cn{constructor(e){super("packetsent"),this.packet=e}}tt.PacketSentEvent=Jf;class Xf extends Cn{constructor(e){super("rawpacketsent"),this.data=e}}tt.RawPacketSentEvent=Xf;class ep extends Cn{constructor(e){super("rawpacketreceived"),this.data=e}}tt.RawPacketReceivedEvent=ep;class tp extends Cn{constructor(e){super("heartbeat"),this.data=e}}tt.HeartbeatEvent=tp;class np extends Cn{constructor(e){super("heartbeatfailed"),this.failedAttempts=e}}tt.HeartbeatFailedEvent=np;class rp extends Cn{constructor(e){super("printerinfofetched"),this.info=e}}tt.PrinterInfoFetchedEvent=rp;class ip extends Cn{constructor(e,n,r,i){super("printprogress"),this.page=e,this.pagesTotal=n,this.pagePrintProgress=r,this.pageFeedProgress=i}}tt.PrintProgressEvent=ip;var ts={},ns={},Zo;function eo(){return Zo||(Zo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getPrinterMetaByModel=t.getPrinterMetaById=t.modelsLibrary=t.PrinterModel=void 0;const e=Yt();var n;(function(a){a.UNKNOWN="UNKNOWN",a.A20="A20",a.A203="A203",a.A63="A63",a.A8="A8",a.A8_P="A8_P",a.B1="B1",a.B11="B11",a.B16="B16",a.B18="B18",a.B18S="B18S",a.B203="B203",a.B21="B21",a.B21_PRO="B21_PRO",a.B21_C2B="B21_C2B",a.B21_L2B="B21_L2B",a.B21S="B21S",a.B21S_C2B="B21S_C2B",a.B3="B3",a.B31="B31",a.B32="B32",a.B32R="B32R",a.B3S="B3S",a.B3S_P="B3S_P",a.B50="B50",a.B50W="B50W",a.BETTY="BETTY",a.D101="D101",a.D11="D11",a.D11_H="D11_H",a.D110="D110",a.D110_M="D110_M",a.D11S="D11S",a.D41="D41",a.D61="D61",a.DXX="DXX",a.ET10="ET10",a.FUST="FUST",a.HI_D110="HI_D110",a.HI_NB_D11="HI_NB_D11",a.JC_M90="JC_M90",a.JCB3S="JCB3S",a.K3="K3",a.K3_W="K3_W",a.M2_H="M2_H",a.MP3K="MP3K",a.MP3K_W="MP3K_W",a.N1="N1",a.P1="P1",a.P18="P18",a.P1S="P1S",a.S1="S1",a.S3="S3",a.S6="S6",a.S6_P="S6_P",a.T2S="T2S",a.T6="T6",a.T7="T7",a.T8="T8",a.T8S="T8S",a.TP2M_H="TP2M_H",a.Z401="Z401"})(n||(t.PrinterModel=n={})),t.modelsLibrary=[{model:n.A20,id:[2817],dpi:203,printDirection:"top",printheadPixels:400,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.A203,id:[2818],dpi:203,printDirection:"top",printheadPixels:400,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.A63,id:[2054],dpi:300,printDirection:"top",printheadPixels:851,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent,e.LabelType.Black],densityMin:1,densityMax:15,densityDefault:10},{model:n.A8,id:[256],dpi:203,printDirection:"top",printheadPixels:600,paperTypes:[e.LabelType.Black,e.LabelType.WithGaps,e.LabelType.Continuous],densityMin:1,densityMax:5,densityDefault:3},{model:n.A8_P,id:[273],dpi:203,printDirection:"top",printheadPixels:616,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B1,id:[4096],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B11,id:[51457],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated,e.LabelType.Transparent],densityMin:6,densityMax:15,densityDefault:10},{model:n.B16,id:[1792],dpi:203,printDirection:"left",printheadPixels:96,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:2},{model:n.B18,id:[3584],dpi:203,printDirection:"left",printheadPixels:120,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent,e.LabelType.BlackMarkGap,e.LabelType.HeatShrinkTube],densityMin:1,densityMax:3,densityDefault:2},{model:n.B18S,id:[3585],dpi:203,printDirection:"left",printheadPixels:120,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent,e.LabelType.BlackMarkGap,e.LabelType.HeatShrinkTube],densityMin:1,densityMax:3,densityDefault:2},{model:n.B203,id:[2816],dpi:203,printDirection:"top",printheadPixels:400,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B21,id:[768],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B21_PRO,id:[785],dpi:300,printDirection:"top",printheadPixels:591,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B21_C2B,id:[771,775],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Continuous,e.LabelType.Transparent,e.LabelType.Black],densityMin:1,densityMax:5,densityDefault:3},{model:n.B21_L2B,id:[769],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B21S,id:[777],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B21S_C2B,id:[776],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B3,id:[52993],dpi:203,printDirection:"top",printheadPixels:600,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B31,id:[5632],dpi:203,printDirection:"top",printheadPixels:600,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B32,id:[2049],dpi:300,printDirection:"top",printheadPixels:851,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:15,densityDefault:10},{model:n.B32R,id:[2050],dpi:300,printDirection:"top",printheadPixels:851,paperTypes:[e.LabelType.WithGaps],densityMin:1,densityMax:15,densityDefault:10},{model:n.B3S,id:[256,260,262],dpi:203,printDirection:"top",printheadPixels:576,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B3S_P,id:[272],dpi:203,printDirection:"top",printheadPixels:576,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B50,id:[51713],dpi:203,printDirection:"top",printheadPixels:400,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.B50W,id:[51714],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.BETTY,id:[2561],dpi:203,printDirection:"left",printheadPixels:192,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:2},{model:n.D101,id:[2560],dpi:203,printDirection:"left",printheadPixels:192,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:2},{model:n.D11,id:[512],dpi:203,printDirection:"left",printheadPixels:96,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:2},{model:n.D11_H,id:[528],dpi:300,printDirection:"left",printheadPixels:178,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.D110,id:[2304,2305],dpi:203,printDirection:"left",printheadPixels:96,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:2},{model:n.D110_M,id:[2320],dpi:203,printDirection:"left",printheadPixels:120,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.D11S,id:[514],dpi:203,printDirection:"left",printheadPixels:96,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:2},{model:n.ET10,id:[5376],dpi:203,printDirection:"top",printheadPixels:1600,paperTypes:[e.LabelType.Continuous],densityMin:3,densityMax:3,densityDefault:3},{model:n.FUST,id:[513],dpi:203,printDirection:"left",printheadPixels:96,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.HI_D110,id:[2305],dpi:203,printDirection:"left",printheadPixels:120,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:3},{model:n.HI_NB_D11,id:[512],dpi:203,printDirection:"left",printheadPixels:120,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:2},{model:n.JC_M90,id:[51461],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.JCB3S,id:[256],dpi:203,printDirection:"top",printheadPixels:576,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:2},{model:n.K3,id:[4864],dpi:203,printDirection:"top",printheadPixels:656,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.K3_W,id:[4865],dpi:203,printDirection:"top",printheadPixels:656,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.M2_H,id:[4608],dpi:300,printDirection:"top",printheadPixels:591,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent,e.LabelType.Black,e.LabelType.BlackMarkGap],densityMin:1,densityMax:5,densityDefault:3},{model:n.MP3K,id:[4866],dpi:203,printDirection:"top",printheadPixels:656,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.MP3K_W,id:[4867],dpi:203,printDirection:"top",printheadPixels:656,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.N1,id:[3586],dpi:203,printDirection:"left",printheadPixels:120,paperTypes:[e.LabelType.WithGaps,e.LabelType.HeatShrinkTube,e.LabelType.Transparent,e.LabelType.BlackMarkGap],densityMin:1,densityMax:3,densityDefault:2},{model:n.P1,id:[1024],dpi:300,printDirection:"left",printheadPixels:697,paperTypes:[e.LabelType.PvcTag],densityMin:1,densityMax:5,densityDefault:3},{model:n.P18,id:[1026],dpi:300,printDirection:"left",printheadPixels:662,paperTypes:[e.LabelType.PvcTag],densityMin:1,densityMax:5,densityDefault:3},{model:n.P1S,id:[1025],dpi:300,printDirection:"left",printheadPixels:662,paperTypes:[e.LabelType.PvcTag],densityMin:1,densityMax:5,densityDefault:3},{model:n.S1,id:[51458],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.S3,id:[51460],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.S6,id:[261,259,258,257],dpi:203,printDirection:"top",printheadPixels:576,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.S6_P,id:[274],dpi:203,printDirection:"top",printheadPixels:600,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.T2S,id:[53250],dpi:203,printDirection:"top",printheadPixels:832,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black],densityMin:1,densityMax:20,densityDefault:15},{model:n.T6,id:[51715],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.T7,id:[51717],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.T8,id:[51718],dpi:300,printDirection:"top",printheadPixels:567,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.T8S,id:[2053],dpi:300,printDirection:"top",printheadPixels:851,paperTypes:[e.LabelType.WithGaps],densityMin:1,densityMax:15,densityDefault:10},{model:n.TP2M_H,id:[4609],dpi:300,printDirection:"top",printheadPixels:591,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.Z401,id:[2051],dpi:300,printDirection:"top",printheadPixels:851,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:15,densityDefault:10}];const r=a=>t.modelsLibrary.find(s=>s.id.includes(a));t.getPrinterMetaById=r;const i=a=>t.modelsLibrary.find(s=>s.model===a);t.getPrinterMetaByModel=i}(ns)),ns}var ui={},di={},Yo;function ti(){if(Yo)return di;Yo=1,Object.defineProperty(di,"__esModule",{value:!0}),di.AbstractPrintTask=void 0;const e={labelType:Yt().LabelType.WithGaps,density:2,totalPages:1,statusPollIntervalMs:300,statusTimeoutMs:5e3,pageTimeoutMs:1e4};let n=class{constructor(i,a){this.abstraction=i,this.pagesPrinted=0,this.printOptions={...e,...a}}checkAddPage(i){if(this.pagesPrinted+i>(this.printOptions.totalPages??1))throw new Error("Trying to print too many pages (task totalPages may not be set correctly)")}printheadPixels(){var i;return(i=this.abstraction.getClient().getModelMetadata())==null?void 0:i.printheadPixels}};return di.AbstractPrintTask=n,di}var Ko;function ap(){if(Ko)return ui;Ko=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.B1PrintTask=void 0;const t=Yt(),e=ti();let n=class extends e.AbstractPrintTask{printInit(){return this.abstraction.sendAll([t.PacketGenerator.setDensity(this.printOptions.density),t.PacketGenerator.setLabelType(this.printOptions.labelType),t.PacketGenerator.printStartV4(this.printOptions.totalPages)])}printPage(i,a){return this.checkAddPage(a??1),this.abstraction.sendAll([t.PacketGenerator.pageStart(),t.PacketGenerator.setPageSizeV3(i.rows,i.cols,a??1),...t.PacketGenerator.writeImageData(i,this.printheadPixels()),t.PacketGenerator.pageEnd()],this.printOptions.pageTimeoutMs)}waitForFinished(){return this.abstraction.setPacketTimeout(this.printOptions.statusTimeoutMs),this.abstraction.waitUntilPrintFinishedByStatusPoll(this.printOptions.totalPages,this.printOptions.statusPollIntervalMs).finally(()=>this.abstraction.setDefaultPacketTimeout())}};return ui.B1PrintTask=n,ui}var fi={},Qo;function sp(){if(Qo)return fi;Qo=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.B21V1PrintTask=void 0;const t=Yt(),e=ti();let n=class extends e.AbstractPrintTask{printInit(){return this.abstraction.sendAll([t.PacketGenerator.setDensity(this.printOptions.density),t.PacketGenerator.setLabelType(this.printOptions.labelType),t.PacketGenerator.printStart()])}async printPage(i,a){this.checkAddPage(a??1);for(let s=0;s<(a??1);s++)await this.abstraction.sendAll([t.PacketGenerator.pageStart(),t.PacketGenerator.setPageSizeV2(i.rows,i.cols),...t.PacketGenerator.writeImageData(i,this.printheadPixels()),t.PacketGenerator.pageEnd()],this.printOptions.pageTimeoutMs)}waitForFinished(){return this.abstraction.setPacketTimeout(this.printOptions.statusTimeoutMs),this.abstraction.waitUntilPrintFinishedByPrintEndPoll(this.printOptions.totalPages,this.printOptions.statusPollIntervalMs).finally(()=>this.abstraction.setDefaultPacketTimeout())}};return fi.B21V1PrintTask=n,fi}var pi={},Jo;function op(){if(Jo)return pi;Jo=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.D110PrintTask=void 0;const t=Yt(),e=ti();let n=class extends e.AbstractPrintTask{printInit(){return this.abstraction.sendAll([t.PacketGenerator.setDensity(this.printOptions.density),t.PacketGenerator.setLabelType(this.printOptions.labelType),t.PacketGenerator.printStart()])}printPage(i,a){return this.checkAddPage(a??1),this.abstraction.sendAll([t.PacketGenerator.pageStart(),t.PacketGenerator.setPageSizeV2(i.rows,i.cols),t.PacketGenerator.setPrintQuantity(a??1),...t.PacketGenerator.writeImageData(i,this.printheadPixels()),t.PacketGenerator.pageEnd()],this.printOptions.pageTimeoutMs)}waitForFinished(){return this.abstraction.setPacketTimeout(this.printOptions.statusTimeoutMs),this.abstraction.waitUntilPrintFinishedByStatusPoll(this.printOptions.totalPages,this.printOptions.statusPollIntervalMs).finally(()=>this.abstraction.setDefaultPacketTimeout())}};return pi.D110PrintTask=n,pi}var hi={},Xo;function lp(){if(Xo)return hi;Xo=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.OldD11PrintTask=void 0;const t=Yt(),e=ti();let n=class extends e.AbstractPrintTask{printInit(){return this.abstraction.sendAll([t.PacketGenerator.setDensity(this.printOptions.density),t.PacketGenerator.setLabelType(this.printOptions.labelType),t.PacketGenerator.printStart()])}printPage(i,a){return this.checkAddPage(a??1),this.abstraction.sendAll([t.PacketGenerator.printClear(),t.PacketGenerator.pageStart(),t.PacketGenerator.setPageSizeV1(i.rows),t.PacketGenerator.setPrintQuantity(a??1),...t.PacketGenerator.writeImageData(i,this.printheadPixels()),t.PacketGenerator.pageEnd()],this.printOptions.pageTimeoutMs)}waitForFinished(){return this.abstraction.waitUntilPrintFinishedByPageIndex(this.printOptions.totalPages??1,this.printOptions.statusTimeoutMs)}};return hi.OldD11PrintTask=n,hi}var _i={},el;function cp(){if(el)return _i;el=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.V5PrintTask=void 0;const t=Yt(),e=ti();let n=class extends e.AbstractPrintTask{printInit(){return this.abstraction.sendAll([t.PacketGenerator.setDensity(this.printOptions.density),t.PacketGenerator.setLabelType(this.printOptions.labelType),t.PacketGenerator.printStartV5(this.printOptions.totalPages,0,0)])}printPage(i,a){return this.checkAddPage(a??1),this.abstraction.sendAll([t.PacketGenerator.pageStart(),t.PacketGenerator.setPageSizeV4(i.rows,i.cols,a??1,0,!1),...t.PacketGenerator.writeImageData(i,this.printheadPixels()),t.PacketGenerator.pageEnd()],this.printOptions.pageTimeoutMs)}waitForFinished(){return this.abstraction.setPacketTimeout(this.printOptions.statusTimeoutMs),this.abstraction.waitUntilPrintFinishedByStatusPoll(this.printOptions.totalPages??1,this.printOptions.statusPollIntervalMs).finally(()=>this.abstraction.setDefaultPacketTimeout())}};return _i.V5PrintTask=n,_i}var tl;function to(){return tl||(tl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.V5PrintTask=t.OldD11PrintTask=t.D110PrintTask=t.B21V1PrintTask=t.B1PrintTask=t.AbstractPrintTask=t.findPrintTask=t.modelPrintTasks=t.printTaskNames=t.printTasks=void 0;const e=eo(),n=ap();Object.defineProperty(t,"B1PrintTask",{enumerable:!0,get:function(){return n.B1PrintTask}});const r=sp();Object.defineProperty(t,"B21V1PrintTask",{enumerable:!0,get:function(){return r.B21V1PrintTask}});const i=op();Object.defineProperty(t,"D110PrintTask",{enumerable:!0,get:function(){return i.D110PrintTask}});const a=lp();Object.defineProperty(t,"OldD11PrintTask",{enumerable:!0,get:function(){return a.OldD11PrintTask}});const s=cp();Object.defineProperty(t,"V5PrintTask",{enumerable:!0,get:function(){return s.V5PrintTask}}),t.printTasks={D11_V1:a.OldD11PrintTask,D110:i.D110PrintTask,B1:n.B1PrintTask,B21_V1:r.B21V1PrintTask,V5:s.V5PrintTask},t.printTaskNames=Object.keys(t.printTasks),t.modelPrintTasks={D11_V1:[e.PrinterModel.D11,e.PrinterModel.D11S],B21_V1:[e.PrinterModel.B21,e.PrinterModel.B21_L2B,e.PrinterModel.B21_C2B],D110:[e.PrinterModel.B21S,e.PrinterModel.B21S_C2B,e.PrinterModel.D110,{m:e.PrinterModel.D11,v:1},{m:e.PrinterModel.D11,v:2}],B1:[e.PrinterModel.D11_H,e.PrinterModel.D110_M,e.PrinterModel.B1]};const o=(c,u)=>{const d=Object.keys(t.modelPrintTasks);return d.find(b=>{var p;return(p=t.modelPrintTasks[b])==null?void 0:p.find(_=>typeof _=="object"&&_.v===u&&_.m===c)})??d.find(b=>{var p;return(p=t.modelPrintTasks[b])==null?void 0:p.includes(c)})};t.findPrintTask=o;var l=ti();Object.defineProperty(t,"AbstractPrintTask",{enumerable:!0,get:function(){return l.AbstractPrintTask}})}(ts)),ts}var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.SequentialDataReader=void 0;const nl=an;class up{constructor(e){this.bytes=e,this.offset=0}willRead(e){if(this.offset+e>this.bytes.length)throw new Error("Tried to read too much data")}skip(e){this.willRead(e),this.offset+=e}readBytes(e){this.willRead(e);const n=this.bytes.slice(this.offset,this.offset+e);return this.offset+=e,n}readVBytes(){const e=this.readI8();return this.readBytes(e)}readVString(){const e=this.readVBytes();return nl.Utils.u8ArrayToString(e)}readI8(){this.willRead(1);const e=this.bytes[this.offset];return this.offset+=1,e}readBool(){return this.readI8()>0}readI16(){this.willRead(2);const e=this.bytes.slice(this.offset,this.offset+2);return this.offset+=2,nl.Utils.bytesToI16(e)}end(){if(this.offset!=this.bytes.length)throw new Error("Extra data left")}}Zi.SequentialDataReader=up;var rl;function dp(){if(rl)return _r;rl=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.Abstraction=_r.PrintError=void 0;const t=Yt(),e=tt,n=to(),r=an,i=Zi,a=ju();class s extends Error{constructor(c,u){super(c),this.reasonId=u}}_r.PrintError=s;class o{constructor(c){this.DEFAULT_PACKET_TIMEOUT=1e3,this.packetTimeout=this.DEFAULT_PACKET_TIMEOUT,this.client=c}getClient(){return this.client}getPacketTimeout(){return this.packetTimeout}setPacketTimeout(c){this.packetTimeout=c}setDefaultPacketTimeout(){this.packetTimeout=this.DEFAULT_PACKET_TIMEOUT}async send(c,u){return this.client.sendPacketWaitResponse(c,u??this.packetTimeout)}async sendAll(c,u){for(const d of c)await this.send(d,u)}async getPrintStatus(){const c=await this.send(a.PacketGenerator.printStatus());r.Validators.u8ArrayLengthAtLeast(c.data,4);const u=new i.SequentialDataReader(c.data),d=u.readI16(),h=u.readI8(),b=u.readI8();if(c.dataLength===10){u.skip(2);const p=u.readI8();if(p!==0)throw new s(`Print error (${t.ResponseCommandId[c.command]} packet flag)`,p)}return{page:d,pagePrintProgress:h,pageFeedProgress:b}}async connectResult(){const c=await this.send(a.PacketGenerator.connect());return r.Validators.u8ArrayLengthAtLeast(c.data,1),c.data[0]}async getPrinterStatusData(){let c=0;const u=await this.send(a.PacketGenerator.getPrinterStatusData());let d=0;if(u.dataLength>12){d=u.data[10];const h=u.data[11]*100+u.data[12];h>=204&&h<300&&(c=3),h>=301&&(c=4)}return{supportColor:d,protocolVersion:c}}async getPrinterModel(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.PrinterModelId));return r.Validators.u8ArrayLengthAtLeast(c.data,1),c.data.length===1?c.data[0]<<8:(r.Validators.u8ArrayLengthEquals(c.data,2),r.Utils.bytesToI16(c.data))}async rfidInfo(){const c=await this.send(a.PacketGenerator.rfidInfo()),u={tagPresent:!1,uuid:"",barCode:"",serialNumber:"",allPaper:-1,usedPaper:-1,consumablesType:t.LabelType.Invalid};if(c.dataLength===1)return u;const d=new i.SequentialDataReader(c.data);return u.tagPresent=!0,u.uuid=r.Utils.bufToHex(d.readBytes(8),""),u.barCode=d.readVString(),u.serialNumber=d.readVString(),u.allPaper=d.readI16(),u.usedPaper=d.readI16(),u.consumablesType=d.readI8(),d.end(),u}async heartbeat(){const c=await this.send(a.PacketGenerator.heartbeat(t.HeartbeatType.Advanced1),500),u={paperState:-1,rfidReadState:-1,lidClosed:!1,powerLevel:t.BatteryChargeLevel.Charge0},d=c.dataLength,h=new i.SequentialDataReader(c.data);if(d===10)h.skip(8),u.lidClosed=h.readBool(),u.powerLevel=h.readI8();else if(d===20)h.skip(18),u.paperState=h.readI8(),u.rfidReadState=h.readI8();else if(d===19)h.skip(15),u.lidClosed=h.readBool(),u.powerLevel=h.readI8(),u.paperState=h.readI8(),u.rfidReadState=h.readI8();else if(d===13)h.skip(9),u.lidClosed=h.readBool(),u.powerLevel=h.readI8(),u.paperState=h.readI8(),u.rfidReadState=h.readI8();else throw new Error("Invalid heartbeat length");h.end();const b=this.client.getPrinterInfo().modelId;return b!==void 0&&![512,514,513,2304,1792,3584,5120,2560,3840,4352,272].includes(b)&&(u.lidClosed=!u.lidClosed),u}async getBatteryChargeLevel(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.BatteryChargeLevel));return r.Validators.u8ArrayLengthEquals(c.data,1),c.data[0]}async getAutoShutDownTime(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.AutoShutdownTime));return r.Validators.u8ArrayLengthEquals(c.data,1),c.data[0]}async getSoftwareVersion(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.SoftWareVersion));return r.Validators.u8ArrayLengthEquals(c.data,2),`0x${r.Utils.bufToHex(c.data,"")}`}async getHardwareVersion(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.HardWareVersion));return r.Validators.u8ArrayLengthEquals(c.data,2),`0x${r.Utils.bufToHex(c.data,"")}`}async setAutoShutDownTime(c){await this.send(a.PacketGenerator.setAutoShutDownTime(c))}async getLabelType(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.LabelType));return r.Validators.u8ArrayLengthEquals(c.data,1),c.data[0]}async getPrinterSerialNumber(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.SerialNumber));return r.Validators.u8ArrayLengthAtLeast(c.data,1),c.data.length<4?"-1":c.data.length>=8?r.Utils.u8ArrayToString(c.data):r.Utils.bufToHex(c.data.slice(0,4),"").toUpperCase()}async getPrinterBluetoothMacAddress(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.BluetoothAddress));return r.Validators.u8ArrayLengthAtLeast(c.data,1),r.Utils.bufToHex(c.data.reverse(),":")}async isSoundEnabled(c){const u=await this.send(a.PacketGenerator.getSoundSettings(c));return r.Validators.u8ArrayLengthEquals(u.data,3),!!u.data[2]}async setSoundEnabled(c,u){await this.send(a.PacketGenerator.setSoundSettings(c,u))}async printerReset(){await this.send(a.PacketGenerator.printerReset())}async waitUntilPrintFinishedByPageIndex(c,u=5e3){return new Promise((d,h)=>{const b=p=>{if(p.packet.command===t.ResponseCommandId.In_PrinterPageIndex){r.Validators.u8ArrayLengthEquals(p.packet.data,2);const _=r.Utils.bytesToI16(p.packet.data);this.client.emit("printprogress",new e.PrintProgressEvent(_,c,100,100)),clearTimeout(this.statusTimeoutTimer),this.statusTimeoutTimer=setTimeout(()=>{this.client.off("packetreceived",b),h(new Error("Timeout waiting print status"))},u??5e3),_===c&&(clearTimeout(this.statusTimeoutTimer),this.client.off("packetreceived",b),d())}};clearTimeout(this.statusTimeoutTimer),this.statusTimeoutTimer=setTimeout(()=>{this.client.off("packetreceived",b),h(new Error("Timeout waiting print status"))},u),this.client.emit("printprogress",new e.PrintProgressEvent(1,c,0,0)),this.client.on("packetreceived",b)})}async waitUntilPrintFinishedByStatusPoll(c,u=300){return new Promise((d,h)=>{this.client.emit("printprogress",new e.PrintProgressEvent(1,c,0,0)),this.statusPollTimer=setInterval(()=>{this.getPrintStatus().then(b=>{this.client.emit("printprogress",new e.PrintProgressEvent(b.page,c,b.pagePrintProgress,b.pageFeedProgress)),b.page===c&&b.pagePrintProgress===100&&b.pageFeedProgress===100&&(clearInterval(this.statusPollTimer),d())}).catch(b=>{clearInterval(this.statusPollTimer),h(b)})},u??300)})}async waitUntilPrintFinishedByPrintEndPoll(c,u=500){return new Promise((d,h)=>{this.client.emit("printprogress",new e.PrintProgressEvent(1,c,0,0)),this.statusPollTimer=setInterval(()=>{this.printEnd().then(b=>{b?(this.client.emit("printprogress",new e.PrintProgressEvent(c,c,100,100)),clearInterval(this.statusPollTimer),d()):this.client.emit("printprogress",new e.PrintProgressEvent(1,c,0,0))}).catch(b=>{clearInterval(this.statusPollTimer),h(b)})},u??500)})}async printEnd(){const c=await this.send(a.PacketGenerator.printEnd());return r.Validators.u8ArrayLengthEquals(c.data,1),c.data[0]===1}async labelPositioningCalibration(c){const u=await this.send(a.PacketGenerator.labelPositioningCalibration(c));return r.Validators.u8ArrayLengthEquals(u.data,1),u.data[0]===1}newPrintTask(c,u){return new n.printTasks[c](this,u)}}return _r.Abstraction=o,_r}var il;function Yt(){return il||(il=1,function(t){var e=dt&&dt.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=dt&&dt.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(Ia(),t),n(ar,t),n(Tt,t),n(ju(),t),n(dp(),t),n(Zi,t)}(es)),es}var al;function fp(){if(al)return si;al=1,Object.defineProperty(si,"__esModule",{value:!0}),si.NiimbotAbstractClient=void 0;const t=cf,e=uu,n=Yt(),r=eo(),i=tt,a=to(),s=an;class o extends t.EventEmitter{constructor(){super(),this.info={},this.heartbeatFails=0,this.heartbeatIntervalMs=2e3,this.mutex=new e.Mutex,this.debug=!1,this.packetIntervalMs=10,this.abstraction=new n.Abstraction(this),this.on("connect",()=>this.startHeartbeat()),this.on("disconnect",()=>this.stopHeartbeat())}async sendPacketWaitResponse(c,u=1e3){return this.mutex.runExclusive(async()=>(await this.sendPacket(c,!0),c.oneWay?new n.NiimbotPacket(n.ResponseCommandId.Invalid,[]):new Promise((d,h)=>{let b;const p=_=>{const g=_.packet,v=g.command;if(c.validResponseIds.length===0||c.validResponseIds.includes(v)||[n.ResponseCommandId.In_PrintError,n.ResponseCommandId.In_NotSupported].includes(v))if(clearTimeout(b),this.off("packetreceived",p),v===n.ResponseCommandId.In_PrintError){s.Validators.u8ArrayLengthEquals(g.data,1);const w=n.PrinterErrorCode[g.data[0]]??"unknown";h(new n.PrintError(`Print error ${g.data[0]}: ${w}`,g.data[0]))}else v===n.ResponseCommandId.In_NotSupported?h(new n.PrintError("Feature not supported",0)):d(g)};b=setTimeout(()=>{this.off("packetreceived",p),h(new Error(`Timeout waiting response (waited for ${s.Utils.bufToHex(c.validResponseIds,", ")})`))},u??1e3),this.on("packetreceived",p)})))}async sendPacket(c,u){await this.sendRaw(c.toBytes(),u),this.emit("packetsent",new i.PacketSentEvent(c))}async initialNegotiate(){const c=this.info;if(c.connectResult=await this.abstraction.connectResult(),c.protocolVersion=0,c.connectResult===n.ConnectResult.ConnectedNew)c.protocolVersion=1;else if(c.connectResult===n.ConnectResult.ConnectedV3){const u=await this.abstraction.getPrinterStatusData();c.protocolVersion=u.protocolVersion}}async fetchPrinterInfo(){return this.info.modelId=await this.abstraction.getPrinterModel(),this.info.serial=await this.abstraction.getPrinterSerialNumber().catch(console.error)??void 0,this.info.mac=await this.abstraction.getPrinterBluetoothMacAddress().catch(console.error)??void 0,this.info.charge=await this.abstraction.getBatteryChargeLevel().catch(console.error)??void 0,this.info.autoShutdownTime=await this.abstraction.getAutoShutDownTime().catch(console.error)??void 0,this.info.labelType=await this.abstraction.getLabelType().catch(console.error)??void 0,this.info.hardwareVersion=await this.abstraction.getHardwareVersion().catch(console.error)??void 0,this.info.softwareVersion=await this.abstraction.getSoftwareVersion().catch(console.error)??void 0,this.emit("printerinfofetched",new i.PrinterInfoFetchedEvent(this.info)),this.info}getPrinterInfo(){return this.info}setHeartbeatInterval(c){this.heartbeatIntervalMs=c}startHeartbeat(){this.heartbeatFails=0,this.stopHeartbeat(),this.heartbeatTimer=setInterval(()=>{this.abstraction.heartbeat().then(c=>{this.heartbeatFails=0,this.emit("heartbeat",new i.HeartbeatEvent(c))}).catch(c=>{console.error(c),this.heartbeatFails++,this.emit("heartbeatfailed",new i.HeartbeatFailedEvent(this.heartbeatFails))})},this.heartbeatIntervalMs)}stopHeartbeat(){clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0}isHeartbeatStarted(){return this.heartbeatTimer===void 0}getModelMetadata(){if(this.info.modelId!==void 0)return(0,r.getPrinterMetaById)(this.info.modelId)}getPrintTaskType(){const c=this.getModelMetadata();if(c!==void 0)return(0,a.findPrintTask)(c.model,this.getPrinterInfo().protocolVersion)}setPacketInterval(c){this.packetIntervalMs=c}setDebug(c){this.debug=c}}return si.NiimbotAbstractClient=o,si}var mi={},sl;function pp(){if(sl)return mi;sl=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.NiimbotBluetoothClient=void 0;const t=tt,e=Ba(),n=Ia(),r=Yt(),i=an;class a{}a.SERVICE="e7810a71-73ae-499d-8c15-faa9aef0c3f2",a.CHARACTERISTIC="bef8d6c9-9c21-4c9e-b632-bd58c1009f9f",a.FILTER=[{namePrefix:"A"},{namePrefix:"B"},{namePrefix:"D"},{namePrefix:"E"},{namePrefix:"F"},{namePrefix:"H"},{namePrefix:"J"},{namePrefix:"K"},{namePrefix:"M"},{namePrefix:"N"},{namePrefix:"P"},{namePrefix:"S"},{namePrefix:"T"},{namePrefix:"Z"},{services:[a.SERVICE]}];class s extends e.NiimbotAbstractClient{constructor(){super(...arguments),this.gattServer=void 0,this.channel=void 0}async connect(){await this.disconnect();const l={filters:a.FILTER},c=await navigator.bluetooth.requestDevice(l);if(c.gatt===void 0)throw new Error("Device has no Bluetooth Generic Attribute Profile");const u=()=>{this.gattServer=void 0,this.channel=void 0,this.info={},this.emit("disconnect",new t.DisconnectEvent),c.removeEventListener("gattserverdisconnected",u)};c.addEventListener("gattserverdisconnected",u);const d=await c.gatt.connect(),b=await(await d.getPrimaryService(a.SERVICE)).getCharacteristic(a.CHARACTERISTIC);b.addEventListener("characteristicvaluechanged",_=>{const g=_.target,v=new Uint8Array(g.value.buffer);this.emit("rawpacketreceived",new t.RawPacketReceivedEvent(v));const w=n.NiimbotPacket.fromBytes(v);this.emit("packetreceived",new t.PacketReceivedEvent(w)),w.command in r.ResponseCommandId||console.warn(`Unknown response command: 0x${i.Utils.numberToHex(w.command)}`)}),await b.startNotifications(),this.gattServer=d,this.channel=b;try{await this.initialNegotiate(),await this.fetchPrinterInfo()}catch(_){console.error("Unable to fetch printer info."),console.error(_)}const p={deviceName:c.name,result:this.info.connectResult??r.ConnectResult.FirmwareErrors};return this.emit("connect",new t.ConnectEvent(p)),p}isConnected(){return this.gattServer!==void 0&&this.channel!==void 0}async disconnect(){var l;this.stopHeartbeat(),(l=this.gattServer)==null||l.disconnect(),this.gattServer=void 0,this.channel=void 0,this.info={}}async sendRaw(l,c){const u=async()=>{if(this.channel===void 0)throw new Error("Channel is closed");await i.Utils.sleep(this.packetIntervalMs),await this.channel.writeValueWithoutResponse(l),this.emit("rawpacketsent",new t.RawPacketSentEvent(l))};c?await u():await this.mutex.runExclusive(u)}}return mi.NiimbotBluetoothClient=s,mi}var bi={},Es;(function(t){t[t.SCAN_MODE_LOW_POWER=0]="SCAN_MODE_LOW_POWER",t[t.SCAN_MODE_BALANCED=1]="SCAN_MODE_BALANCED",t[t.SCAN_MODE_LOW_LATENCY=2]="SCAN_MODE_LOW_LATENCY"})(Es||(Es={}));var Ss;(function(t){t[t.CONNECTION_PRIORITY_BALANCED=0]="CONNECTION_PRIORITY_BALANCED",t[t.CONNECTION_PRIORITY_HIGH=1]="CONNECTION_PRIORITY_HIGH",t[t.CONNECTION_PRIORITY_LOW_POWER=2]="CONNECTION_PRIORITY_LOW_POWER"})(Ss||(Ss={}));function no(t){return new DataView(Uint8Array.from(t).buffer)}function ro(t){return Array.from(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function hp(t){return no(t.split("").map(e=>e.charCodeAt(0)))}function _p(t){return String.fromCharCode(...ro(t))}function Ru(t){return`0000${t.toString(16).padStart(4,"0")}-0000-1000-8000-00805f9b34fb`}function $u(t){const e=[];let n,r,i=1,a=0;for(n=0;n<t.length;n++)r=t.charCodeAt(n),(r>47&&r<58||r>64&&r<71||r>96&&r<103)&&(a=a<<4^(r>64?r+9:r)&15,(i^=1)&&e.push(a&255));return no(e)}function oa(t){return ro(t).map(e=>{let n=e.toString(16);return n.length==1&&(n="0"+n),n}).join(" ")}function mp(t){if(typeof t=="string")return t;if(typeof t=="number")return Ru(t);throw new Error("Invalid UUID")}function bp(t){const e={};if(t)return t.forEach((n,r)=>{e[r.toString()]=n}),e}const gp="modulepreload",vp=function(t){return"/"+t},ol={},Uu=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=vp(l),l in ol)return;ol[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":gp,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((h,b)=>{d.addEventListener("load",h),d.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},He=ei("BluetoothLe",{web:()=>Uu(()=>import("./web.BhV1AMqB.js"),__vite__mapDeps([0,1])).then(t=>new t.BluetoothLeWeb)}),yp=()=>{let t=Promise.resolve();return e=>new Promise((n,r)=>{t=t.then(()=>e()).then(n).catch(r)})};function rs(t){return t?yp():e=>e()}function At(t){if(typeof t!="string")throw new Error(`Invalid UUID type ${typeof t}. Expected string.`);if(t=t.toLowerCase(),!(t.search(/^[0-9a-f]{8}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{12}$/)>=0))throw new Error(`Invalid UUID format ${t}. Expected 128 bit string (e.g. "0000180d-0000-1000-8000-00805f9b34fb").`);return t}class wp{constructor(){this.scanListener=null,this.eventListeners=new Map,this.queue=rs(!0)}enableQueue(){this.queue=rs(!0)}disableQueue(){this.queue=rs(!1)}async initialize(e){await this.queue(async()=>{await He.initialize(e)})}async isEnabled(){return await this.queue(async()=>(await He.isEnabled()).value)}async requestEnable(){await this.queue(async()=>{await He.requestEnable()})}async enable(){await this.queue(async()=>{await He.enable()})}async disable(){await this.queue(async()=>{await He.disable()})}async startEnabledNotifications(e){await this.queue(async()=>{var n;const r="onEnabledChanged";await((n=this.eventListeners.get(r))===null||n===void 0?void 0:n.remove());const i=await He.addListener(r,a=>{e(a.value)});this.eventListeners.set(r,i),await He.startEnabledNotifications()})}async stopEnabledNotifications(){await this.queue(async()=>{var e;const n="onEnabledChanged";await((e=this.eventListeners.get(n))===null||e===void 0?void 0:e.remove()),this.eventListeners.delete(n),await He.stopEnabledNotifications()})}async isLocationEnabled(){return await this.queue(async()=>(await He.isLocationEnabled()).value)}async openLocationSettings(){await this.queue(async()=>{await He.openLocationSettings()})}async openBluetoothSettings(){await this.queue(async()=>{await He.openBluetoothSettings()})}async openAppSettings(){await this.queue(async()=>{await He.openAppSettings()})}async setDisplayStrings(e){await this.queue(async()=>{await He.setDisplayStrings(e)})}async requestDevice(e){return e=e?this.validateRequestBleDeviceOptions(e):void 0,await this.queue(async()=>await He.requestDevice(e))}async requestLEScan(e,n){e=this.validateRequestBleDeviceOptions(e),await this.queue(async()=>{var r;await((r=this.scanListener)===null||r===void 0?void 0:r.remove()),this.scanListener=await He.addListener("onScanResult",i=>{const a=Object.assign(Object.assign({},i),{manufacturerData:this.convertObject(i.manufacturerData),serviceData:this.convertObject(i.serviceData),rawAdvertisement:i.rawAdvertisement?this.convertValue(i.rawAdvertisement):void 0});n(a)}),await He.requestLEScan(e)})}async stopLEScan(){await this.queue(async()=>{var e;await((e=this.scanListener)===null||e===void 0?void 0:e.remove()),this.scanListener=null,await He.stopLEScan()})}async getDevices(e){if(!Array.isArray(e))throw new Error("deviceIds must be an array");return this.queue(async()=>(await He.getDevices({deviceIds:e})).devices)}async getConnectedDevices(e){if(!Array.isArray(e))throw new Error("services must be an array");return e=e.map(At),this.queue(async()=>(await He.getConnectedDevices({services:e})).devices)}async connect(e,n,r){await this.queue(async()=>{var i;if(n){const a=`disconnected|${e}`;await((i=this.eventListeners.get(a))===null||i===void 0?void 0:i.remove());const s=await He.addListener(a,()=>{n(e)});this.eventListeners.set(a,s)}await He.connect(Object.assign({deviceId:e},r))})}async createBond(e,n){await this.queue(async()=>{await He.createBond(Object.assign({deviceId:e},n))})}async isBonded(e){return await this.queue(async()=>(await He.isBonded({deviceId:e})).value)}async disconnect(e){await this.queue(async()=>{await He.disconnect({deviceId:e})})}async getServices(e){return await this.queue(async()=>(await He.getServices({deviceId:e})).services)}async discoverServices(e){await this.queue(async()=>{await He.discoverServices({deviceId:e})})}async getMtu(e){return await this.queue(async()=>(await He.getMtu({deviceId:e})).value)}async requestConnectionPriority(e,n){await this.queue(async()=>{await He.requestConnectionPriority({deviceId:e,connectionPriority:n})})}async readRssi(e){return await this.queue(async()=>{const r=await He.readRssi({deviceId:e});return parseFloat(r.value)})}async read(e,n,r,i){return n=At(n),r=At(r),await this.queue(async()=>{const s=await He.read(Object.assign({deviceId:e,service:n,characteristic:r},i));return this.convertValue(s.value)})}async write(e,n,r,i,a){return n=At(n),r=At(r),this.queue(async()=>{if(!(i!=null&&i.buffer))throw new Error("Invalid data.");let s=i;Kn.getPlatform()!=="web"&&(s=oa(i)),await He.write(Object.assign({deviceId:e,service:n,characteristic:r,value:s},a))})}async writeWithoutResponse(e,n,r,i,a){n=At(n),r=At(r),await this.queue(async()=>{if(!(i!=null&&i.buffer))throw new Error("Invalid data.");let s=i;Kn.getPlatform()!=="web"&&(s=oa(i)),await He.writeWithoutResponse(Object.assign({deviceId:e,service:n,characteristic:r,value:s},a))})}async readDescriptor(e,n,r,i,a){return n=At(n),r=At(r),i=At(i),await this.queue(async()=>{const o=await He.readDescriptor(Object.assign({deviceId:e,service:n,characteristic:r,descriptor:i},a));return this.convertValue(o.value)})}async writeDescriptor(e,n,r,i,a,s){return n=At(n),r=At(r),i=At(i),this.queue(async()=>{if(!(a!=null&&a.buffer))throw new Error("Invalid data.");let o=a;Kn.getPlatform()!=="web"&&(o=oa(a)),await He.writeDescriptor(Object.assign({deviceId:e,service:n,characteristic:r,descriptor:i,value:o},s))})}async startNotifications(e,n,r,i){n=At(n),r=At(r),await this.queue(async()=>{var a;const s=`notification|${e}|${n}|${r}`;await((a=this.eventListeners.get(s))===null||a===void 0?void 0:a.remove());const o=await He.addListener(s,l=>{i(this.convertValue(l==null?void 0:l.value))});this.eventListeners.set(s,o),await He.startNotifications({deviceId:e,service:n,characteristic:r})})}async stopNotifications(e,n,r){n=At(n),r=At(r),await this.queue(async()=>{var i;const a=`notification|${e}|${n}|${r}`;await((i=this.eventListeners.get(a))===null||i===void 0?void 0:i.remove()),this.eventListeners.delete(a),await He.stopNotifications({deviceId:e,service:n,characteristic:r})})}validateRequestBleDeviceOptions(e){return e.services&&(e.services=e.services.map(At)),e.optionalServices&&(e.optionalServices=e.optionalServices.map(At)),e}convertValue(e){return typeof e=="string"?$u(e):e===void 0?new DataView(new ArrayBuffer(0)):e}convertObject(e){if(e===void 0)return;const n={};for(const r of Object.keys(e))n[r]=this.convertValue(e[r]);return n}}const kp=new wp,Tp=Object.freeze(Object.defineProperty({__proto__:null,BleClient:kp,BluetoothLe:He,get ConnectionPriority(){return Ss},get ScanMode(){return Es},dataViewToHexString:oa,dataViewToNumbers:ro,dataViewToText:_p,hexStringToDataView:$u,mapToObject:bp,numberToUUID:Ru,numbersToDataView:no,textToDataView:hp,webUUIDToString:mp},Symbol.toStringTag,{value:"Module"})),Pp=Ta(Tp);var ll;function Ep(){if(ll)return bi;ll=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.NiimbotCapacitorBleClient=void 0;const t=tt,e=Ba(),n=Ia(),r=Yt(),i=an,a=Pp;class s extends e.NiimbotAbstractClient{constructor(){super(...arguments),this.packetBuf=new Uint8Array}async connect(l){if(await this.disconnect(),await a.BleClient.initialize({androidNeverForLocation:!0}),!await a.BleClient.isEnabled())throw new Error("Bluetooth is not enabled");let u;(l==null?void 0:l.deviceId)!==void 0?u={deviceId:l.deviceId,name:l.deviceId}:u=await a.BleClient.requestDevice(),await a.BleClient.connect(u.deviceId,()=>this.onBleDisconnect());const{service:d,characteristic:h}=await this.findSuitableCharacteristic(u.deviceId).finally(()=>this.onBleDisconnect());this.deviceId=u.deviceId,this.serviceUUID=d,this.characteristicUUID=h,this.debug&&console.log("Suitable channel found:",{service:d,characteristic:h}),await a.BleClient.startNotifications(this.deviceId,this.serviceUUID,this.characteristicUUID,p=>{this.onBlePacketReceived(p)});try{await this.initialNegotiate(),await this.fetchPrinterInfo()}catch(p){console.error("Unable to fetch printer info."),console.error(p)}const b={deviceName:u.name,result:this.info.connectResult??r.ConnectResult.FirmwareErrors};return this.emit("connect",new t.ConnectEvent(b)),b}async findSuitableCharacteristic(l){const c=await a.BleClient.getServices(l);for(const u of c){if(u.uuid.length<5)continue;const d=u.characteristics;for(const h of d)if(h.properties.notify&&h.properties.writeWithoutResponse)return{characteristic:h.uuid,service:u.uuid}}throw new Error("Unable to find suitable channel characteristic")}onBlePacketReceived(l){if(l.byteLength!==0){this.packetBuf=i.Utils.u8ArrayAppend(this.packetBuf,new Uint8Array(l.buffer));try{const c=n.NiimbotPacket.fromBytesMultiPacket(this.packetBuf);c.length>0&&(this.emit("rawpacketreceived",new t.RawPacketReceivedEvent(this.packetBuf)),c.forEach(u=>{this.emit("packetreceived",new t.PacketReceivedEvent(u))}),this.packetBuf=new Uint8Array)}catch{this.debug&&console.info(`Incomplete packet, ignoring:${i.Utils.bufToHex(this.packetBuf)}`)}}}onBleDisconnect(){this.deviceId=void 0,this.serviceUUID=void 0,this.characteristicUUID=void 0,this.info={},this.emit("disconnect",new t.DisconnectEvent)}isConnected(){return this.deviceId!==void 0}async disconnect(){this.stopHeartbeat(),this.deviceId!==void 0&&(await a.BleClient.stopNotifications(this.deviceId,this.serviceUUID,this.characteristicUUID),await a.BleClient.disconnect(this.deviceId)),this.deviceId=void 0,this.info={}}async sendRaw(l,c){const u=async()=>{if(!this.isConnected())throw new Error("Channel is closed");await i.Utils.sleep(this.packetIntervalMs);const d=new DataView(l.buffer,l.byteOffset,l.byteLength);await a.BleClient.writeWithoutResponse(this.deviceId,this.serviceUUID,this.characteristicUUID,d),this.emit("rawpacketsent",new t.RawPacketSentEvent(l))};c?await u():await this.mutex.runExclusive(u)}}return bi.NiimbotCapacitorBleClient=s,bi}var gi={},cl;function Sp(){if(cl)return gi;cl=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.NiimbotSerialClient=void 0;const t=tt,e=Ba(),n=Ia(),r=Yt(),i=an;class a extends e.NiimbotAbstractClient{constructor(){super(...arguments),this.port=void 0,this.writer=void 0,this.reader=void 0}async connect(){var u,d;await this.disconnect();const o=await navigator.serial.requestPort();if(o.addEventListener("disconnect",()=>{this.port=void 0,this.emit("disconnect",new t.DisconnectEvent)}),await o.open({baudRate:115200}),o.readable===null)throw new Error("Port is not readable");if(o.writable===null)throw new Error("Port is not writable");this.port=o;const l=o.getInfo();this.writer=o.writable.getWriter(),this.reader=o.readable.getReader(),setTimeout(()=>{(async()=>await this.waitSerialData())()},1);try{await this.initialNegotiate(),await this.fetchPrinterInfo()}catch(h){console.error("Unable to fetch printer info (is it turned on?)."),console.error(h)}const c={deviceName:`Serial (VID:${(u=l.usbVendorId)==null?void 0:u.toString(16)} PID:${(d=l.usbProductId)==null?void 0:d.toString(16)})`,result:this.info.connectResult??r.ConnectResult.FirmwareErrors};return this.emit("connect",new t.ConnectEvent(c)),c}async waitSerialData(){let o=new Uint8Array;for(;;){try{const l=await this.reader.read();if(l.value&&(this.debug&&console.info(`<< serial chunk ${i.Utils.bufToHex(l.value)}`),o=i.Utils.u8ArrayAppend(o,l.value)),l.done){console.log("done");break}}catch{break}try{const l=n.NiimbotPacket.fromBytesMultiPacket(o);l.length>0&&(this.emit("rawpacketreceived",new t.RawPacketReceivedEvent(o)),l.forEach(c=>{this.emit("packetreceived",new t.PacketReceivedEvent(c))}),o=new Uint8Array)}catch{this.debug&&console.info(`Incomplete packet, ignoring:${i.Utils.bufToHex(o)}`)}}}async disconnect(){this.stopHeartbeat(),this.writer!==void 0&&this.writer.releaseLock(),this.reader!==void 0&&this.reader.releaseLock(),this.port!==void 0&&(await this.port.close(),this.emit("disconnect",new t.DisconnectEvent)),this.port=void 0,this.writer=void 0}isConnected(){return this.port!==void 0&&this.writer!==void 0&&this.reader!==void 0}async sendRaw(o,l){const c=async()=>{if(!this.isConnected())throw new Error("Port is not readable/writable");await i.Utils.sleep(this.packetIntervalMs),await this.writer.write(o),this.emit("rawpacketsent",new t.RawPacketSentEvent(o))};l?await c():await this.mutex.runExclusive(c)}}return gi.NiimbotSerialClient=a,gi}var ul;function Ba(){return ul||(ul=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.NiimbotSerialClient=t.NiimbotCapacitorBleClient=t.NiimbotBluetoothClient=t.NiimbotAbstractClient=t.instantiateClient=void 0;const e=fp();Object.defineProperty(t,"NiimbotAbstractClient",{enumerable:!0,get:function(){return e.NiimbotAbstractClient}});const n=pp();Object.defineProperty(t,"NiimbotBluetoothClient",{enumerable:!0,get:function(){return n.NiimbotBluetoothClient}});const r=Ep();Object.defineProperty(t,"NiimbotCapacitorBleClient",{enumerable:!0,get:function(){return r.NiimbotCapacitorBleClient}});const i=Sp();Object.defineProperty(t,"NiimbotSerialClient",{enumerable:!0,get:function(){return i.NiimbotSerialClient}});const a=s=>{if(s==="bluetooth")return new n.NiimbotBluetoothClient;if(s==="capacitor-ble")return new r.NiimbotCapacitorBleClient;if(s==="serial")return new i.NiimbotSerialClient;throw new Error("Invalid client type")};t.instantiateClient=a}(Xa)),Xa}var dl;function Vu(){return dl||(dl=1,function(t){var e=dt&&dt.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=dt&&dt.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(Ba(),t),n(Yt(),t),n(tt,t),n(xu(),t),n(an,t),n(eo(),t),n(to(),t)}(Ja)),Ja}var at=Vu();const Br=[];function Ap(t,e){return{subscribe:Wn(t,e).subscribe}}function Wn(t,e=gt){let n;const r=new Set;function i(o){if(_t(t,o)&&(t=o,n)){const l=!Br.length;for(const c of r)c[1](),Br.push(c,t);if(l){for(let c=0;c<Br.length;c+=2)Br[c][0](Br[c+1]);Br.length=0}}}function a(o){i(o(t))}function s(o,l=gt){const c=[o,l];return r.add(c),r.size===1&&(n=e(i,a)||gt),o(t),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:i,update:a,subscribe:s}}function zu(t,e,n){const r=!Array.isArray(t),i=r?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=e.length<2;return Ap(n,(s,o)=>{let l=!1;const c=[];let u=0,d=gt;const h=()=>{if(u)return;d();const p=e(r?c[0]:c,s,o);a?s(p):d=Gs(p)?p:gt},b=i.map((p,_)=>Zs(p,g=>{c[_]=g,u&=~(1<<_),l&&h()},()=>{u|=1<<_}));return l=!0,h(),function(){st(b),d(),l=!1}})}const Dp={"browser_warning.lines.first":"Oh nein, Dein Browser unterstützt kein Bluetooth und keine serielle Schnittstelle","browser_warning.lines.second":"Du kannst trotzdem Etiketten erstellen.","connector.bluetooth":"Bluetooth","connector.serial":"Seriell (USB)","connector.disconnect.heartbeat":"Getrennt (Drucker reagiert nicht)","editor.clone":"Klonen","editor.undo":"Rückgängig machen","editor.redo":"Wiederholen","editor.default_text":"Text","editor.delete":"Löschen","editor.import.zpl":"ZPL Importieren","editor.iconpicker.search":"Suchen","editor.iconpicker.title":"Icon hinzufügen","editor.iconpicker.mdi_link_title":"Siehe detaillierte Liste hier","editor.objectpicker.barcode":"Barcode","editor.objectpicker.circle":"Kreis","editor.objectpicker.image":"Grafik","editor.objectpicker.line":"Linie","editor.objectpicker.qrcode":"QR-Code","editor.objectpicker.rectangle":"Rechteck","editor.objectpicker.text":"Text","editor.objectpicker.title":"Objekt hinzufügen","editor.preview":"Vorschau","editor.print":"Drucken","editor.warning.load":"Zeichenfläche wird durch gespeicherte Daten ersetzt","editor.warning.save":"Gespeicherte Daten werden überschrieben. Speichern?","main.built":"erstellt am","main.code":"Quellcode","params.barcode.content":"Inhalt","params.barcode.enable_caption":"Beschriftung aktivieren","params.barcode.encoding":"Kodierung","params.barcode.font_size":"Schriftgröße","params.barcode.scale":"Skalierungsfaktor","params.csv.enabled":"Aktiviert","params.csv.placeholders":"Variablen:","params.csv.rowsfound":"Gefundene Zeilen:","params.csv.tip":"Die erste Zeile ist eine Kopfzeile. Sie wird als Variablenname verwendet. Kommas werden als Trennzeichen verwendet.","params.csv.title":"Dynamische Etikettendaten (CSV)","params.generic.center.horizontal":"Horizontal zentrieren","params.generic.center.vertical":"Vertikal zentrieren","params.label.apply":"Anwenden","params.label.current":"Aktuelle Parameter:","params.label.menu_title":"Label Eigenschaften","params.label.direction.left":"Links","params.label.direction.top":"Oben","params.label.direction":"Drucken von","params.label.dpmm":"dpmm","params.label.head_density.help":"Kalkulation: DPI / 25.4","params.label.head_density":"Pixeldichte","params.label.label_title":"Benutzerdefinierter Titel","params.label.mm":"mm","params.label.px":"px","params.label.save_template":"Als Vorlage speichern","params.label.size":"Größe","params.label.warning.direction":"Empfohlene Druckrichtung:","params.label.warning.width":"Die Etikettenbreite ist zu groß für den Drucker:","params.label.warning.import":"Alle gespeicherten Vorlagen werden überschrieben","params.label.export":"Export","params.label.import":"Import","params.qrcode.ecl":"Fehlerkorrekturstufe","params.text.align.center":"Text ausrichten: Zentriert","params.text.align.left":"Text ausrichten: Links","params.text.align.right":"Text ausrichten: Rechts","params.text.bold":"Fett","params.text.fetch_fonts":"Schriftarten laden","params.text.font_family":"Schriftart","params.text.font_size.down":"Schriftgröße verringern","params.text.font_size.up":"Schriftgröße erhöhen","params.text.font_size":"Schriftgröße","params.text.invert_colors":"Farben umkehren","params.text.line_height":"Linienhöhe","params.text.vorigin.bottom":"Unten","params.text.vorigin.center":"Zentriert","params.text.vorigin.top":"Oben","params.text.vorigin":"Vertikaler Ursprung","params.text.edit":"Im Popup bearbeiten","params.text.edit.title":"Text bearbeiten","params.variables.insert.date":"Datum","params.variables.insert.datetime":"Datum/Zeit","params.variables.insert.time":"Zeit","params.variables.insert":"Variable einfügen","params.saved_labels.menu_title":"Speichern/Laden (Browserspeicher)","params.saved_labels.kb_used":"kB benutzt","params.saved_labels.save.json":"Export","params.saved_labels.make_default":"Standard machen","params.saved_labels.save.browser":"Speichern","params.saved_labels.save.browser.replace":"Speichern (Ersetzen)","params.saved_labels.load.json":"Import","params.saved_labels.load.browser":"Laden","params.saved_labels.label_title":"Titel","params.saved_labels.label_title.placeholder":"(optional)","preview.close":"Schließen","preview.copies":"Kopien","preview.density":"Dichte","preview.label_type.Black":"Schwarz","preview.label_type.BlackMarkGap":"Schwarze Markierungslücke","preview.label_type.Continuous":"Fortführend","preview.label_type.HeatShrinkTube":"Schrumpfschlauch","preview.label_type.Invalid":"Ungültig","preview.label_type.Perforated":"Perforiert","preview.label_type.PvcTag":"PVC Tag","preview.label_type.Transparent":"Transparent","preview.label_type.WithGaps":"WithGaps","preview.label_type":"Etikettenpapier","preview.not_connected":"Drucker ist nicht verbunden","preview.not_implemented":"NICHT IMPLEMENTIERT","preview.postprocess.atkinson":"Dither (Atkinson)","preview.postprocess.threshold":"Schwellenwert","preview.postprocess":"Nachbearbeitung","preview.print_task":"Drucker","preview.print":"Drucken","preview.threshold":"Schwellenwert","preview.title":"Druckvorschau","preview.print.cancel":"Druck abbrechen","preview.offset":"Versatz","preview.offset.inner":"Innen","preview.offset.outer":"Außen"},Op={"browser_warning.lines.first":"Oh no, your browser does not support bluetooth and serial communications","browser_warning.lines.second":"Anyway, you still can draw labels.","connector.bluetooth":"Bluetooth","connector.serial":"Serial (USB)","connector.disconnect.heartbeat":"Disconnected (printer does not respond)","editor.clone":"Clone","editor.undo":"Undo","editor.redo":"Redo","editor.default_text":"Text","editor.delete":"Delete","editor.import.zpl":"Import ZPL","editor.iconpicker.search":"Search","editor.iconpicker.title":"Add icon","editor.iconpicker.mdi_link_title":"See detailed list here","editor.objectpicker.barcode":"Barcode","editor.objectpicker.circle":"Circle","editor.objectpicker.image":"Image","editor.objectpicker.line":"Line","editor.objectpicker.qrcode":"QR Code","editor.objectpicker.rectangle":"Rectangle","editor.objectpicker.text":"Text","editor.objectpicker.title":"Add object","editor.preview":"Preview","editor.print":"Print","editor.warning.load":"Canvas will be replaced with saved data","editor.warning.save":"Saved data will be overwritten. Save?","main.built":"built at","main.code":"Code","params.barcode.content":"Content","params.barcode.enable_caption":"Enable caption","params.barcode.encoding":"Encoding","params.barcode.font_size":"Font size","params.barcode.scale":"Scale factor","params.csv.enabled":"Enabled","params.csv.placeholders":"Variables:","params.csv.rowsfound":"Data rows found:","params.csv.tip":"First row is a header. It used as variable names. Commas are used as separators.","params.csv.title":"Dynamic label data (CSV)","params.generic.center.horizontal":"Center horizontally","params.generic.center.vertical":"Center vertically","params.label.apply":"Apply","params.label.current":"Current parameters:","params.label.menu_title":"Label properties","params.label.direction.left":"Left","params.label.direction.top":"Top","params.label.direction":"Print from","params.label.dpmm":"dpmm","params.label.head_density.help":"Calculation: DPI / 25.4","params.label.head_density":"Pixel density","params.label.label_title":"Custom title","params.label.mm":"mm","params.label.px":"px","params.label.save_template":"Save as template","params.label.size":"Size","params.label.warning.direction":"Recommended direction for your printer:","params.label.warning.width":"Label width is too big for your printer:","params.label.warning.import":"All saved templates will be overwritten","params.label.export":"Export","params.label.import":"Import","params.qrcode.ecl":"Error Correction Level","params.text.align.center":"Align text: Center","params.text.align.left":"Align text: Left","params.text.align.right":"Align text: Right","params.text.bold":"Bold","params.text.fetch_fonts":"Fetch fonts","params.text.font_family":"Font family","params.text.font_size.down":"Decrease font size","params.text.font_size.up":"Increase font size","params.text.font_size":"Font size","params.text.invert_colors":"Invert colors","params.text.line_height":"Line height","params.text.vorigin.bottom":"Bottom","params.text.vorigin.center":"Center","params.text.vorigin.top":"Top","params.text.vorigin":"Vertical Origin","params.text.edit":"Edit in popup","params.text.edit.title":"Editing text","params.variables.insert.date":"Date","params.variables.insert.datetime":"Datetime","params.variables.insert.time":"Time","params.variables.insert":"Insert variable","params.saved_labels.menu_title":"Save/load (browser storage)","params.saved_labels.kb_used":"kB used","params.saved_labels.make_default":"Make default","params.saved_labels.save.json":"Export","params.saved_labels.save.browser":"Save","params.saved_labels.save.browser.replace":"Save (replace)","params.saved_labels.load.json":"Import","params.saved_labels.load.browser":"Load","params.saved_labels.label_title":"Title","params.saved_labels.label_title.placeholder":"(optional)","preview.close":"Close","preview.copies":"Copies","preview.density":"Density","preview.label_type.Black":"Black","preview.label_type.BlackMarkGap":"Black mark gap","preview.label_type.Continuous":"Continuous","preview.label_type.HeatShrinkTube":"Heat shrink tube","preview.label_type.Invalid":"Invalid","preview.label_type.Perforated":"Perforated","preview.label_type.PvcTag":"PVC Tag","preview.label_type.Transparent":"Transparent","preview.label_type.WithGaps":"WithGaps","preview.label_type":"Label type","preview.not_connected":"Printer is not connected","preview.not_implemented":"NOT IMPLEMENTED","preview.postprocess.atkinson":"Dither (Atkinson)","preview.postprocess.threshold":"Threshold","preview.postprocess":"Post-process","preview.print_task":"Print task","preview.print":"Print","preview.threshold":"Threshold","preview.title":"Print preview","preview.print.cancel":"Cancel print","preview.offset":"Offset","preview.offset.inner":"Inner","preview.offset.outer":"Outer"},Lp={"browser_warning.lines.first":"Oh no, il tuo browser non supporta le comunicazioni Bluetooth e seriali","browser_warning.lines.second":"Comunque, puoi disegnare etichette.","connector.bluetooth":"Bluetooth","connector.serial":"Seriale (USB)","connector.disconnect.heartbeat":"Disconnesso (la stampante non risponde)","editor.clone":"Clona","editor.undo":"Annulla","editor.redo":"Ripristina","editor.default_text":"Testo","editor.delete":"Elimina","editor.import.zpl":"Importa ZPL","editor.iconpicker.search":"Cerca","editor.iconpicker.title":"Aggiungi icona","editor.iconpicker.mdi_link_title":"Vedi elenco dettagliato","editor.objectpicker.barcode":"Codice a barre","editor.objectpicker.circle":"Cerchio","editor.objectpicker.image":"Immagine","editor.objectpicker.line":"Linea","editor.objectpicker.qrcode":"Codice QR","editor.objectpicker.rectangle":"Rettangolo","editor.objectpicker.text":"Testo","editor.objectpicker.title":"Aggiungi oggetto","editor.preview":"Anteprima","editor.print":"Stampa","editor.warning.load":"La tela verrà sostituita con i dati salvati","editor.warning.save":"I dati salvati verranno sovrascritti. Salvare?","main.built":"costruito in","main.code":"Versione","params.barcode.content":"Contenuto","params.barcode.enable_caption":"Abilita didascalia","params.barcode.encoding":"Codifica","params.barcode.font_size":"Dimensione carattere","params.barcode.scale":"Fattore di scala","params.csv.enabled":"Abilitato","params.csv.placeholders":"Variabili:","params.csv.rowsfound":"Righe di dati trovate:","params.csv.tip":"La prima riga è un'header. Le virgole sono utilizzate come separatori.","params.csv.title":"CSV","params.generic.center.horizontal":"Centra orizzontalmente","params.generic.center.vertical":"Centra verticalmente","params.label.apply":"Applica","params.label.current":"Parametri correnti:","params.label.menu_title":"Proprietà etichetta","params.label.direction.left":"Sinistra","params.label.direction.top":"In alto","params.label.direction":"Direzione stampa","params.label.dpmm":"dpmm","params.label.head_density.help":"Calcolo: DPI / 25,4","params.label.head_density":"Densità pixel","params.label.label_title":"Titolo personalizzato","params.label.mm":"mm","params.label.px":"px","params.label.save_template":"Salva come modello","params.label.size":"Dimensione","params.label.warning.direction":"Direzione consigliata per la stampante:","params.label.warning.width":"La larghezza dell'etichetta è troppo grande per la stampante:","params.label.warning.import":"Tutti i modelli salvati verranno sovrascritti","params.label.export":"Esporta","params.label.import":"Importa","params.qrcode.ecl":"Livello di correzione degli errori","params.text.align.center":"Allinea il testo: al centro","params.text.align.left":"Allinea il testo: a sinistra","params.text.align.right":"Allinea testo: a destra","params.text.bold":"Grassetto","params.text.fetch_fonts":"Recupera font","params.text.font_family":"Famiglia di font","params.text.font_size.down":"Diminuisci dimensione font","params.text.font_size.up":"Aumenta dimensione font","params.text.font_size":"Dimensione font","params.text.invert_colors":"Inverti colori","params.text.line_height":"Altezza riga","params.text.vorigin.bottom":"Basso","params.text.vorigin.center":"Centro","params.text.vorigin.top":"Alto","params.text.vorigin":"Origine verticale","params.text.edit":"Modifica in popup","params.text.edit.title":"Modifica testo","params.variables.insert.date":"Data","params.variables.insert.datetime":"Data e ora","params.variables.insert.time":"Ora","params.variables.insert":"Inserisci variabile","params.saved_labels.menu_title":"Salva/carica (salva in browser)","params.saved_labels.kb_used":"kB utilizzati","params.saved_labels.save.json":"Esporta","params.saved_labels.make_default":"Rendere predefinito","params.saved_labels.save.browser":"Salva","params.saved_labels.save.browser.replace":"Salva (sostituisci)","params.saved_labels.load.json":"Importa","params.saved_labels.load.browser":"Carica","params.saved_labels.label_title":"Titolo","params.saved_labels.label_title.placeholder":"(facoltativo)","preview.close":"Chiudi","preview.copies":"Copie","preview.density":"Densità","preview.label_type.Black":"Nero","preview.label_type.BlackMarkGap":"Spazio segno nero","preview.label_type.Continuous":"Continuo","preview.label_type.HeatShrinkTube":"Tubo termoretraibile","preview.label_type.Invalid":"Non valido","preview.label_type.Perforated":"Perforato","preview.label_type.PvcTag":"Etichetta in PVC","preview.label_type.Transparent":"Trasparente","preview.label_type.WithGaps":"With Gaps","preview.label_type":"Tipo di etichetta","preview.not_connected":"La stampante non è connessa","preview.not_implemented":"NON IMPLEMENTATO","preview.postprocess.atkinson":"Dither (Atkinson)","preview.postprocess.threshold":"Soglia","preview.postprocess":"Post-processo","preview.print_task":"Stampante","preview.print":"Stampa","preview.threshold":"Soglia","preview.title":"Anteprima","preview.print.cancel":"Annulla stampa","preview.offset":"Offset","preview.offset.inner":"Interno","preview.offset.outer":"Esterno"},Cp={"main.code":"Исходный код","main.built":"собрано","browser_warning.lines.first":"О нет, ваш браузер не поддерживает Bluetooth и последовательный порт","browser_warning.lines.second":"В любом случае, вы можете рисовать этикетки.","connector.bluetooth":"Bluetooth","connector.serial":"Посл. порт (USB)","connector.disconnect.heartbeat":"Отключено (принтер не отвечает)","editor.default_text":"Текст","editor.import.zpl":"Импорт ZPL","editor.preview":"Предпросмотр","editor.print":"Печать","editor.delete":"Удалить","editor.clone":"Клонировать","editor.undo":"Отменить","editor.redo":"Повторить","editor.warning.save":"Сохранённые данные будут перезаписаны. Сохранить?","editor.warning.load":"Холст будет заменён на сохранённый","preview.title":"Предпросмотр печати","preview.postprocess":"Постобработка","preview.postprocess.threshold":"Порог","preview.postprocess.atkinson":"Дизеринг (Аткинсон)","preview.threshold":"Порог","preview.copies":"Копии","preview.density":"Плотность","preview.print_task":"Задача печати","preview.not_implemented":"НЕ РЕАЛИЗОВАНО","preview.close":"Закрыть","preview.print":"Печать","preview.print.cancel":"Отменить печать","preview.not_connected":"Принтер не подключен","preview.label_type":"Тип этикетки","preview.label_type.Invalid":"Некорректный","preview.label_type.WithGaps":"С промежутками","preview.label_type.Black":"Чёрный","preview.label_type.Continuous":"Неразрывный","preview.label_type.Perforated":"С отверстиями","preview.label_type.Transparent":"Прозрачный","preview.label_type.PvcTag":"ПВХ","preview.label_type.BlackMarkGap":"С чёрными метками","preview.label_type.HeatShrinkTube":"Термоусадочная трубка","preview.offset":"Смещение","preview.offset.inner":"Внутри","preview.offset.outer":"Снаружи","editor.objectpicker.title":"Добавить объект","editor.objectpicker.text":"Текст","editor.objectpicker.line":"Линия","editor.objectpicker.rectangle":"Прямоугольник","editor.objectpicker.circle":"Круг","editor.objectpicker.image":"Картинка","editor.objectpicker.qrcode":"QR Код","editor.objectpicker.barcode":"Штрих-код","editor.iconpicker.title":"Добавить иконку","editor.iconpicker.search":"Поиск","editor.iconpicker.mdi_link_title":"Подробный список здесь","params.csv.title":"Динамические данные (CSV)","params.csv.tip":"Первая строка - заголовок. Он используется для имён переменных. В качестве разделителей используются запятые.","params.csv.rowsfound":"Найдено строк c данными:","params.csv.enabled":"Включить","params.csv.placeholders":"Переменные:","params.label.menu_title":"Настройки этикетки","params.label.label_title":"Своё название","params.label.size":"Размер","params.label.mm":"мм","params.label.dpmm":"пикс/мм","params.label.px":"пикс.","params.label.direction":"Печатать","params.label.direction.left":"Слева","params.label.direction.top":"Сверху","params.label.apply":"Применить","params.label.current":"Текущие параметры:","params.label.save_template":"Сохранить как шаблон","params.label.head_density":"Плотность пикселей","params.label.head_density.help":"Вычисление: DPI / 25.4","params.label.warning.width":"Ширина этикетки слишком велика для принтера:","params.label.warning.direction":"Рекомендуемое направление печати для вашего принтера:","params.label.warning.import":"Все сохранённые шаблоны будут перезаписаны","params.label.export":"Экспорт","params.label.import":"Импорт","params.text.fetch_fonts":"Получить список шрифтов","params.text.align.left":"Выравнивание текста: Слева","params.text.align.center":"Выравнивание текста: По центру","params.text.align.right":"Выравнивание текста: Справа","params.text.vorigin":"Вертикальная привязка","params.text.vorigin.top":"Сверху","params.text.vorigin.center":"Снизу","params.text.vorigin.bottom":"Снизу","params.text.bold":"Полужирный","params.text.font_size":"Размер шрифта","params.text.font_size.up":"Увеличить размер шрифта","params.text.font_size.down":"Уменьшить размер шрифта","params.text.line_height":"Межстрочный интервал","params.text.font_family":"Шрифт","params.text.invert_colors":"Инвертировать цвета","params.text.edit":"Редактировать во всплывающем диалоге","params.text.edit.title":"Редактирование текста","params.variables.insert":"Вставить переменную","params.variables.insert.datetime":"Дата и время","params.variables.insert.date":"Дата","params.variables.insert.time":"Время","params.generic.center.vertical":"Выровнять вертикально","params.generic.center.horizontal":"Выровнять горизонтально","params.qrcode.ecl":"Уровень коррекции ошибок","params.barcode.encoding":"Тип","params.barcode.content":"Содержимое","params.barcode.scale":"Масштаб","params.barcode.font_size":"Размер шрифта","params.barcode.enable_caption":"Показывать надпись","params.saved_labels.menu_title":"Сохранить/загрузить (хранилище браузера)","params.saved_labels.kb_used":"кБ использовано","params.saved_labels.make_default":"Сделать базовым","params.saved_labels.save.json":"Экспорт","params.saved_labels.save.browser":"Сохранить","params.saved_labels.save.browser.replace":"Сохранить (заменить)","params.saved_labels.load.json":"Импорт","params.saved_labels.load.browser":"Открыть","params.saved_labels.label_title":"Название","params.saved_labels.label_title.placeholder":"(необязательно)"},Ip={"browser_warning.lines.first":"哦豁，你的浏览器貌似不支持蓝牙和串口通讯","browser_warning.lines.second":"但是你依然可以使用标签编辑功能","connector.bluetooth":"蓝牙","connector.disconnect.heartbeat":"已断开（打印机无响应）","connector.serial":"串口（USB）","editor.clone":"复制","editor.default_text":"文本","editor.delete":"删除","editor.iconpicker.mdi_link_title":"在这里查看详细列表","editor.iconpicker.search":"搜索","editor.iconpicker.title":"添加图标","editor.import.zpl":"导入 ZPL 文件","editor.objectpicker.barcode":"条码","editor.objectpicker.circle":"圆形","editor.objectpicker.image":"图片","editor.objectpicker.line":"线条","editor.objectpicker.qrcode":"二维码","editor.objectpicker.rectangle":"矩形","editor.objectpicker.text":"文字","editor.objectpicker.title":"添加元素","editor.preview":"预览","editor.print":"打印","editor.redo":"重做","editor.undo":"撤消","editor.warning.load":"画布将被替换为保存的数据，需要继续吗？","editor.warning.save":"保存的数据将会被覆盖，需要继续吗？","main.built":"编译于","main.code":"查看源码","params.barcode.content":"内容","params.barcode.enable_caption":"打印文字","params.barcode.encoding":"类型","params.barcode.font_size":"字体大小","params.barcode.scale":"缩放比例","params.csv.enabled":"启用","params.csv.placeholders":"变量：","params.csv.rowsfound":"数据行数：","params.csv.tip":"第一行是表头，用作变量名。英文逗号用作分隔符。","params.csv.title":"动态标签数据（CSV）","params.generic.center.horizontal":"横向居中","params.generic.center.vertical":"竖向居中","params.label.apply":"应用","params.label.current":"当前设置：","params.label.direction.left":"向左","params.label.direction.top":"向上","params.label.direction":"出纸方向","params.label.dpmm":"点/毫米","params.label.export":"导出 JSON 文件","params.label.head_density.help":"计算方法：DPI / 25.4","params.label.head_density":"像素密度","params.label.import":"导入 JSON 文件","params.label.label_title":"自定义名称","params.label.menu_title":"标签规格","params.label.mm":"毫米","params.label.px":"像素","params.label.save_template":"保存模版","params.label.size":"尺寸","params.label.warning.direction":"根据你的打印机推荐使用：","params.label.warning.import":"所有已保存的标签规格将会被覆盖，是否继续？","params.label.warning.width":"标签宽度对于你的打印机来说可能太宽了：","params.qrcode.ecl":"误差校正级别","params.saved_labels.kb_used":"KB 已使用","params.saved_labels.label_title.placeholder":"（可选）","params.saved_labels.label_title":"名称","params.saved_labels.load.browser":"载入到画布","params.saved_labels.load.json":"导入 JSON 文件","params.saved_labels.menu_title":"已保存的标签","params.saved_labels.make_default":"设置默认","params.saved_labels.save.browser.replace":"保存/替换","params.saved_labels.save.browser":"另存为","params.saved_labels.save.json":"导出 JSON 文件","params.text.align.center":"居中","params.text.align.left":"左对齐","params.text.align.right":"右对齐","params.text.bold":"加粗","params.text.edit.title":"编辑文字","params.text.edit":"编辑","params.text.fetch_fonts":"获取系统字体","params.text.font_family":"字体","params.text.font_size.down":"缩小","params.text.font_size.up":"加大","params.text.font_size":"字体大小","params.text.invert_colors":"反转颜色","params.text.line_height":"行距","params.text.vorigin.bottom":"底部对齐","params.text.vorigin.center":"居中","params.text.vorigin.top":"顶部对齐","params.text.vorigin":"垂直对齐","params.variables.insert.date":"日期","params.variables.insert.datetime":"日期时间","params.variables.insert.time":"时间","params.variables.insert":"插入变量","preview.close":"关闭","preview.copies":"份数","preview.density":"浓度","preview.label_type.Black":"黑标纸","preview.label_type.BlackMarkGap":"黑标间隙纸","preview.label_type.Continuous":"连续纸","preview.label_type.HeatShrinkTube":"热缩管","preview.label_type.Invalid":"无效纸张","preview.label_type.Perforated":"定孔纸","preview.label_type.PvcTag":"PVC","preview.label_type.Transparent":"透明纸","preview.label_type.WithGaps":"间隙纸","preview.label_type":"标签类型","preview.not_connected":"打印机未连接","preview.not_implemented":"暂不支持","preview.offset.inner":"内偏移","preview.offset.outer":"外偏移","preview.offset":"偏移","preview.postprocess.atkinson":"抖动（Atkinson）","preview.postprocess.threshold":"阈值化","preview.postprocess":"前置处理器","preview.print_task":"打印接口","preview.print.cancel":"取消打印","preview.print":"打印","preview.threshold":"阈值","preview.title":"打印预览"},is={de:Dp,en:Op,it:Lp,ru:Cp,zh_cn:Ip},Bp={de:"Deutsch",en:"English",it:"Italiano",ru:"Русский",zh_cn:"简体中文"},Np=()=>{switch(navigator.language){case"de":case"de-AT":case"de-CH":case"de-DE":case"de-LI":case"de-LU":return"de";case"it":case"it-CH":case"it-IT":return"it";case"ru":case"ru-RU":return"ru";case"zh":case"zh-Hans":case"zh-CN":return"zh_cn";default:return"en"}},pa=Wn(localStorage.getItem("locale")??Np());pa.subscribe(t=>localStorage.setItem("locale",t));const Mt=zu(pa,t=>e=>{const n=is[t]?is[t][e]:void 0;return n===void 0?(t!=="en"&&console.warn(`${e} of ${t} locale is not translated`),is.en[e]):n}),fl=Bp,ha={123:60301,360:58743,"10k":59729,"10mp":59730,"11mp":59731,"12mp":59732,"13mp":59733,"14mp":59734,"15mp":59735,"16mp":59736,"17mp":59737,"18_up_rating":63741,"18mp":59738,"19mp":59739,"1k":59740,"1k_plus":59741,"1x_mobiledata":61389,"20mp":59742,"21mp":59743,"22mp":59744,"23mp":59745,"24mp":59746,"2k":59747,"2k_plus":59748,"2mp":59749,"30fps":61390,"30fps_select":61391,"3d_rotation":59469,"3g_mobiledata":61392,"3k":59750,"3k_plus":59751,"3mp":59752,"3p":61393,"4g_mobiledata":61394,"4g_plus_mobiledata":61395,"4k":57458,"4k_plus":59753,"4mp":59754,"5g":61240,"5k":59755,"5k_plus":59756,"5mp":59757,"60fps":61396,"60fps_select":61397,"6_ft_apart":61982,"6k":59758,"6k_plus":59759,"6mp":59760,"7k":59761,"7k_plus":59762,"7mp":59763,"8k":59764,"8k_plus":59765,"8mp":59766,"9k":59767,"9k_plus":59768,"9mp":59769,abc:60308,ac_unit:60219,access_alarm:57744,access_alarms:57745,access_time:57746,access_time_filled:61398,accessibility:59470,accessibility_new:59692,accessible:59668,accessible_forward:59700,account_balance:59471,account_balance_wallet:59472,account_box:59473,account_circle:59475,account_tree:59770,ad_units:61241,adb:58894,add:57669,add_a_photo:58425,add_alarm:57747,add_alert:57347,add_box:57670,add_business:59177,add_card:60294,add_chart:59771,add_circle:57671,add_circle_outline:57672,add_comment:57958,add_home:63723,add_home_work:63725,add_ic_call:59772,add_link:57720,add_location:58727,add_location_alt:61242,add_moderator:59773,add_photo_alternate:58430,add_reaction:57811,add_road:61243,add_shopping_cart:59476,add_task:62010,add_to_drive:58972,add_to_home_screen:57854,add_to_photos:58269,add_to_queue:57436,addchart:61244,adf_scanner:60122,adjust:58270,admin_panel_settings:61245,ads_click:59234,agriculture:60025,air:61400,airline_seat_flat:58928,airline_seat_flat_angled:58929,airline_seat_individual_suite:58930,airline_seat_legroom_extra:58931,airline_seat_legroom_normal:58932,airline_seat_legroom_reduced:58933,airline_seat_recline_extra:58934,airline_seat_recline_normal:58935,airline_stops:59344,airlines:59338,airplane_ticket:61401,airplanemode_active:57749,airplanemode_inactive:57748,airplay:57429,airport_shuttle:60220,alarm:59477,alarm_add:59478,alarm_off:59479,alarm_on:59480,album:57369,align_horizontal_center:57359,align_horizontal_left:57357,align_horizontal_right:57360,align_vertical_bottom:57365,align_vertical_center:57361,align_vertical_top:57356,all_inbox:59775,all_inclusive:60221,all_out:59659,alt_route:61828,alternate_email:57574,analytics:61246,anchor:61901,android:59481,animation:59164,announcement:59482,aod:61402,apartment:59968,api:61879,app_blocking:61247,app_registration:61248,app_settings_alt:61249,app_shortcut:60132,approval:59778,apps:58819,apps_outage:59340,architecture:59963,archive:57673,area_chart:59248,arrow_back:58820,arrow_back_ios:58848,arrow_back_ios_new:58090,arrow_circle_down:61825,arrow_circle_left:60071,arrow_circle_right:60074,arrow_circle_up:61826,arrow_downward:58843,arrow_drop_down:58821,arrow_drop_down_circle:58822,arrow_drop_up:58823,arrow_forward:58824,arrow_forward_ios:58849,arrow_left:58846,arrow_outward:63694,arrow_right:58847,arrow_right_alt:59713,arrow_upward:58840,art_track:57440,article:61250,aspect_ratio:59483,assessment:59484,assignment:59485,assignment_ind:59486,assignment_late:59487,assignment_return:59488,assignment_returned:59489,assignment_turned_in:59490,assist_walker:63701,assistant:58271,assistant_direction:59784,assistant_photo:58272,assured_workload:60271,atm:58739,attach_email:59998,attach_file:57894,attach_money:57895,attachment:58044,attractions:59986,attribution:61403,audio_file:60290,audiotrack:58273,auto_awesome:58975,auto_awesome_mosaic:58976,auto_awesome_motion:58977,auto_delete:59980,auto_fix_high:58979,auto_fix_normal:58980,auto_fix_off:58981,auto_graph:58619,auto_mode:60448,auto_stories:58982,autofps_select:61404,autorenew:59491,av_timer:57371,baby_changing_station:61851,back_hand:59236,backpack:61852,backspace:57674,backup:59492,backup_table:61251,badge:60007,bakery_dining:59987,balance:60150,balcony:58767,ballot:57714,bar_chart:57963,batch_prediction:61685,bathroom:61405,bathtub:59969,battery_0_bar:60380,battery_1_bar:60377,battery_2_bar:60384,battery_3_bar:60381,battery_4_bar:60386,battery_5_bar:60372,battery_6_bar:60370,battery_alert:57756,battery_charging_full:57763,battery_full:57764,battery_saver:61406,battery_std:57765,battery_unknown:57766,beach_access:60222,bed:61407,bedroom_baby:61408,bedroom_child:61409,bedroom_parent:61410,bedtime:61252,bedtime_off:60278,beenhere:58669,bento:61940,bike_scooter:61253,biotech:59962,blender:61411,blind:63702,blinds:57990,blinds_closed:60447,block:57675,bloodtype:61412,bluetooth:57767,bluetooth_audio:58895,bluetooth_connected:57768,bluetooth_disabled:57769,bluetooth_drive:61413,bluetooth_searching:57770,blur_circular:58274,blur_linear:58275,blur_off:58276,blur_on:58277,bolt:59915,book:59493,book_online:61975,bookmark:59494,bookmark_add:58776,bookmark_added:58777,bookmark_border:59495,bookmark_remove:58778,bookmarks:59787,border_all:57896,border_bottom:57897,border_clear:57898,border_color:57899,border_horizontal:57900,border_inner:57901,border_left:57902,border_outer:57903,border_right:57904,border_style:57905,border_top:57906,border_vertical:57907,boy:60263,branding_watermark:57451,breakfast_dining:59988,brightness_1:58278,brightness_2:58279,brightness_3:58280,brightness_4:58281,brightness_5:58282,brightness_6:58283,brightness_7:58284,brightness_auto:57771,brightness_high:57772,brightness_low:57773,brightness_medium:57774,broadcast_on_home:63736,broadcast_on_personal:63737,broken_image:58285,browse_gallery:60369,browser_not_supported:61255,browser_updated:59343,brunch_dining:60019,brush:58286,bubble_chart:59101,bug_report:59496,build:59497,build_circle:61256,bungalow:58769,burst_mode:58428,bus_alert:59791,business:57519,business_center:60223,cabin:58761,cable:61414,cached:59498,cake:59369,calculate:59999,calendar_month:60364,calendar_today:59701,calendar_view_day:59702,calendar_view_month:61415,calendar_view_week:61416,call:57520,call_end:57521,call_made:57522,call_merge:57523,call_missed:57524,call_missed_outgoing:57572,call_received:57525,call_split:57526,call_to_action:57452,camera:58287,camera_alt:58288,camera_enhance:59644,camera_front:58289,camera_indoor:61417,camera_outdoor:61418,camera_rear:58290,camera_roll:58291,cameraswitch:61419,campaign:61257,cancel:58825,cancel_presentation:57577,cancel_schedule_send:59961,candlestick_chart:60116,car_crash:60402,car_rental:59989,car_repair:59990,card_giftcard:59638,card_membership:59639,card_travel:59640,carpenter:61944,cases:59794,casino:60224,cast:58119,cast_connected:58120,cast_for_education:61420,castle:60081,catching_pokemon:58632,category:58740,celebration:60005,cell_tower:60346,cell_wifi:57580,center_focus_strong:58292,center_focus_weak:58293,chair:61421,chair_alt:61422,chalet:58757,change_circle:58087,change_history:59499,charging_station:61853,chat:57527,chat_bubble:57546,chat_bubble_outline:57547,check:58826,check_box:59444,check_box_outline_blank:59445,check_circle:59500,check_circle_outline:59693,checklist:59057,checklist_rtl:59059,checkroom:61854,chevron_left:58827,chevron_right:58828,child_care:60225,child_friendly:60226,chrome_reader_mode:59501,church:60078,circle:61258,circle_notifications:59796,class:59502,clean_hands:61983,cleaning_services:61695,clear:57676,clear_all:57528,close:58829,close_fullscreen:61903,closed_caption:57372,closed_caption_disabled:61916,closed_caption_off:59798,cloud:58045,cloud_circle:58046,cloud_done:58047,cloud_download:58048,cloud_off:58049,cloud_queue:58050,cloud_sync:60250,cloud_upload:58051,co2:59312,co_present:60144,code:59503,code_off:58611,coffee:61423,coffee_maker:61424,collections:58294,collections_bookmark:58417,color_lens:58295,colorize:58296,comment:57529,comment_bank:59982,comments_disabled:59298,commit:60149,commute:59712,compare:58297,compare_arrows:59669,compass_calibration:58748,compost:59233,compress:59725,computer:58122,confirmation_number:58936,connect_without_contact:61987,connected_tv:59800,connecting_airports:59337,construction:59964,contact_emergency:63697,contact_mail:57552,contact_page:61998,contact_phone:57551,contact_support:59724,contactless:60017,contacts:57530,content_copy:57677,content_cut:57678,content_paste:57679,content_paste_go:60046,content_paste_off:58616,content_paste_search:60059,contrast:60215,control_camera:57460,control_point:58298,control_point_duplicate:58299,cookie:60076,copy_all:58092,copyright:59660,coronavirus:61985,corporate_fare:61904,cottage:58759,countertops:61943,create:57680,create_new_folder:58060,credit_card:59504,credit_card_off:58612,credit_score:61425,crib:58760,crisis_alert:60393,crop:58302,crop_16_9:58300,crop_3_2:58301,crop_5_4:58303,crop_7_5:58304,crop_din:58305,crop_free:58306,crop_landscape:58307,crop_original:58308,crop_portrait:58309,crop_rotate:58423,crop_square:58310,cruelty_free:59289,css:60307,currency_bitcoin:60357,currency_exchange:60272,currency_franc:60154,currency_lira:60143,currency_pound:60145,currency_ruble:60140,currency_rupee:60151,currency_yen:60155,currency_yuan:60153,curtains:60446,curtains_closed:60445,cyclone:60373,dangerous:59802,dark_mode:58652,dashboard:59505,dashboard_customize:59803,data_array:60113,data_exploration:59247,data_object:60115,data_saver_off:61426,data_saver_on:61427,data_thresholding:60319,data_usage:57775,dataset:63726,dataset_linked:63727,date_range:59670,deblur:60279,deck:59970,dehaze:58311,delete:59506,delete_forever:59691,delete_outline:59694,delete_sweep:57708,delivery_dining:60018,density_large:60329,density_medium:60318,density_small:60328,departure_board:58742,description:59507,deselect:60342,design_services:61706,desk:63732,desktop_access_disabled:59805,desktop_mac:58123,desktop_windows:58124,details:58312,developer_board:58125,developer_board_off:58623,developer_mode:57776,device_hub:58165,device_thermostat:57855,device_unknown:58169,devices:57777,devices_fold:60382,devices_other:58167,dialer_sip:57531,dialpad:57532,diamond:60117,difference:60285,dining:61428,dinner_dining:59991,directions:58670,directions_bike:58671,directions_boat:58674,directions_boat_filled:61429,directions_bus:58672,directions_bus_filled:61430,directions_car:58673,directions_car_filled:61431,directions_off:61711,directions_railway:58676,directions_railway_filled:61432,directions_run:58726,directions_subway:58675,directions_subway_filled:61433,directions_transit:58677,directions_transit_filled:61434,directions_walk:58678,dirty_lens:61259,disabled_by_default:62e3,disabled_visible:59246,disc_full:58896,discount:60361,display_settings:60311,diversity_1:63703,diversity_2:63704,diversity_3:63705,dns:59509,do_disturb:61580,do_disturb_alt:61581,do_disturb_off:61582,do_disturb_on:61583,do_not_disturb:58898,do_not_disturb_alt:58897,do_not_disturb_off:58947,do_not_disturb_on:58948,do_not_disturb_on_total_silence:61435,do_not_step:61855,do_not_touch:61872,dock:58126,document_scanner:58874,domain:59374,domain_add:60258,domain_disabled:57583,domain_verification:61260,done:59510,done_all:59511,done_outline:59695,donut_large:59671,donut_small:59672,door_back:61436,door_front:61437,door_sliding:61438,doorbell:61439,double_arrow:59984,downhill_skiing:58633,download:61584,download_done:61585,download_for_offline:61440,downloading:61441,drafts:57681,drag_handle:57949,drag_indicator:59717,draw:59206,drive_eta:58899,drive_file_move:58997,drive_file_move_rtl:59245,drive_file_rename_outline:59810,drive_folder_upload:59811,dry:61875,dry_cleaning:59992,duo:59813,dvr:57778,dynamic_feed:59924,dynamic_form:61887,e_mobiledata:61442,earbuds:61443,earbuds_battery:61444,east:61919,edgesensor_high:61445,edgesensor_low:61446,edit:58313,edit_attributes:58744,edit_calendar:59202,edit_location:58728,edit_location_alt:57797,edit_note:59205,edit_notifications:58661,edit_off:59728,edit_road:61261,egg:60108,egg_alt:60104,eject:59643,elderly:61978,elderly_woman:60265,electric_bike:60187,electric_bolt:60444,electric_car:60188,electric_meter:60443,electric_moped:60189,electric_rickshaw:60190,electric_scooter:60191,electrical_services:61698,elevator:61856,email:57534,emergency:57835,emergency_recording:60404,emergency_share:60406,emoji_emotions:59938,emoji_events:59939,emoji_food_beverage:59931,emoji_nature:59932,emoji_objects:59940,emoji_people:59933,emoji_symbols:59934,emoji_transportation:59935,energy_savings_leaf:60442,engineering:59965,enhanced_encryption:58943,equalizer:57373,error:57344,error_outline:57345,escalator:61857,escalator_warning:61868,euro:59925,euro_symbol:59686,ev_station:58733,event:59512,event_available:58900,event_busy:58901,event_note:58902,event_repeat:60283,event_seat:59651,exit_to_app:59513,expand:59727,expand_circle_down:59341,expand_less:58830,expand_more:58831,explicit:57374,explore:59514,explore_off:59816,exposure:58314,exposure_neg_1:58315,exposure_neg_2:58316,exposure_plus_1:58317,exposure_plus_2:58318,exposure_zero:58319,extension:59515,extension_off:58613,face:59516,face_2:63706,face_3:63707,face_4:63708,face_5:63709,face_6:63710,face_retouching_natural:61262,face_retouching_off:61447,fact_check:61637,factory:60348,family_restroom:61858,fast_forward:57375,fast_rewind:57376,fastfood:58746,favorite:59517,favorite_border:59518,fax:60120,featured_play_list:57453,featured_video:57454,feed:61449,feedback:59519,female:58768,fence:61942,festival:60008,fiber_dvr:57437,fiber_manual_record:57441,fiber_new:57438,fiber_pin:57450,fiber_smart_record:57442,file_copy:57715,file_download:58052,file_download_done:59818,file_download_off:58622,file_open:60147,file_present:59918,file_upload:58054,filter:58323,filter_1:58320,filter_2:58321,filter_3:58322,filter_4:58324,filter_5:58325,filter_6:58326,filter_7:58327,filter_8:58328,filter_9:58329,filter_9_plus:58330,filter_alt:61263,filter_alt_off:60210,filter_b_and_w:58331,filter_center_focus:58332,filter_drama:58333,filter_frames:58334,filter_hdr:58335,filter_list:57682,filter_list_off:60247,filter_none:58336,filter_tilt_shift:58338,filter_vintage:58339,find_in_page:59520,find_replace:59521,fingerprint:59661,fire_extinguisher:61912,fire_hydrant_alt:63729,fire_truck:63730,fireplace:59971,first_page:58844,fit_screen:59920,fitbit:59435,fitness_center:60227,flag:57683,flag_circle:60152,flaky:61264,flare:58340,flash_auto:58341,flash_off:58342,flash_on:58343,flashlight_off:61450,flashlight_on:61451,flatware:61452,flight:58681,flight_class:59339,flight_land:59652,flight_takeoff:59653,flip:58344,flip_camera_android:59959,flip_camera_ios:59960,flip_to_back:59522,flip_to_front:59523,flood:60390,fluorescent:60465,flutter_dash:57355,fmd_bad:61454,fmd_good:61455,folder:58055,folder_copy:60349,folder_delete:60212,folder_off:60291,folder_open:58056,folder_shared:58057,folder_special:58903,folder_zip:60204,follow_the_signs:61986,font_download:57703,font_download_off:58617,food_bank:61938,forest:60057,fork_left:60320,fork_right:60332,format_align_center:57908,format_align_justify:57909,format_align_left:57910,format_align_right:57911,format_bold:57912,format_clear:57913,format_color_fill:57914,format_color_reset:57915,format_color_text:57916,format_indent_decrease:57917,format_indent_increase:57918,format_italic:57919,format_line_spacing:57920,format_list_bulleted:57921,format_list_numbered:57922,format_list_numbered_rtl:57959,format_overline:60261,format_paint:57923,format_quote:57924,format_shapes:57950,format_size:57925,format_strikethrough:57926,format_textdirection_l_to_r:57927,format_textdirection_r_to_l:57928,format_underlined:57929,fort:60077,forum:57535,forward:57684,forward_10:57430,forward_30:57431,forward_5:57432,forward_to_inbox:61831,foundation:61952,free_breakfast:60228,free_cancellation:59208,front_hand:59241,fullscreen:58832,fullscreen_exit:58833,functions:57930,g_mobiledata:61456,g_translate:59687,gamepad:58127,games:57377,garage:61457,gas_meter:60441,gavel:59662,generating_tokens:59209,gesture:57685,get_app:59524,gif:59656,gif_box:59299,girl:60264,gite:58763,golf_course:60229,gpp_bad:61458,gpp_good:61459,gpp_maybe:61460,gps_fixed:57779,gps_not_fixed:57780,gps_off:57781,grade:59525,gradient:58345,grading:59983,grain:58346,graphic_eq:57784,grass:61957,grid_3x3:61461,grid_4x4:61462,grid_goldenratio:61463,grid_off:58347,grid_on:58348,grid_view:59824,group:59375,group_add:59376,group_off:59207,group_remove:59309,group_work:59526,groups:62003,groups_2:63711,groups_3:63712,h_mobiledata:61464,h_plus_mobiledata:61465,hail:59825,handshake:60363,handyman:61707,hardware:59993,hd:57426,hdr_auto:61466,hdr_auto_select:61467,hdr_enhanced_select:61265,hdr_off:58349,hdr_off_select:61468,hdr_on:58350,hdr_on_select:61469,hdr_plus:61470,hdr_strong:58353,hdr_weak:58354,headphones:61471,headphones_battery:61472,headset:58128,headset_mic:58129,headset_off:58170,healing:58355,health_and_safety:57813,hearing:57379,hearing_disabled:61700,heart_broken:60098,heat_pump:60440,height:59926,help:59527,help_center:61888,help_outline:59645,hevc:61473,hexagon:60217,hide_image:61474,hide_source:61475,high_quality:57380,highlight:57951,highlight_alt:61266,highlight_off:59528,hiking:58634,history:59529,history_edu:59966,history_toggle_off:61821,hive:60070,hls:60298,hls_off:60300,holiday_village:58762,home:59530,home_max:61476,home_mini:61477,home_repair_service:61696,home_work:59913,horizontal_distribute:57364,horizontal_rule:61704,horizontal_split:59719,hot_tub:60230,hotel:58682,hotel_class:59203,hourglass_bottom:59996,hourglass_disabled:61267,hourglass_empty:59531,hourglass_full:59532,hourglass_top:59995,house:59972,house_siding:61954,houseboat:58756,how_to_reg:57716,how_to_vote:57717,html:60286,http:59650,https:59533,hub:59892,hvac:61710,ice_skating:58635,icecream:60009,image:58356,image_aspect_ratio:58357,image_not_supported:61718,image_search:58431,imagesearch_roller:59828,import_contacts:57568,import_export:57539,important_devices:59666,inbox:57686,incomplete_circle:59291,indeterminate_check_box:59657,info:59534,input:59536,insert_chart:57931,insert_chart_outlined:57962,insert_comment:57932,insert_drive_file:57933,insert_emoticon:57934,insert_invitation:57935,insert_link:57936,insert_page_break:60106,insert_photo:57937,insights:61586,install_desktop:60273,install_mobile:60274,integration_instructions:61268,interests:59336,interpreter_mode:59451,inventory:57721,inventory_2:57761,invert_colors:59537,invert_colors_off:57540,ios_share:59064,iron:58755,iso:58358,javascript:60284,join_full:60139,join_inner:60148,join_left:60146,join_right:60138,kayaking:58636,kebab_dining:59458,key:59196,key_off:60292,keyboard:58130,keyboard_alt:61480,keyboard_arrow_down:58131,keyboard_arrow_left:58132,keyboard_arrow_right:58133,keyboard_arrow_up:58134,keyboard_backspace:58135,keyboard_capslock:58136,keyboard_command_key:60135,keyboard_control_key:60134,keyboard_double_arrow_down:60112,keyboard_double_arrow_left:60099,keyboard_double_arrow_right:60105,keyboard_double_arrow_up:60111,keyboard_hide:58138,keyboard_option_key:60136,keyboard_return:58139,keyboard_tab:58140,keyboard_voice:58141,king_bed:59973,kitchen:60231,kitesurfing:58637,label:59538,label_important:59703,label_off:59830,lan:60207,landscape:58359,landslide:60375,language:59540,laptop:58142,laptop_chromebook:58143,laptop_mac:58144,laptop_windows:58145,last_page:58845,launch:59541,layers:58683,layers_clear:58684,leaderboard:61964,leak_add:58360,leak_remove:58361,legend_toggle:61723,lens:58362,lens_blur:61481,library_add:57390,library_add_check:59831,library_books:57391,library_music:57392,light:61482,light_mode:58648,lightbulb:57584,lightbulb_circle:60414,line_axis:60058,line_style:59673,line_weight:59674,linear_scale:57952,link:57687,link_off:57711,linked_camera:58424,liquor:6e4,list:59542,list_alt:57582,live_help:57542,live_tv:58937,living:61483,local_activity:58687,local_airport:58685,local_atm:58686,local_bar:58688,local_cafe:58689,local_car_wash:58690,local_convenience_store:58691,local_dining:58710,local_drink:58692,local_fire_department:61269,local_florist:58693,local_gas_station:58694,local_grocery_store:58695,local_hospital:58696,local_hotel:58697,local_laundry_service:58698,local_library:58699,local_mall:58700,local_movies:58701,local_offer:58702,local_parking:58703,local_pharmacy:58704,local_phone:58705,local_pizza:58706,local_play:58707,local_police:61270,local_post_office:58708,local_printshop:58709,local_see:58711,local_shipping:58712,local_taxi:58713,location_city:59377,location_disabled:57782,location_off:57543,location_on:57544,location_searching:57783,lock:59543,lock_clock:61271,lock_open:59544,lock_person:63731,lock_reset:60126,login:60023,logo_dev:60118,logout:59834,looks:58364,looks_3:58363,looks_4:58365,looks_5:58366,looks_6:58367,looks_one:58368,looks_two:58369,loop:57384,loupe:58370,low_priority:57709,loyalty:59546,lte_mobiledata:61484,lte_plus_mobiledata:61485,luggage:62005,lunch_dining:60001,lyrics:60427,macro_off:63698,mail:57688,mail_lock:60426,mail_outline:57569,male:58766,man:58603,man_2:63713,man_3:63714,man_4:63715,manage_accounts:61486,manage_history:60391,manage_search:61487,map:58715,maps_home_work:61488,maps_ugc:61272,margin:59835,mark_as_unread:59836,mark_chat_read:61835,mark_chat_unread:61833,mark_email_read:61836,mark_email_unread:61834,mark_unread_chat_alt:60317,markunread:57689,markunread_mailbox:59547,masks:61976,maximize:59696,media_bluetooth_off:61489,media_bluetooth_on:61490,mediation:61351,medical_information:60397,medical_services:61705,medication:61491,medication_liquid:60039,meeting_room:60239,memory:58146,menu:58834,menu_book:59929,menu_open:59837,merge:60312,merge_type:57938,message:57545,mic:57385,mic_external_off:61273,mic_external_on:61274,mic_none:57386,mic_off:57387,microwave:61956,military_tech:59967,minimize:59697,minor_crash:60401,miscellaneous_services:61708,missed_video_call:57459,mms:58904,mobile_friendly:57856,mobile_off:57857,mobile_screen_share:57575,mobiledata_off:61492,mode:61591,mode_comment:57939,mode_edit:57940,mode_edit_outline:61493,mode_fan_off:60439,mode_night:61494,mode_of_travel:59342,mode_standby:61495,model_training:61647,monetization_on:57955,money:58749,money_off:57948,money_off_csred:61496,monitor:61275,monitor_heart:60066,monitor_weight:61497,monochrome_photos:58371,mood:59378,mood_bad:59379,moped:60200,more:58905,more_horiz:58835,more_time:59997,more_vert:58836,mosque:60082,motion_photos_auto:61498,motion_photos_off:59840,motion_photos_on:59841,motion_photos_pause:61991,motion_photos_paused:59842,mouse:58147,move_down:60257,move_to_inbox:57704,move_up:60260,movie:57388,movie_creation:58372,movie_filter:58426,moving:58625,mp:59843,multiline_chart:59103,multiple_stop:61881,museum:59958,music_note:58373,music_off:58432,music_video:57443,my_location:58716,nat:61276,nature:58374,nature_people:58375,navigate_before:58376,navigate_next:58377,navigation:58717,near_me:58729,near_me_disabled:61935,nearby_error:61499,nearby_off:61500,nest_cam_wired_stand:60438,network_cell:57785,network_check:58944,network_locked:58906,network_ping:60362,network_wifi:57786,network_wifi_1_bar:60388,network_wifi_2_bar:60374,network_wifi_3_bar:60385,new_label:58889,new_releases:57393,newspaper:60289,next_plan:61277,next_week:57706,nfc:57787,night_shelter:61937,nightlife:60002,nightlight:61501,nightlight_round:61278,nights_stay:59974,no_accounts:61502,no_adult_content:63742,no_backpack:62007,no_cell:61860,no_crash:60400,no_drinks:61861,no_encryption:58945,no_encryption_gmailerrorred:61503,no_flash:61862,no_food:61863,no_luggage:62011,no_meals:61910,no_meeting_room:60238,no_photography:61864,no_sim:57548,no_stroller:61871,no_transfer:61909,noise_aware:60396,noise_control_off:60403,nordic_walking:58638,north:61920,north_east:61921,north_west:61922,not_accessible:61694,not_interested:57395,not_listed_location:58741,not_started:61649,note:57455,note_add:59548,note_alt:61504,notes:57964,notification_add:58265,notification_important:57348,notifications:59380,notifications_active:59383,notifications_none:59381,notifications_off:59382,notifications_paused:59384,numbers:60103,offline_bolt:59698,offline_pin:59658,offline_share:59845,oil_barrel:60437,on_device_training:60413,ondemand_video:58938,online_prediction:61675,opacity:59676,open_in_browser:59549,open_in_full:61902,open_in_new:59550,open_in_new_off:58614,open_with:59551,other_houses:58764,outbound:57802,outbox:61279,outdoor_grill:59975,outlet:61908,outlined_flag:57710,output:60350,padding:59848,pages:59385,pageview:59552,paid:61505,palette:58378,pan_tool:59685,pan_tool_alt:60345,panorama:58379,panorama_fish_eye:58380,panorama_horizontal:58381,panorama_horizontal_select:61280,panorama_photosphere:59849,panorama_photosphere_select:59850,panorama_vertical:58382,panorama_vertical_select:61281,panorama_wide_angle:58383,panorama_wide_angle_select:61282,paragliding:58639,park:60003,party_mode:59386,password:61506,pattern:61507,pause:57396,pause_circle:57762,pause_circle_filled:57397,pause_circle_outline:57398,pause_presentation:57578,payment:59553,payments:61283,pedal_bike:60201,pending:61284,pending_actions:61883,pentagon:60240,people:59387,people_alt:59937,people_outline:59388,percent:60248,perm_camera_mic:59554,perm_contact_calendar:59555,perm_data_setting:59556,perm_device_information:59557,perm_identity:59558,perm_media:59559,perm_phone_msg:59560,perm_scan_wifi:59561,person:59389,person_2:63716,person_3:63717,person_4:63718,person_add:59390,person_add_alt:59981,person_add_alt_1:61285,person_add_disabled:59851,person_off:58640,person_outline:59391,person_pin:58714,person_pin_circle:58730,person_remove:61286,person_remove_alt_1:61287,person_search:61702,personal_injury:59098,personal_video:58939,pest_control:61690,pest_control_rodent:61693,pets:59677,phishing:60119,phone:57549,phone_android:58148,phone_bluetooth_speaker:58907,phone_callback:58953,phone_disabled:59852,phone_enabled:59853,phone_forwarded:58908,phone_iphone:58149,phone_locked:58910,phone_missed:58911,phone_paused:58912,phonelink:58150,phonelink_erase:57563,phonelink_lock:57564,phonelink_off:58151,phonelink_ring:57565,phonelink_setup:57566,photo:58384,photo_album:58385,photo_camera:58386,photo_camera_back:61288,photo_camera_front:61289,photo_filter:58427,photo_library:58387,photo_size_select_actual:58418,photo_size_select_large:58419,photo_size_select_small:58420,php:60303,piano:58657,piano_off:58656,picture_as_pdf:58389,picture_in_picture:59562,picture_in_picture_alt:59665,pie_chart:59076,pie_chart_outline:61508,pin:61509,pin_drop:58718,pin_end:59239,pin_invoke:59235,pinch:60216,pivot_table_chart:59854,pix:60067,place:58719,plagiarism:59994,play_arrow:57399,play_circle:57796,play_circle_filled:57400,play_circle_outline:57401,play_disabled:61290,play_for_work:59654,play_lesson:61511,playlist_add:57403,playlist_add_check:57445,playlist_add_check_circle:59366,playlist_add_circle:59365,playlist_play:57439,playlist_remove:60288,plumbing:61703,plus_one:59392,podcasts:61512,point_of_sale:61822,policy:59927,poll:59393,polyline:60347,polymer:59563,pool:60232,portable_wifi_off:57550,portrait:58390,post_add:59936,power:58940,power_input:58166,power_off:58950,power_settings_new:59564,precision_manufacturing:61513,pregnant_woman:59678,present_to_all:57567,preview:61893,price_change:61514,price_check:61515,print:59565,print_disabled:59855,priority_high:58949,privacy_tip:61660,private_connectivity:59204,production_quantity_limits:57809,propane:60436,propane_tank:60435,psychology:59978,psychology_alt:63722,public:59403,public_off:61898,publish:57941,published_with_changes:62002,punch_clock:60072,push_pin:61709,qr_code:61291,qr_code_2:57354,qr_code_scanner:61958,query_builder:59566,query_stats:58620,question_answer:59567,question_mark:60299,queue:57404,queue_music:57405,queue_play_next:57446,quickreply:61292,quiz:61516,r_mobiledata:61517,radar:61518,radio:57406,radio_button_checked:59447,radio_button_unchecked:59446,railway_alert:59857,ramen_dining:60004,ramp_left:60316,ramp_right:60310,rate_review:58720,raw_off:61519,raw_on:61520,read_more:61293,real_estate_agent:59194,receipt:59568,receipt_long:61294,recent_actors:57407,recommend:59858,record_voice_over:59679,rectangle:60244,recycling:59232,redeem:59569,redo:57690,reduce_capacity:61980,refresh:58837,remember_me:61521,remove:57691,remove_circle:57692,remove_circle_outline:57693,remove_done:59859,remove_from_queue:57447,remove_moderator:59860,remove_red_eye:58391,remove_road:60412,remove_shopping_cart:59688,reorder:59646,repartition:63720,repeat:57408,repeat_on:59862,repeat_one:57409,repeat_one_on:59863,replay:57410,replay_10:57433,replay_30:57434,replay_5:57435,replay_circle_filled:59864,reply:57694,reply_all:57695,report:57696,report_gmailerrorred:61522,report_off:57712,report_problem:59570,request_page:61996,request_quote:61878,reset_tv:59865,restart_alt:61523,restaurant:58732,restaurant_menu:58721,restore:59571,restore_from_trash:59704,restore_page:59689,reviews:61524,rice_bowl:61941,ring_volume:57553,rocket:60325,rocket_launch:60315,roller_shades:60434,roller_shades_closed:60433,roller_skating:60365,roofing:61953,room:59572,room_preferences:61880,room_service:60233,rotate_90_degrees_ccw:58392,rotate_90_degrees_cw:60075,rotate_left:58393,rotate_right:58394,roundabout_left:60313,roundabout_right:60323,rounded_corner:59680,route:60109,router:58152,rowing:59681,rss_feed:57573,rsvp:61525,rtt:59821,rule:61890,rule_folder:61897,run_circle:61295,running_with_errors:58653,rv_hookup:58946,safety_check:60399,safety_divider:57804,sailing:58626,sanitizer:61981,satellite:58722,satellite_alt:60218,save:57697,save_alt:57713,save_as:60256,saved_search:59921,savings:58091,scale:60255,scanner:58153,scatter_plot:57960,schedule:59573,schedule_send:59914,schema:58621,school:59404,science:59979,score:57961,scoreboard:60368,screen_lock_landscape:57790,screen_lock_portrait:57791,screen_lock_rotation:57792,screen_rotation:57793,screen_rotation_alt:60398,screen_search_desktop:61296,screen_share:57570,screenshot:61526,screenshot_monitor:60424,scuba_diving:60366,sd:59869,sd_card:58915,sd_card_alert:61527,sd_storage:57794,search:59574,search_off:60022,security:58154,security_update:61528,security_update_good:61529,security_update_warning:61530,segment:59723,select_all:57698,self_improvement:60024,sell:61531,send:57699,send_and_archive:59916,send_time_extension:60123,send_to_mobile:61532,sensor_door:61877,sensor_occupied:60432,sensor_window:61876,sensors:58654,sensors_off:58655,sentiment_dissatisfied:59409,sentiment_neutral:59410,sentiment_satisfied:59411,sentiment_satisfied_alt:57581,sentiment_very_dissatisfied:59412,sentiment_very_satisfied:59413,set_meal:61930,settings:59576,settings_accessibility:61533,settings_applications:59577,settings_backup_restore:59578,settings_bluetooth:59579,settings_brightness:59581,settings_cell:59580,settings_ethernet:59582,settings_input_antenna:59583,settings_input_component:59584,settings_input_composite:59585,settings_input_hdmi:59586,settings_input_svideo:59587,settings_overscan:59588,settings_phone:59589,settings_power:59590,settings_remote:59591,settings_suggest:61534,settings_system_daydream:57795,settings_voice:59592,severe_cold:60371,shape_line:63699,share:59405,share_location:61535,shield:59872,shield_moon:60073,shop:59593,shop_2:57758,shop_two:59594,shopping_bag:61900,shopping_basket:59595,shopping_cart:59596,shopping_cart_checkout:60296,short_text:57953,shortcut:61536,show_chart:59105,shower:61537,shuffle:57411,shuffle_on:59873,shutter_speed:58429,sick:61984,sign_language:60389,signal_cellular_0_bar:61608,signal_cellular_4_bar:57800,signal_cellular_alt:57858,signal_cellular_alt_1_bar:60383,signal_cellular_alt_2_bar:60387,signal_cellular_connected_no_internet_0_bar:61612,signal_cellular_connected_no_internet_4_bar:57805,signal_cellular_no_sim:57806,signal_cellular_nodata:61538,signal_cellular_null:57807,signal_cellular_off:57808,signal_wifi_0_bar:61616,signal_wifi_4_bar:57816,signal_wifi_4_bar_lock:57817,signal_wifi_bad:61539,signal_wifi_connected_no_internet_4:61540,signal_wifi_off:57818,signal_wifi_statusbar_4_bar:61541,signal_wifi_statusbar_connected_no_internet_4:61542,signal_wifi_statusbar_null:61543,signpost:60305,sim_card:58155,sim_card_alert:58916,sim_card_download:61544,single_bed:59976,sip:61545,skateboarding:58641,skip_next:57412,skip_previous:57413,sledding:58642,slideshow:58395,slow_motion_video:57448,smart_button:61889,smart_display:61546,smart_screen:61547,smart_toy:61548,smartphone:58156,smoke_free:60234,smoking_rooms:60235,sms:58917,sms_failed:58918,snippet_folder:61895,snooze:57414,snowboarding:58643,snowmobile:58627,snowshoeing:58644,soap:61874,social_distance:57803,solar_power:60431,sort:57700,sort_by_alpha:57427,sos:60407,soup_kitchen:59347,source:61892,south:61923,south_america:59364,south_east:61924,south_west:61925,spa:60236,space_bar:57942,space_dashboard:58987,spatial_audio:60395,spatial_audio_off:60392,spatial_tracking:60394,speaker:58157,speaker_group:58158,speaker_notes:59597,speaker_notes_off:59690,speaker_phone:57554,speed:59876,spellcheck:59598,splitscreen:61549,spoke:59815,sports:59952,sports_bar:61939,sports_baseball:59985,sports_basketball:59942,sports_cricket:59943,sports_esports:59944,sports_football:59945,sports_golf:59946,sports_gymnastics:60356,sports_handball:59955,sports_hockey:59947,sports_kabaddi:59956,sports_martial_arts:60137,sports_mma:59948,sports_motorsports:59949,sports_rugby:59950,sports_score:61550,sports_soccer:59951,sports_tennis:59954,sports_volleyball:59953,square:60214,square_foot:59977,ssid_chart:60262,stacked_bar_chart:59878,stacked_line_chart:61995,stadium:60304,stairs:61865,star:59448,star_border:59450,star_border_purple500:61593,star_half:59449,star_outline:61551,star_purple500:61594,star_rate:61676,stars:59600,start:57481,stay_current_landscape:57555,stay_current_portrait:57556,stay_primary_landscape:57557,stay_primary_portrait:57558,sticky_note_2:61948,stop:57415,stop_circle:61297,stop_screen_share:57571,storage:57819,store:59601,store_mall_directory:58723,storefront:59922,storm:61552,straight:60309,straighten:58396,stream:59881,streetview:58734,strikethrough_s:57943,stroller:61870,style:58397,subdirectory_arrow_left:58841,subdirectory_arrow_right:58842,subject:59602,subscript:61713,subscriptions:57444,subtitles:57416,subtitles_off:61298,subway:58735,summarize:61553,superscript:61714,supervised_user_circle:59705,supervisor_account:59603,support:61299,support_agent:61666,surfing:58645,surround_sound:57417,swap_calls:57559,swap_horiz:59604,swap_horizontal_circle:59699,swap_vert:59605,swap_vertical_circle:59606,swipe:59884,swipe_down:60243,swipe_down_alt:60208,swipe_left:60249,swipe_left_alt:60211,swipe_right:60242,swipe_right_alt:60246,swipe_up:60206,swipe_up_alt:60213,swipe_vertical:60241,switch_access_shortcut:59361,switch_access_shortcut_add:59362,switch_account:59885,switch_camera:58398,switch_left:61905,switch_right:61906,switch_video:58399,synagogue:60080,sync:58919,sync_alt:59928,sync_disabled:58920,sync_lock:60142,sync_problem:58921,system_security_update:61554,system_security_update_good:61555,system_security_update_warning:61556,system_update:58922,system_update_alt:59607,tab:59608,tab_unselected:59609,table_bar:60114,table_chart:57957,table_restaurant:60102,table_rows:61697,table_view:61886,tablet:58159,tablet_android:58160,tablet_mac:58161,tag:59887,tag_faces:58400,takeout_dining:60020,tap_and_play:58923,tapas:61929,task:61557,task_alt:58086,taxi_alert:61300,temple_buddhist:60083,temple_hindu:60079,terminal:60302,terrain:58724,text_decrease:60125,text_fields:57954,text_format:57701,text_increase:60130,text_rotate_up:59706,text_rotate_vertical:59707,text_rotation_angledown:59708,text_rotation_angleup:59709,text_rotation_down:59710,text_rotation_none:59711,text_snippet:61894,textsms:57560,texture:58401,theater_comedy:60006,theaters:59610,thermostat:61558,thermostat_auto:61559,thumb_down:59611,thumb_down_alt:59414,thumb_down_off_alt:59890,thumb_up:59612,thumb_up_alt:59415,thumb_up_off_alt:59891,thumbs_up_down:59613,thunderstorm:60379,time_to_leave:58924,timelapse:58402,timeline:59682,timer:58405,timer_10:58403,timer_10_select:61562,timer_3:58404,timer_3_select:61563,timer_off:58406,tips_and_updates:59290,tire_repair:60360,title:57956,toc:59614,today:59615,toggle_off:59893,toggle_on:59894,token:59941,toll:59616,tonality:58407,topic:61896,tornado:57753,touch_app:59667,tour:61301,toys:58162,track_changes:59617,traffic:58725,train:58736,tram:58737,transcribe:63724,transfer_within_a_station:58738,transform:58408,transgender:58765,transit_enterexit:58745,translate:59618,travel_explore:58075,trending_down:59619,trending_flat:59620,trending_up:59621,trip_origin:58747,troubleshoot:57810,try:61564,tsunami:60376,tty:61866,tune:58409,tungsten:61565,turn_left:60326,turn_right:60331,turn_sharp_left:60327,turn_sharp_right:60330,turn_slight_left:60324,turn_slight_right:60314,turned_in:59622,turned_in_not:59623,tv:58163,tv_off:58951,two_wheeler:59897,type_specimen:63728,u_turn_left:60321,u_turn_right:60322,umbrella:61869,unarchive:57705,undo:57702,unfold_less:58838,unfold_less_double:63695,unfold_more:58839,unfold_more_double:63696,unpublished:62006,unsubscribe:57579,upcoming:61566,update:59683,update_disabled:57461,upgrade:61691,upload:61595,upload_file:59900,usb:57824,usb_off:58618,vaccines:57656,vape_free:60358,vaping_rooms:60367,verified:61302,verified_user:59624,vertical_align_bottom:57944,vertical_align_center:57945,vertical_align_top:57946,vertical_distribute:57462,vertical_shades:60430,vertical_shades_closed:60429,vertical_split:59721,vibration:58925,video_call:57456,video_camera_back:61567,video_camera_front:61568,video_chat:63648,video_file:60295,video_label:57457,video_library:57418,video_settings:60021,video_stable:61569,videocam:57419,videocam_off:57420,videogame_asset:58168,videogame_asset_off:58624,view_agenda:59625,view_array:59626,view_carousel:59627,view_column:59628,view_comfy:58410,view_comfy_alt:60275,view_compact:58411,view_compact_alt:60276,view_cozy:60277,view_day:59629,view_headline:59630,view_in_ar:59902,view_kanban:60287,view_list:59631,view_module:59632,view_quilt:59633,view_sidebar:61716,view_stream:59634,view_timeline:60293,view_week:59635,vignette:58421,villa:58758,visibility:59636,visibility_off:59637,voice_chat:58926,voice_over_off:59722,voicemail:57561,volcano:60378,volume_down:57421,volume_mute:57422,volume_off:57423,volume_up:57424,volunteer_activism:60016,vpn_key:57562,vpn_key_off:60282,vpn_lock:58927,vrpano:61570,wallet:63743,wallpaper:57788,warehouse:60344,warning:57346,warning_amber:61571,wash:61873,watch:58164,watch_later:59684,watch_off:60131,water:61572,water_damage:61955,water_drop:59288,waterfall_chart:59904,waves:57718,waving_hand:59238,wb_auto:58412,wb_cloudy:58413,wb_incandescent:58414,wb_iridescent:58422,wb_shade:59905,wb_sunny:58416,wb_twilight:57798,wc:58941,web:57425,web_asset:57449,web_asset_off:58615,web_stories:58773,webhook:60306,weekend:57707,west:61926,whatshot:59406,wheelchair_pickup:61867,where_to_vote:57719,widgets:57789,width_full:63733,width_normal:63734,width_wide:63735,wifi:58942,wifi_1_bar:58570,wifi_2_bar:58585,wifi_calling:61303,wifi_calling_3:61573,wifi_channel:60266,wifi_find:60209,wifi_lock:57825,wifi_off:58952,wifi_password:60267,wifi_protected_setup:61692,wifi_tethering:57826,wifi_tethering_error:60121,wifi_tethering_off:61575,wind_power:60428,window:61576,wine_bar:61928,woman:57662,woman_2:63719,work:59641,work_history:60425,work_off:59714,work_outline:59715,workspace_premium:59311,workspaces:57760,wrap_text:57947,wrong_location:61304,wysiwyg:61891,yard:61577,youtube_searched_for:59642,zoom_in:59647,zoom_in_map:60205,zoom_out:59648,zoom_out_map:58731};function Mp(t){let e,n=String.fromCodePoint(ha[t[0]])+"",r,i;return{c(){e=y("span"),r=Y(n),m(e,"class",i="mdi "+(t[1].class||"")+" svelte-1o64s6p")},m(a,s){Z(a,e,s),f(e,r)},p(a,[s]){s&1&&n!==(n=String.fromCodePoint(ha[a[0]])+"")&&re(r,n),s&2&&i!==(i="mdi "+(a[1].class||"")+" svelte-1o64s6p")&&m(e,"class",i)},i:gt,o:gt,d(a){a&&G(e)}}}function xp(t,e,n){const r=["icon"];let i=Lo(e,r),{icon:a}=e;return t.$$set=s=>{e=Hr(Hr({},e),Si(s)),n(1,i=Lo(e,r)),"icon"in s&&n(0,a=s.icon)},[a,i]}class de extends yt{constructor(e){super(),vt(this,e,xp,Mp,_t,{icon:0})}}function jp(t){let e,n,r=t[0]("browser_warning.lines.first")+"",i,a,s,o,l,c=t[0]("browser_warning.lines.second")+"",u,d;return s=new de({props:{icon:"sentiment_very_dissatisfied"}}),{c(){e=y("div"),n=y("div"),i=Y(r),a=C(),te(s.$$.fragment),o=C(),l=y("div"),u=Y(c),m(e,"class","alert alert-danger"),m(e,"role","alert")},m(h,b){Z(h,e,b),f(e,n),f(n,i),f(n,a),X(s,n,null),f(e,o),f(e,l),f(l,u),d=!0},p(h,b){(!d||b&1)&&r!==(r=h[0]("browser_warning.lines.first")+"")&&re(i,r),(!d||b&1)&&c!==(c=h[0]("browser_warning.lines.second")+"")&&re(u,c)},i(h){d||(N(s.$$.fragment,h),d=!0)},o(h){U(s.$$.fragment,h),d=!1},d(h){h&&G(e),ee(s)}}}function Rp(t){let e,n,r=!t[1].webSerial&&!t[1].webBluetooth&&!t[1].capacitorBle&&jp(t);return{c(){r&&r.c(),e=er()},m(i,a){r&&r.m(i,a),Z(i,e,a),n=!0},p(i,[a]){!i[1].webSerial&&!i[1].webBluetooth&&!i[1].capacitorBle&&r.p(i,a)},i(i){n||(N(r),n=!0)},o(i){U(r),n=!1},d(i){i&&G(e),r&&r.d(i)}}}function $p(t,e,n){let r;Ke(t,Mt,a=>n(0,r=a));let i=at.Utils.getAvailableTransports();return[r,i]}class Up extends yt{constructor(e){super(),vt(this,e,$p,Rp,_t,{})}}const pl={0:{A:"0001101",B:"0100111",C:"1110010"},1:{A:"0011001",B:"0110011",C:"1100110"},2:{A:"0010011",B:"0011011",C:"1101100"},3:{A:"0111101",B:"0100001",C:"1000010"},4:{A:"0100011",B:"0011101",C:"1011100"},5:{A:"0110001",B:"0111001",C:"1001110"},6:{A:"0101111",B:"0000101",C:"1010000"},7:{A:"0111011",B:"0010001",C:"1000100"},8:{A:"0110111",B:"0001001",C:"1001000"},9:{A:"0001011",B:"0010111",C:"1110100"}},Vp={0:"AAAAAA",1:"AABABB",2:"AABBAB",3:"AABBBA",4:"ABAABB",5:"ABBAAB",6:"ABBBAA",7:"ABABAB",8:"ABABBA",9:"ABBABA"};function zp(t){if(t.length>13)throw new Error("Data too long for EAN13");if(t.length<12&&(t=t.padEnd(12,"0")),/^\d+$/.test(t)===!1)throw new Error("Invalid character in EAN13");let e=0;for(let i=0;i<12;i++){const a=parseInt(t[i],10);e+=(i%2===0?1:3)*a}if(e=(10-e%10)%10,t.length===12)t+=e.toString();else if(t.length===13&&t[12]!==e.toString())throw new Error("Invalid checksum in EAN13");const n=[];n.push("101");const r=Vp[t[0]];for(let i=1;i<7;i++){const a=t[i],s=r[i-1],o=pl[a][s];n.push(o)}n.push("01010");for(let i=7;i<13;i++){const a=t[i],s=pl[a].C;n.push(s)}return n.push("101"),{text:t,bandcode:n.join("")}}const yi=[{ascii:32,code:"11011001100"},{ascii:33,code:"11001101100"},{ascii:34,code:"11001100110"},{ascii:35,code:"10010011000"},{ascii:36,code:"100h0001100"},{ascii:37,code:"10001001100"},{ascii:38,code:"10011001000"},{ascii:39,code:"10011000100"},{ascii:40,code:"10001100100"},{ascii:41,code:"1100h00h000"},{ascii:42,code:"11001000100"},{ascii:43,code:"11000100100"},{ascii:44,code:"10110011100"},{ascii:45,code:"10011011100"},{ascii:46,code:"10011001110"},{ascii:47,code:"10111001100"},{ascii:48,code:"10011101100"},{ascii:49,code:"10011100110"},{ascii:50,code:"11001110010"},{ascii:51,code:"11001011100"},{ascii:52,code:"11001001110"},{ascii:53,code:"11011100100"},{ascii:54,code:"11001110100"},{ascii:55,code:"11101101110"},{ascii:56,code:"11101001100"},{ascii:57,code:"11100101100"},{ascii:58,code:"11100100110"},{ascii:59,code:"11101100100"},{ascii:60,code:"11100110100"},{ascii:61,code:"11100110010"},{ascii:62,code:"11011011000"},{ascii:63,code:"11011000110"},{ascii:64,code:"11000110110"},{ascii:65,code:"10100011000"},{ascii:66,code:"10001011000"},{ascii:67,code:"10001000110"},{ascii:68,code:"10110001000"},{ascii:69,code:"10001101000"},{ascii:70,code:"10001100010"},{ascii:71,code:"11010001000"},{ascii:72,code:"11000101000"},{ascii:73,code:"11000100010"},{ascii:74,code:"10110111000"},{ascii:75,code:"10110001110"},{ascii:76,code:"10001101110"},{ascii:77,code:"10111011000"},{ascii:78,code:"10111000110"},{ascii:79,code:"10001110110"},{ascii:80,code:"11101110110"},{ascii:81,code:"11010001110"},{ascii:82,code:"11000101110"},{ascii:83,code:"11011101000"},{ascii:84,code:"11011100010"},{ascii:85,code:"11011101110"},{ascii:86,code:"11101011000"},{ascii:87,code:"11101000110"},{ascii:88,code:"11100010110"},{ascii:89,code:"11101101000"},{ascii:90,code:"11101100010"},{ascii:91,code:"11100011010"},{ascii:92,code:"11101111010"},{ascii:93,code:"11001000010"},{ascii:94,code:"11110001010"},{ascii:95,code:"10100110000"},{ascii:96,code:"10100001100"},{ascii:97,code:"10010110000"},{ascii:98,code:"10010000110"},{ascii:99,code:"10000101100"},{ascii:100,code:"10000100110"},{ascii:101,code:"10110010000"},{ascii:102,code:"10110000100"},{ascii:103,code:"10011010000"},{ascii:104,code:"10011000010"},{ascii:105,code:"10000110100"},{ascii:106,code:"10000110010"},{ascii:107,code:"11000010010"},{ascii:108,code:"11001010000"},{ascii:109,code:"11110111010"},{ascii:110,code:"11000010100"},{ascii:111,code:"10001111010"},{ascii:112,code:"10100111100"},{ascii:113,code:"10010111100"},{ascii:114,code:"10010011110"},{ascii:115,code:"10111100100"},{ascii:116,code:"10011110100"},{ascii:117,code:"10011110010"},{ascii:118,code:"11110100100"},{ascii:119,code:"11110010100"},{ascii:120,code:"11110010010"},{ascii:121,code:"11011011110"},{ascii:122,code:"11011110110"},{ascii:123,code:"11110110110"},{ascii:124,code:"10101111000"},{ascii:125,code:"10100011110"},{ascii:126,code:"10001011110"},{ascii:200,code:"10111101000"},{ascii:201,code:"10111100010"},{ascii:202,code:"11110101000"},{ascii:203,code:"11110100010"},{ascii:204,code:"10111011110"},{ascii:205,code:"10111101110"},{ascii:206,code:"11101011110"},{ascii:207,code:"11110101110"},{ascii:208,code:"11010000100"},{ascii:209,code:"11010010000"},{ascii:210,code:"11010011100"},{ascii:211,code:"1100011101011"}],Wp=yi.reduce((t,{ascii:e},n)=>(t[e]=n,t),{});function qp(t){if(t.length>229)throw new Error("Data too long for Code128B");const e=[];e.push(yi[104].code);let n=104;for(let r=0;r<t.length;r++){const i=Wp[t.charCodeAt(r)];if(i===void 0)throw new Error("Invalid character in Code128B");e.push(yi[i].code),n+=(r+1)*i}return e.push(yi[n%103].code),e.push(yi[106].code),e.join("")}function as(t,e,n,r,i){const a=[];for(let c=0;c<e.length;c++){const u=e.charAt(c),d=t.measureText(u);a.push(d.width)}const s=a.reduce((c,u)=>c+u,0),o=(i-s)/(e.length-1);let l=0;for(let c=0;c<e.length;c++){const u=e.charAt(c);t.fillText(u,n+l,r),l+=a[c]+o}}const hl=[{width:30,height:12,unit:"mm",dpmm:8,printDirection:"left"},{width:50,height:30,unit:"mm",dpmm:8,printDirection:"top"}],Fp={printDirection:"left",size:{width:240,height:96}},vr=5,Gn={width:64,height:64},un={snapAngle:10,top:10,left:10},ss={...un,fill:"transparent",stroke:"black",strokeWidth:3,strokeUniform:!0},Di={...un,fill:"black",fontFamily:"Noto Sans Variable",textAlign:"center",originX:"center",originY:"center",lineHeight:1},Hp=48,Gp=.7,na=["text","encoding","printText","scaleFactor","fontSize","font","fontFamily"],Zp=[0,1,2,45,46,47,48,49,92,93,94];class jn extends et.fabric.Object{constructor(e){super(e),this.barcodeEncoded="",this.displayText="",this.type="Barcode",this.stateProperties=na.concat(...et.fabric.Object.prototype.stateProperties??[]),this.cacheProperties=na.concat(...et.fabric.Object.prototype.cacheProperties??[]),this.objectCaching=!1,this.setControlsVisibility({tl:!1,tr:!1,bl:!1,br:!1,ml:!1,mr:!1,mtr:!1}),this.text=(e==null?void 0:e.text)??"",this.encoding=(e==null?void 0:e.encoding)??"EAN13",this.printText=(e==null?void 0:e.printText)??!0,this.scaleFactor=(e==null?void 0:e.scaleFactor)??1,this.fontSize=(e==null?void 0:e.fontSize)??12,this.fontFamily=(e==null?void 0:e.fontFamily)??Di.fontFamily,this._createBandCode()}_set(e,n){if(super._set(e,n),(e==="text"||e=="encoding")&&this._createBandCode(),this.barcodeEncoded&&(na.includes(e)||e=="canvas")){const r=this._measureLetterWidth();let i=(this.scaleFactor??1)*this.barcodeEncoded.length;this.encoding==="EAN13"&&(i+=r*2),super._set("width",i)}return this}_createBandCode(){if(this.encoding==="EAN13"){const{text:e,bandcode:n}=zp(this.text);this.displayText=e,this.barcodeEncoded=n}else this.displayText=this.text,this.barcodeEncoded=qp(this.text);return this}_getFont(){return`bold ${this.fontSize}px ${this.fontFamily}`}_measureLetterWidth(){var r;const e=(r=this.canvas)==null?void 0:r.getContext();let n=0;return e!==void 0&&(e.save(),e.font=this._getFont(),n=e.measureText("0").width,e.restore()),Math.ceil(n)}_render(e){if(super._render(e),this.barcodeEncoded===""||this.height===void 0||this.width===void 0||this.fontSize===void 0||this.fontFamily===void 0)return;const n=this._measureLetterWidth();e.save(),e.translate(-this.width/2,-this.height/2),e.translate(.5,.5),e.font=this._getFont(),e.textBaseline="bottom";const r=this.height;let i=this.height;const a=this.encoding==="EAN13"?n:0;this.printText?i-=this.fontSize*1.2:this.encoding==="EAN13"&&(i-=8);let s=-1,o=0,l=!1;for(let c=0;c<this.barcodeEncoded.length;c++){const u=this.barcodeEncoded[c]==="1",d=a+c*this.scaleFactor;u?(o++,s==-1&&(s=d),this.encoding==="EAN13"&&Zp.includes(c)&&(l=!0),s!=-1&&c===this.barcodeEncoded.length-1&&e.fillRect(s,0,this.scaleFactor*o,l?r:i)):(e.fillRect(s,0,this.scaleFactor*o,l?r:i),s=-1,o=0,l=!1)}if(this.printText)if(this.encoding==="EAN13"){const c=[this.displayText[0],this.displayText.slice(1,7),this.displayText.slice(7,13),">"],u=40,d=4,h=50;e.fillText(c[0],0,this.height),as(e,c[1],n+d*this.scaleFactor,this.height,u*this.scaleFactor),as(e,c[2],n+h*this.scaleFactor,this.height,u*this.scaleFactor),e.fillText(c[3],this.width-n,this.height)}else as(e,this.displayText,a,this.height,this.width);e.restore()}toObject(e=[]){return super.toObject(na.concat(...e))}static fromObject(e,n){return et.fabric.Object._fromObject("Barcode",e,n)}}et.fabric.Barcode=jn;var Wu={exports:{}};(function(t){function e(p){this.mode=r.MODE_8BIT_BYTE,this.data=p,this.parsedData=[];for(var _=0,g=this.data.length;_<g;_++){var v=[],w=this.data.charCodeAt(_);w>65536?(v[0]=240|(w&1835008)>>>18,v[1]=128|(w&258048)>>>12,v[2]=128|(w&4032)>>>6,v[3]=128|w&63):w>2048?(v[0]=224|(w&61440)>>>12,v[1]=128|(w&4032)>>>6,v[2]=128|w&63):w>128?(v[0]=192|(w&1984)>>>6,v[1]=128|w&63):v[0]=w,this.parsedData.push(v)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}e.prototype={getLength:function(p){return this.parsedData.length},write:function(p){for(var _=0,g=this.parsedData.length;_<g;_++)p.put(this.parsedData[_],8)}};function n(p,_){this.typeNumber=p,this.errorCorrectLevel=_,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}n.prototype={addData:function(p){var _=new e(p);this.dataList.push(_),this.dataCache=null},isDark:function(p,_){if(p<0||this.moduleCount<=p||_<0||this.moduleCount<=_)throw new Error(p+","+_);return this.modules[p][_]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(p,_){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var g=0;g<this.moduleCount;g++){this.modules[g]=new Array(this.moduleCount);for(var v=0;v<this.moduleCount;v++)this.modules[g][v]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(p,_),this.typeNumber>=7&&this.setupTypeNumber(p),this.dataCache==null&&(this.dataCache=n.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,_)},setupPositionProbePattern:function(p,_){for(var g=-1;g<=7;g++)if(!(p+g<=-1||this.moduleCount<=p+g))for(var v=-1;v<=7;v++)_+v<=-1||this.moduleCount<=_+v||(0<=g&&g<=6&&(v==0||v==6)||0<=v&&v<=6&&(g==0||g==6)||2<=g&&g<=4&&2<=v&&v<=4?this.modules[p+g][_+v]=!0:this.modules[p+g][_+v]=!1)},getBestMaskPattern:function(){for(var p=0,_=0,g=0;g<8;g++){this.makeImpl(!0,g);var v=s.getLostPoint(this);(g==0||p>v)&&(p=v,_=g)}return _},createMovieClip:function(p,_,g){var v=p.createEmptyMovieClip(_,g),w=1;this.make();for(var S=0;S<this.modules.length;S++)for(var E=S*w,L=0;L<this.modules[S].length;L++){var T=L*w,P=this.modules[S][L];P&&(v.beginFill(0,100),v.moveTo(T,E),v.lineTo(T+w,E),v.lineTo(T+w,E+w),v.lineTo(T,E+w),v.endFill())}return v},setupTimingPattern:function(){for(var p=8;p<this.moduleCount-8;p++)this.modules[p][6]==null&&(this.modules[p][6]=p%2==0);for(var _=8;_<this.moduleCount-8;_++)this.modules[6][_]==null&&(this.modules[6][_]=_%2==0)},setupPositionAdjustPattern:function(){for(var p=s.getPatternPosition(this.typeNumber),_=0;_<p.length;_++)for(var g=0;g<p.length;g++){var v=p[_],w=p[g];if(this.modules[v][w]==null)for(var S=-2;S<=2;S++)for(var E=-2;E<=2;E++)S==-2||S==2||E==-2||E==2||S==0&&E==0?this.modules[v+S][w+E]=!0:this.modules[v+S][w+E]=!1}},setupTypeNumber:function(p){for(var _=s.getBCHTypeNumber(this.typeNumber),g=0;g<18;g++){var v=!p&&(_>>g&1)==1;this.modules[Math.floor(g/3)][g%3+this.moduleCount-8-3]=v}for(var g=0;g<18;g++){var v=!p&&(_>>g&1)==1;this.modules[g%3+this.moduleCount-8-3][Math.floor(g/3)]=v}},setupTypeInfo:function(p,_){for(var g=this.errorCorrectLevel<<3|_,v=s.getBCHTypeInfo(g),w=0;w<15;w++){var S=!p&&(v>>w&1)==1;w<6?this.modules[w][8]=S:w<8?this.modules[w+1][8]=S:this.modules[this.moduleCount-15+w][8]=S}for(var w=0;w<15;w++){var S=!p&&(v>>w&1)==1;w<8?this.modules[8][this.moduleCount-w-1]=S:w<9?this.modules[8][15-w-1+1]=S:this.modules[8][15-w-1]=S}this.modules[this.moduleCount-8][8]=!p},mapData:function(p,_){for(var g=-1,v=this.moduleCount-1,w=7,S=0,E=this.moduleCount-1;E>0;E-=2)for(E==6&&E--;;){for(var L=0;L<2;L++)if(this.modules[v][E-L]==null){var T=!1;S<p.length&&(T=(p[S]>>>w&1)==1);var P=s.getMask(_,v,E-L);P&&(T=!T),this.modules[v][E-L]=T,w--,w==-1&&(S++,w=7)}if(v+=g,v<0||this.moduleCount<=v){v-=g,g=-g;break}}}},n.PAD0=236,n.PAD1=17,n.createData=function(p,_,g){for(var v=u.getRSBlocks(p,_),w=new d,S=0;S<g.length;S++){var E=g[S];w.put(E.mode,4),w.put(E.getLength(),s.getLengthInBits(E.mode,p)),E.write(w)}for(var L=0,S=0;S<v.length;S++)L+=v[S].dataCount;if(w.getLengthInBits()>L*8)throw new Error("code length overflow. ("+w.getLengthInBits()+">"+L*8+")");for(w.getLengthInBits()+4<=L*8&&w.put(0,4);w.getLengthInBits()%8!=0;)w.putBit(!1);for(;!(w.getLengthInBits()>=L*8||(w.put(n.PAD0,8),w.getLengthInBits()>=L*8));)w.put(n.PAD1,8);return n.createBytes(w,v)},n.createBytes=function(p,_){for(var g=0,v=0,w=0,S=new Array(_.length),E=new Array(_.length),L=0;L<_.length;L++){var T=_[L].dataCount,P=_[L].totalCount-T;v=Math.max(v,T),w=Math.max(w,P),S[L]=new Array(T);for(var O=0;O<S[L].length;O++)S[L][O]=255&p.buffer[O+g];g+=T;var B=s.getErrorCorrectPolynomial(P),k=new c(S[L],B.getLength()-1),A=k.mod(B);E[L]=new Array(B.getLength()-1);for(var O=0;O<E[L].length;O++){var I=O+A.getLength()-E[L].length;E[L][O]=I>=0?A.get(I):0}}for(var M=0,O=0;O<_.length;O++)M+=_[O].totalCount;for(var q=new Array(M),W=0,O=0;O<v;O++)for(var L=0;L<_.length;L++)O<S[L].length&&(q[W++]=S[L][O]);for(var O=0;O<w;O++)for(var L=0;L<_.length;L++)O<E[L].length&&(q[W++]=E[L][O]);return q};for(var r={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={L:1,M:0,Q:3,H:2},a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(p){for(var _=p<<10;s.getBCHDigit(_)-s.getBCHDigit(s.G15)>=0;)_^=s.G15<<s.getBCHDigit(_)-s.getBCHDigit(s.G15);return(p<<10|_)^s.G15_MASK},getBCHTypeNumber:function(p){for(var _=p<<12;s.getBCHDigit(_)-s.getBCHDigit(s.G18)>=0;)_^=s.G18<<s.getBCHDigit(_)-s.getBCHDigit(s.G18);return p<<12|_},getBCHDigit:function(p){for(var _=0;p!=0;)_++,p>>>=1;return _},getPatternPosition:function(p){return s.PATTERN_POSITION_TABLE[p-1]},getMask:function(p,_,g){switch(p){case a.PATTERN000:return(_+g)%2==0;case a.PATTERN001:return _%2==0;case a.PATTERN010:return g%3==0;case a.PATTERN011:return(_+g)%3==0;case a.PATTERN100:return(Math.floor(_/2)+Math.floor(g/3))%2==0;case a.PATTERN101:return _*g%2+_*g%3==0;case a.PATTERN110:return(_*g%2+_*g%3)%2==0;case a.PATTERN111:return(_*g%3+(_+g)%2)%2==0;default:throw new Error("bad maskPattern:"+p)}},getErrorCorrectPolynomial:function(p){for(var _=new c([1],0),g=0;g<p;g++)_=_.multiply(new c([1,o.gexp(g)],0));return _},getLengthInBits:function(p,_){if(1<=_&&_<10)switch(p){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:return 8;case r.MODE_KANJI:return 8;default:throw new Error("mode:"+p)}else if(_<27)switch(p){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+p)}else if(_<41)switch(p){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+p)}else throw new Error("type:"+_)},getLostPoint:function(p){for(var _=p.getModuleCount(),g=0,v=0;v<_;v++)for(var w=0;w<_;w++){for(var S=0,E=p.isDark(v,w),L=-1;L<=1;L++)if(!(v+L<0||_<=v+L))for(var T=-1;T<=1;T++)w+T<0||_<=w+T||L==0&&T==0||E==p.isDark(v+L,w+T)&&S++;S>5&&(g+=3+S-5)}for(var v=0;v<_-1;v++)for(var w=0;w<_-1;w++){var P=0;p.isDark(v,w)&&P++,p.isDark(v+1,w)&&P++,p.isDark(v,w+1)&&P++,p.isDark(v+1,w+1)&&P++,(P==0||P==4)&&(g+=3)}for(var v=0;v<_;v++)for(var w=0;w<_-6;w++)p.isDark(v,w)&&!p.isDark(v,w+1)&&p.isDark(v,w+2)&&p.isDark(v,w+3)&&p.isDark(v,w+4)&&!p.isDark(v,w+5)&&p.isDark(v,w+6)&&(g+=40);for(var w=0;w<_;w++)for(var v=0;v<_-6;v++)p.isDark(v,w)&&!p.isDark(v+1,w)&&p.isDark(v+2,w)&&p.isDark(v+3,w)&&p.isDark(v+4,w)&&!p.isDark(v+5,w)&&p.isDark(v+6,w)&&(g+=40);for(var O=0,w=0;w<_;w++)for(var v=0;v<_;v++)p.isDark(v,w)&&O++;var B=Math.abs(100*O/_/_-50)/5;return g+=B*10,g}},o={glog:function(p){if(p<1)throw new Error("glog("+p+")");return o.LOG_TABLE[p]},gexp:function(p){for(;p<0;)p+=255;for(;p>=256;)p-=255;return o.EXP_TABLE[p]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},l=0;l<8;l++)o.EXP_TABLE[l]=1<<l;for(var l=8;l<256;l++)o.EXP_TABLE[l]=o.EXP_TABLE[l-4]^o.EXP_TABLE[l-5]^o.EXP_TABLE[l-6]^o.EXP_TABLE[l-8];for(var l=0;l<255;l++)o.LOG_TABLE[o.EXP_TABLE[l]]=l;function c(p,_){if(p.length==null)throw new Error(p.length+"/"+_);for(var g=0;g<p.length&&p[g]==0;)g++;this.num=new Array(p.length-g+_);for(var v=0;v<p.length-g;v++)this.num[v]=p[v+g]}c.prototype={get:function(p){return this.num[p]},getLength:function(){return this.num.length},multiply:function(p){for(var _=new Array(this.getLength()+p.getLength()-1),g=0;g<this.getLength();g++)for(var v=0;v<p.getLength();v++)_[g+v]^=o.gexp(o.glog(this.get(g))+o.glog(p.get(v)));return new c(_,0)},mod:function(p){if(this.getLength()-p.getLength()<0)return this;for(var _=o.glog(this.get(0))-o.glog(p.get(0)),g=new Array(this.getLength()),v=0;v<this.getLength();v++)g[v]=this.get(v);for(var v=0;v<p.getLength();v++)g[v]^=o.gexp(o.glog(p.get(v))+_);return new c(g,0).mod(p)}};function u(p,_){this.totalCount=p,this.dataCount=_}u.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],u.getRSBlocks=function(p,_){var g=u.getRsBlockTable(p,_);if(g==null)throw new Error("bad rs block @ typeNumber:"+p+"/errorCorrectLevel:"+_);for(var v=g.length/3,w=[],S=0;S<v;S++)for(var E=g[S*3+0],L=g[S*3+1],T=g[S*3+2],P=0;P<E;P++)w.push(new u(L,T));return w},u.getRsBlockTable=function(p,_){switch(_){case i.L:return u.RS_BLOCK_TABLE[(p-1)*4+0];case i.M:return u.RS_BLOCK_TABLE[(p-1)*4+1];case i.Q:return u.RS_BLOCK_TABLE[(p-1)*4+2];case i.H:return u.RS_BLOCK_TABLE[(p-1)*4+3];default:return}};function d(){this.buffer=[],this.length=0}d.prototype={get:function(p){var _=Math.floor(p/8);return(this.buffer[_]>>>7-p%8&1)==1},put:function(p,_){for(var g=0;g<_;g++)this.putBit((p>>>_-g-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(p){var _=Math.floor(this.length/8);this.buffer.length<=_&&this.buffer.push(0),p&&(this.buffer[_]|=128>>>this.length%8),this.length++}};var h=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function b(p){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},typeof p=="string"&&(p={content:p}),p)for(var _ in p)this.options[_]=p[_];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function g(T){switch(T){case"L":return i.L;case"M":return i.M;case"Q":return i.Q;case"H":return i.H;default:throw new Error("Unknwon error correction level: "+T)}}function v(T,P){for(var O=w(T),B=1,k=0,A=0,I=h.length;A<=I;A++){var M=h[A];if(!M)throw new Error("Content too long: expected "+k+" but got "+O);switch(P){case"L":k=M[0];break;case"M":k=M[1];break;case"Q":k=M[2];break;case"H":k=M[3];break;default:throw new Error("Unknwon error correction level: "+P)}if(O<=k)break;B++}if(B>h.length)throw new Error("Content too long");return B}function w(T){var P=encodeURI(T).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return P.length+(P.length!=T?3:0)}var S=this.options.content,E=v(S,this.options.ecl),L=g(this.options.ecl);this.qrcode=new n(E,L),this.qrcode.addData(S),this.qrcode.make()}b.prototype.svg=function(p){var _=this.options||{},g=this.qrcode.modules;typeof p>"u"&&(p={container:_.container||"svg"});for(var v=typeof _.pretty<"u"?!!_.pretty:!0,w=v?"  ":"",S=v?`\r
`:"",E=_.width,L=_.height,T=g.length,P=E/(T+2*_.padding),O=L/(T+2*_.padding),B=typeof _.join<"u"?!!_.join:!1,k=typeof _.swap<"u"?!!_.swap:!1,A=typeof _.xmlDeclaration<"u"?!!_.xmlDeclaration:!0,I=typeof _.predefined<"u"?!!_.predefined:!1,M=I?w+'<defs><path id="qrmodule" d="M0 0 h'+O+" v"+P+' H0 z" style="fill:'+_.color+';shape-rendering:crispEdges;" /></defs>'+S:"",q=w+'<rect x="0" y="0" width="'+E+'" height="'+L+'" style="fill:'+_.background+';shape-rendering:crispEdges;"/>'+S,W="",D="",x=0;x<T;x++)for(var R=0;R<T;R++){var Q=g[R][x];if(Q){var H=R*P+_.padding*P,V=x*O+_.padding*O;if(k){var $=H;H=V,V=$}if(B){var z=P+H,F=O+V;H=Number.isInteger(H)?Number(H):H.toFixed(2),V=Number.isInteger(V)?Number(V):V.toFixed(2),z=Number.isInteger(z)?Number(z):z.toFixed(2),F=Number.isInteger(F)?Number(F):F.toFixed(2),D+="M"+H+","+V+" V"+F+" H"+z+" V"+V+" H"+H+" Z "}else I?W+=w+'<use x="'+H.toString()+'" y="'+V.toString()+'" href="#qrmodule" />'+S:W+=w+'<rect x="'+H.toString()+'" y="'+V.toString()+'" width="'+P+'" height="'+O+'" style="fill:'+_.color+';shape-rendering:crispEdges;"/>'+S}}B&&(W=w+'<path x="0" y="0" style="fill:'+_.color+';shape-rendering:crispEdges;" d="'+D+'" />');var j="";switch(p.container){case"svg":A&&(j+='<?xml version="1.0" standalone="yes"?>'+S),j+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+E+'" height="'+L+'">'+S,j+=M+q+W,j+="</svg>";break;case"svg-viewbox":A&&(j+='<?xml version="1.0" standalone="yes"?>'+S),j+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+E+" "+L+'">'+S,j+=M+q+W,j+="</svg>";break;case"g":j+='<g width="'+E+'" height="'+L+'">'+S,j+=M+q+W,j+="</g>";break;default:j+=(M+q+W).replace(/^\s+/,"");break}return j},b.prototype.save=function(p,_){var g=this.svg();typeof _!="function"&&(_=function(w,S){});try{var v=cd;v.writeFile(p,g,_)}catch(w){_(w)}},t.exports=b})(Wu);var Yp=Wu.exports;const Kp=qi(Yp),os=["text","size","ecl"];class Yn extends et.fabric.Object{constructor(e){super(e),this.type="QRCode",this.stateProperties=os.concat(...et.fabric.Object.prototype.stateProperties??[]),this.cacheProperties=os.concat(...et.fabric.Object.prototype.cacheProperties??[]),this.setControlsVisibility({ml:!1,mr:!1,mt:!1,mb:!1}),this.paths=[],this.text=(e==null?void 0:e.text)??"Text",this.ecl=(e==null?void 0:e.ecl)??"M",this._createPathData()}_set(e,n){return super._set(e,n),(e==="text"||e==="ecl")&&this._createPathData(),this}_createPathData(){if(this.text===""||this.height===void 0||this.width===void 0||this.ecl===void 0)return;const n=new Kp({content:this.text,padding:0,width:this.width,height:this.height,color:this.stroke,background:this.fill,ecl:this.ecl,join:!0}).svg(),r=/<path[^>]*?d=(["'])?((?:.(?!\1|>))*.?)\1?/.exec(n),i=r?r[2]:"";this.paths=et.fabric.util.makePathSimpler(et.fabric.util.parsePath(i))}_render(e){if(this.height===void 0||this.width===void 0)return;const n=this.width/2,r=this.height/2;e.beginPath();for(const i of this.paths){const[a,s,o]=i;a==="M"?e.moveTo(s-n,o-r):a==="L"?e.lineTo(s-n,o-r):a==="C"&&(e.closePath(),e.beginPath())}e.closePath(),e.save(),e.fillStyle=this.stroke,e.fill(),e.restore()}toObject(e=[]){return super.toObject(os.concat(...e))}static fromObject(e,n){return et.fabric.Object._fromObject("QRCode",e,n)}}et.fabric.QRCode=Yn;var qu={exports:{}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */(function(t){(function(e,n){t.exports?t.exports=n():e.Toastify=n()})(dt,function(e){var n=function(s){return new n.lib.init(s)},r="1.12.0";n.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},n.lib=n.prototype={toastify:r,constructor:n,init:function(s){return s||(s={}),this.options={},this.toastElement=null,this.options.text=s.text||n.defaults.text,this.options.node=s.node||n.defaults.node,this.options.duration=s.duration===0?0:s.duration||n.defaults.duration,this.options.selector=s.selector||n.defaults.selector,this.options.callback=s.callback||n.defaults.callback,this.options.destination=s.destination||n.defaults.destination,this.options.newWindow=s.newWindow||n.defaults.newWindow,this.options.close=s.close||n.defaults.close,this.options.gravity=s.gravity==="bottom"?"toastify-bottom":n.defaults.gravity,this.options.positionLeft=s.positionLeft||n.defaults.positionLeft,this.options.position=s.position||n.defaults.position,this.options.backgroundColor=s.backgroundColor||n.defaults.backgroundColor,this.options.avatar=s.avatar||n.defaults.avatar,this.options.className=s.className||n.defaults.className,this.options.stopOnFocus=s.stopOnFocus===void 0?n.defaults.stopOnFocus:s.stopOnFocus,this.options.onClick=s.onClick||n.defaults.onClick,this.options.offset=s.offset||n.defaults.offset,this.options.escapeMarkup=s.escapeMarkup!==void 0?s.escapeMarkup:n.defaults.escapeMarkup,this.options.ariaLive=s.ariaLive||n.defaults.ariaLive,this.options.style=s.style||n.defaults.style,s.backgroundColor&&(this.options.style.background=s.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var s=document.createElement("div");s.className="toastify on "+this.options.className,this.options.position?s.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(s.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):s.className+=" toastify-right",s.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var o in this.options.style)s.style[o]=this.options.style[o];if(this.options.ariaLive&&s.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)s.appendChild(this.options.node);else if(this.options.escapeMarkup?s.innerText=this.options.text:s.innerHTML=this.options.text,this.options.avatar!==""){var l=document.createElement("img");l.src=this.options.avatar,l.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?s.appendChild(l):s.insertAdjacentElement("afterbegin",l)}if(this.options.close===!0){var c=document.createElement("button");c.type="button",c.setAttribute("aria-label","Close"),c.className="toast-close",c.innerHTML="&#10006;",c.addEventListener("click",(function(g){g.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}).bind(this));var u=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&u>360?s.insertAdjacentElement("afterbegin",c):s.appendChild(c)}if(this.options.stopOnFocus&&this.options.duration>0){var d=this;s.addEventListener("mouseover",function(g){window.clearTimeout(s.timeOutValue)}),s.addEventListener("mouseleave",function(){s.timeOutValue=window.setTimeout(function(){d.removeElement(s)},d.options.duration)})}if(typeof this.options.destination<"u"&&s.addEventListener("click",(function(g){g.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&s.addEventListener("click",(function(g){g.stopPropagation(),this.options.onClick()}).bind(this)),typeof this.options.offset=="object"){var h=i("x",this.options),b=i("y",this.options),p=this.options.position=="left"?h:"-"+h,_=this.options.gravity=="toastify-top"?b:"-"+b;s.style.transform="translate("+p+","+_+")"}return s},showToast:function(){this.toastElement=this.buildToast();var s;if(typeof this.options.selector=="string"?s=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?s=this.options.selector:s=document.body,!s)throw"Root element is not defined";var o=n.defaults.oldestFirst?s.firstChild:s.lastChild;return s.insertBefore(this.toastElement,o),n.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement)}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(s){s.className=s.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),s.parentNode&&s.parentNode.removeChild(s),this.options.callback.call(s),n.reposition()}).bind(this),400)}},n.reposition=function(){for(var s={top:15,bottom:15},o={top:15,bottom:15},l={top:15,bottom:15},c=document.getElementsByClassName("toastify"),u,d=0;d<c.length;d++){a(c[d],"toastify-top")===!0?u="toastify-top":u="toastify-bottom";var h=c[d].offsetHeight;u=u.substr(9,u.length-1);var b=15,p=window.innerWidth>0?window.innerWidth:screen.width;p<=360?(c[d].style[u]=l[u]+"px",l[u]+=h+b):a(c[d],"toastify-left")===!0?(c[d].style[u]=s[u]+"px",s[u]+=h+b):(c[d].style[u]=o[u]+"px",o[u]+=h+b)}return this};function i(s,o){return o.offset[s]?isNaN(o.offset[s])?o.offset[s]:o.offset[s]+"px":"0px"}function a(s,o){return!s||typeof o!="string"?!1:!!(s.className&&s.className.trim().split(/\s+/gi).indexOf(o)>-1)}return n.lib.init.prototype=n.lib,n})})(qu);var Qp=qu.exports;const Jp=qi(Qp);var Ze;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Ze||(Ze={}));var As;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(As||(As={}));const be=Ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ir=t=>{switch(typeof t){case"undefined":return be.undefined;case"string":return be.string;case"number":return isNaN(t)?be.nan:be.number;case"boolean":return be.boolean;case"function":return be.function;case"bigint":return be.bigint;case"symbol":return be.symbol;case"object":return Array.isArray(t)?be.array:t===null?be.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?be.promise:typeof Map<"u"&&t instanceof Map?be.map:typeof Set<"u"&&t instanceof Set?be.set:typeof Date<"u"&&t instanceof Date?be.date:be.object;default:return be.unknown}},oe=Ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Xp=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class fn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let o=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof fn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}fn.create=t=>new fn(t);const Zr=(t,e)=>{let n;switch(t.code){case oe.invalid_type:t.received===be.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case oe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ze.jsonStringifyReplacer)}`;break;case oe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ze.joinValues(t.keys,", ")}`;break;case oe.invalid_union:n="Invalid input";break;case oe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ze.joinValues(t.options)}`;break;case oe.invalid_enum_value:n=`Invalid enum value. Expected ${Ze.joinValues(t.options)}, received '${t.received}'`;break;case oe.invalid_arguments:n="Invalid function arguments";break;case oe.invalid_return_type:n="Invalid function return type";break;case oe.invalid_date:n="Invalid date";break;case oe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ze.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case oe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case oe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case oe.custom:n="Invalid input";break;case oe.invalid_intersection_types:n="Intersection results could not be merged";break;case oe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case oe.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ze.assertNever(t)}return{message:n}};let Fu=Zr;function eh(t){Fu=t}function _a(){return Fu}const ma=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}},th=[];function _e(t,e){const n=_a(),r=ma({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Zr?void 0:Zr].filter(i=>!!i)});t.common.issues.push(r)}class Vt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Ne;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,s=await i.value;r.push({key:a,value:s})}return Vt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Ne;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[a.value]=s.value)}return{status:e.value,value:r}}}const Ne=Object.freeze({status:"aborted"}),jr=t=>({status:"dirty",value:t}),Zt=t=>({status:"valid",value:t}),Ds=t=>t.status==="aborted",Os=t=>t.status==="dirty",Oi=t=>t.status==="valid",Li=t=>typeof Promise<"u"&&t instanceof Promise;function ba(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Hu(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Se;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Se||(Se={}));var wi,ki;class Vn{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _l=(t,e)=>{if(Oi(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new fn(t.common.issues);return this._error=n,this._error}}};function Re(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{var l,c;const{message:u}=t;return s.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:o.defaultError}},description:i}}class ze{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ir(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ir(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Vt,ctx:{common:e.parent.common,data:e.data,parsedType:ir(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Li(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ir(e)},a=this._parseSync({data:e,path:i.path,parent:i});return _l(i,a)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ir(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(Li(i)?i:Promise.resolve(i));return _l(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:oe.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Ln({schema:this,typeName:Ie.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return $n.create(this,this._def)}nullable(){return ur.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return On.create(this,this._def)}promise(){return Kr.create(this,this._def)}or(e){return Ni.create([this,e],this._def)}and(e){return Mi.create(this,e,this._def)}transform(e){return new Ln({...Re(this._def),schema:this,typeName:Ie.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ui({...Re(this._def),innerType:this,defaultValue:n,typeName:Ie.ZodDefault})}brand(){return new io({typeName:Ie.ZodBranded,type:this,...Re(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Vi({...Re(this._def),innerType:this,catchValue:n,typeName:Ie.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Yi.create(this,e)}readonly(){return zi.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const nh=/^c[^\s-]{8,}$/i,rh=/^[0-9a-z]+$/,ih=/^[0-9A-HJKMNP-TV-Z]{26}$/,ah=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sh=/^[a-z0-9_-]{21}$/i,oh=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,lh=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ch="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ls;const uh=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dh=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,fh=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Gu="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ph=new RegExp(`^${Gu}$`);function Zu(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function hh(t){return new RegExp(`^${Zu(t)}$`)}function Yu(t){let e=`${Gu}T${Zu(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function _h(t,e){return!!((e==="v4"||!e)&&uh.test(t)||(e==="v6"||!e)&&dh.test(t))}class Sn extends ze{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==be.string){const a=this._getOrReturnCtx(e);return _e(a,{code:oe.invalid_type,expected:be.string,received:a.parsedType}),Ne}const r=new Vt;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:oe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:oe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?_e(i,{code:oe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&_e(i,{code:oe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")lh.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"email",code:oe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")ls||(ls=new RegExp(ch,"u")),ls.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"emoji",code:oe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")ah.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"uuid",code:oe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")sh.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"nanoid",code:oe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")nh.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"cuid",code:oe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")rh.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"cuid2",code:oe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")ih.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"ulid",code:oe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),_e(i,{validation:"url",code:oe.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"regex",code:oe.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),_e(i,{code:oe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),_e(i,{code:oe.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),_e(i,{code:oe.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Yu(a).test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{code:oe.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?ph.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{code:oe.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?hh(a).test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{code:oe.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?oh.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"duration",code:oe.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?_h(e.data,a.version)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"ip",code:oe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?fh.test(e.data)||(i=this._getOrReturnCtx(e,i),_e(i,{validation:"base64",code:oe.invalid_string,message:a.message}),r.dirty()):Ze.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:oe.invalid_string,...Se.errToObj(r)})}_addCheck(e){return new Sn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Se.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Se.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Se.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Se.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Se.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Se.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Se.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Se.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Se.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Se.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Se.errToObj(n)})}nonempty(e){return this.min(1,Se.errToObj(e))}trim(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Sn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Sn.create=t=>{var e;return new Sn({checks:[],typeName:Ie.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Re(t)})};function mh(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}class or extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==be.number){const a=this._getOrReturnCtx(e);return _e(a,{code:oe.invalid_type,expected:be.number,received:a.parsedType}),Ne}let r;const i=new Vt;for(const a of this._def.checks)a.kind==="int"?Ze.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),_e(r,{code:oe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:oe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:oe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?mh(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),_e(r,{code:oe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),_e(r,{code:oe.not_finite,message:a.message}),i.dirty()):Ze.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Se.toString(n))}setLimit(e,n,r,i){return new or({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Se.toString(i)}]})}_addCheck(e){return new or({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Se.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ze.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}or.create=t=>new or({checks:[],typeName:Ie.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Re(t)});class lr extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==be.bigint){const a=this._getOrReturnCtx(e);return _e(a,{code:oe.invalid_type,expected:be.bigint,received:a.parsedType}),Ne}let r;const i=new Vt;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:oe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:oe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),_e(r,{code:oe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Ze.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Se.toString(n))}setLimit(e,n,r,i){return new lr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Se.toString(i)}]})}_addCheck(e){return new lr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Se.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}lr.create=t=>{var e;return new lr({checks:[],typeName:Ie.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Re(t)})};class Ci extends ze{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==be.boolean){const r=this._getOrReturnCtx(e);return _e(r,{code:oe.invalid_type,expected:be.boolean,received:r.parsedType}),Ne}return Zt(e.data)}}Ci.create=t=>new Ci({typeName:Ie.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Re(t)});class Sr extends ze{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==be.date){const a=this._getOrReturnCtx(e);return _e(a,{code:oe.invalid_type,expected:be.date,received:a.parsedType}),Ne}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return _e(a,{code:oe.invalid_date}),Ne}const r=new Vt;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:oe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),_e(i,{code:oe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Ze.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Sr({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Se.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Se.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Sr.create=t=>new Sr({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ie.ZodDate,...Re(t)});class ga extends ze{_parse(e){if(this._getType(e)!==be.symbol){const r=this._getOrReturnCtx(e);return _e(r,{code:oe.invalid_type,expected:be.symbol,received:r.parsedType}),Ne}return Zt(e.data)}}ga.create=t=>new ga({typeName:Ie.ZodSymbol,...Re(t)});class Ii extends ze{_parse(e){if(this._getType(e)!==be.undefined){const r=this._getOrReturnCtx(e);return _e(r,{code:oe.invalid_type,expected:be.undefined,received:r.parsedType}),Ne}return Zt(e.data)}}Ii.create=t=>new Ii({typeName:Ie.ZodUndefined,...Re(t)});class Bi extends ze{_parse(e){if(this._getType(e)!==be.null){const r=this._getOrReturnCtx(e);return _e(r,{code:oe.invalid_type,expected:be.null,received:r.parsedType}),Ne}return Zt(e.data)}}Bi.create=t=>new Bi({typeName:Ie.ZodNull,...Re(t)});class Yr extends ze{constructor(){super(...arguments),this._any=!0}_parse(e){return Zt(e.data)}}Yr.create=t=>new Yr({typeName:Ie.ZodAny,...Re(t)});class wr extends ze{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Zt(e.data)}}wr.create=t=>new wr({typeName:Ie.ZodUnknown,...Re(t)});class Jn extends ze{_parse(e){const n=this._getOrReturnCtx(e);return _e(n,{code:oe.invalid_type,expected:be.never,received:n.parsedType}),Ne}}Jn.create=t=>new Jn({typeName:Ie.ZodNever,...Re(t)});class va extends ze{_parse(e){if(this._getType(e)!==be.undefined){const r=this._getOrReturnCtx(e);return _e(r,{code:oe.invalid_type,expected:be.void,received:r.parsedType}),Ne}return Zt(e.data)}}va.create=t=>new va({typeName:Ie.ZodVoid,...Re(t)});class On extends ze{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==be.array)return _e(n,{code:oe.invalid_type,expected:be.array,received:n.parsedType}),Ne;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(s||o)&&(_e(n,{code:s?oe.too_big:oe.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(_e(n,{code:oe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(_e(n,{code:oe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,o)=>i.type._parseAsync(new Vn(n,s,n.path,o)))).then(s=>Vt.mergeArray(r,s));const a=[...n.data].map((s,o)=>i.type._parseSync(new Vn(n,s,n.path,o)));return Vt.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new On({...this._def,minLength:{value:e,message:Se.toString(n)}})}max(e,n){return new On({...this._def,maxLength:{value:e,message:Se.toString(n)}})}length(e,n){return new On({...this._def,exactLength:{value:e,message:Se.toString(n)}})}nonempty(e){return this.min(1,e)}}On.create=(t,e)=>new On({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ie.ZodArray,...Re(e)});function xr(t){if(t instanceof ct){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=$n.create(xr(r))}return new ct({...t._def,shape:()=>e})}else return t instanceof On?new On({...t._def,type:xr(t.element)}):t instanceof $n?$n.create(xr(t.unwrap())):t instanceof ur?ur.create(xr(t.unwrap())):t instanceof zn?zn.create(t.items.map(e=>xr(e))):t}class ct extends ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ze.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==be.object){const c=this._getOrReturnCtx(e);return _e(c,{code:oe.invalid_type,expected:be.object,received:c.parsedType}),Ne}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof Jn&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const u=a[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Vn(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Jn){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(_e(i,{code:oe.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Vn(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>Vt.mergeObjectSync(r,c)):Vt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Se.errToObj,new ct({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a,s,o;const l=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=Se.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new ct({...this._def,unknownKeys:"strip"})}passthrough(){return new ct({...this._def,unknownKeys:"passthrough"})}extend(e){return new ct({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ct({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ie.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ct({...this._def,catchall:e})}pick(e){const n={};return Ze.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ct({...this._def,shape:()=>n})}omit(e){const n={};return Ze.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new ct({...this._def,shape:()=>n})}deepPartial(){return xr(this)}partial(e){const n={};return Ze.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new ct({...this._def,shape:()=>n})}required(e){const n={};return Ze.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof $n;)a=a._def.innerType;n[r]=a}}),new ct({...this._def,shape:()=>n})}keyof(){return Ku(Ze.objectKeys(this.shape))}}ct.create=(t,e)=>new ct({shape:()=>t,unknownKeys:"strip",catchall:Jn.create(),typeName:Ie.ZodObject,...Re(e)});ct.strictCreate=(t,e)=>new ct({shape:()=>t,unknownKeys:"strict",catchall:Jn.create(),typeName:Ie.ZodObject,...Re(e)});ct.lazycreate=(t,e)=>new ct({shape:t,unknownKeys:"strip",catchall:Jn.create(),typeName:Ie.ZodObject,...Re(e)});class Ni extends ze{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new fn(o.ctx.common.issues));return _e(n,{code:oe.invalid_union,unionErrors:s}),Ne}if(n.common.async)return Promise.all(r.map(async a=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new fn(l));return _e(n,{code:oe.invalid_union,unionErrors:o}),Ne}}get options(){return this._def.options}}Ni.create=(t,e)=>new Ni({options:t,typeName:Ie.ZodUnion,...Re(e)});const Zn=t=>t instanceof ji?Zn(t.schema):t instanceof Ln?Zn(t.innerType()):t instanceof Ri?[t.value]:t instanceof cr?t.options:t instanceof $i?Ze.objectValues(t.enum):t instanceof Ui?Zn(t._def.innerType):t instanceof Ii?[void 0]:t instanceof Bi?[null]:t instanceof $n?[void 0,...Zn(t.unwrap())]:t instanceof ur?[null,...Zn(t.unwrap())]:t instanceof io||t instanceof zi?Zn(t.unwrap()):t instanceof Vi?Zn(t._def.innerType):[];class Na extends ze{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==be.object)return _e(n,{code:oe.invalid_type,expected:be.object,received:n.parsedType}),Ne;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(_e(n,{code:oe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ne)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const a of n){const s=Zn(a.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of s){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,a)}}return new Na({typeName:Ie.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Re(r)})}}function Ls(t,e){const n=ir(t),r=ir(e);if(t===e)return{valid:!0,data:t};if(n===be.object&&r===be.object){const i=Ze.objectKeys(e),a=Ze.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=Ls(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(n===be.array&&r===be.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=Ls(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===be.date&&r===be.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Mi extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,s)=>{if(Ds(a)||Ds(s))return Ne;const o=Ls(a.value,s.value);return o.valid?((Os(a)||Os(s))&&n.dirty(),{status:n.value,value:o.data}):(_e(r,{code:oe.invalid_intersection_types}),Ne)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Mi.create=(t,e,n)=>new Mi({left:t,right:e,typeName:Ie.ZodIntersection,...Re(n)});class zn extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==be.array)return _e(r,{code:oe.invalid_type,expected:be.array,received:r.parsedType}),Ne;if(r.data.length<this._def.items.length)return _e(r,{code:oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ne;!this._def.rest&&r.data.length>this._def.items.length&&(_e(r,{code:oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Vn(r,s,r.path,o)):null}).filter(s=>!!s);return r.common.async?Promise.all(a).then(s=>Vt.mergeArray(n,s)):Vt.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new zn({...this._def,rest:e})}}zn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zn({items:t,typeName:Ie.ZodTuple,rest:null,...Re(e)})};class xi extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==be.object)return _e(r,{code:oe.invalid_type,expected:be.object,received:r.parsedType}),Ne;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in r.data)i.push({key:a._parse(new Vn(r,o,r.path,o)),value:s._parse(new Vn(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Vt.mergeObjectAsync(n,i):Vt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ze?new xi({keyType:e,valueType:n,typeName:Ie.ZodRecord,...Re(r)}):new xi({keyType:Sn.create(),valueType:e,typeName:Ie.ZodRecord,...Re(n)})}}class ya extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==be.map)return _e(r,{code:oe.invalid_type,expected:be.map,received:r.parsedType}),Ne;const i=this._def.keyType,a=this._def.valueType,s=[...r.data.entries()].map(([o,l],c)=>({key:i._parse(new Vn(r,o,r.path,[c,"key"])),value:a._parse(new Vn(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Ne;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Ne;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}}}}ya.create=(t,e,n)=>new ya({valueType:e,keyType:t,typeName:Ie.ZodMap,...Re(n)});class Ar extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==be.set)return _e(r,{code:oe.invalid_type,expected:be.set,received:r.parsedType}),Ne;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(_e(r,{code:oe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(_e(r,{code:oe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Ne;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((l,c)=>a._parse(new Vn(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,n){return new Ar({...this._def,minSize:{value:e,message:Se.toString(n)}})}max(e,n){return new Ar({...this._def,maxSize:{value:e,message:Se.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ar.create=(t,e)=>new Ar({valueType:t,minSize:null,maxSize:null,typeName:Ie.ZodSet,...Re(e)});class $r extends ze{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==be.function)return _e(n,{code:oe.invalid_type,expected:be.function,received:n.parsedType}),Ne;function r(o,l){return ma({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_a(),Zr].filter(c=>!!c),issueData:{code:oe.invalid_arguments,argumentsError:l}})}function i(o,l){return ma({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_a(),Zr].filter(c=>!!c),issueData:{code:oe.invalid_return_type,returnTypeError:l}})}const a={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof Kr){const o=this;return Zt(async function(...l){const c=new fn([]),u=await o._def.args.parseAsync(l,a).catch(b=>{throw c.addIssue(r(l,b)),c}),d=await Reflect.apply(s,this,u);return await o._def.returns._def.type.parseAsync(d,a).catch(b=>{throw c.addIssue(i(d,b)),c})})}else{const o=this;return Zt(function(...l){const c=o._def.args.safeParse(l,a);if(!c.success)throw new fn([r(l,c.error)]);const u=Reflect.apply(s,this,c.data),d=o._def.returns.safeParse(u,a);if(!d.success)throw new fn([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new $r({...this._def,args:zn.create(e).rest(wr.create())})}returns(e){return new $r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new $r({args:e||zn.create([]).rest(wr.create()),returns:n||wr.create(),typeName:Ie.ZodFunction,...Re(r)})}}class ji extends ze{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ji.create=(t,e)=>new ji({getter:t,typeName:Ie.ZodLazy,...Re(e)});class Ri extends ze{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return _e(n,{received:n.data,code:oe.invalid_literal,expected:this._def.value}),Ne}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ri.create=(t,e)=>new Ri({value:t,typeName:Ie.ZodLiteral,...Re(e)});function Ku(t,e){return new cr({values:t,typeName:Ie.ZodEnum,...Re(e)})}class cr extends ze{constructor(){super(...arguments),wi.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return _e(n,{expected:Ze.joinValues(r),received:n.parsedType,code:oe.invalid_type}),Ne}if(ba(this,wi)||Hu(this,wi,new Set(this._def.values)),!ba(this,wi).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return _e(n,{received:n.data,code:oe.invalid_enum_value,options:r}),Ne}return Zt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return cr.create(e,{...this._def,...n})}exclude(e,n=this._def){return cr.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}wi=new WeakMap;cr.create=Ku;class $i extends ze{constructor(){super(...arguments),ki.set(this,void 0)}_parse(e){const n=Ze.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==be.string&&r.parsedType!==be.number){const i=Ze.objectValues(n);return _e(r,{expected:Ze.joinValues(i),received:r.parsedType,code:oe.invalid_type}),Ne}if(ba(this,ki)||Hu(this,ki,new Set(Ze.getValidEnumValues(this._def.values))),!ba(this,ki).has(e.data)){const i=Ze.objectValues(n);return _e(r,{received:r.data,code:oe.invalid_enum_value,options:i}),Ne}return Zt(e.data)}get enum(){return this._def.values}}ki=new WeakMap;$i.create=(t,e)=>new $i({values:t,typeName:Ie.ZodNativeEnum,...Re(e)});class Kr extends ze{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==be.promise&&n.common.async===!1)return _e(n,{code:oe.invalid_type,expected:be.promise,received:n.parsedType}),Ne;const r=n.parsedType===be.promise?n.data:Promise.resolve(n.data);return Zt(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Kr.create=(t,e)=>new Kr({type:t,typeName:Ie.ZodPromise,...Re(e)});class Ln extends ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{_e(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(r.data,a);if(r.common.async)return Promise.resolve(s).then(async o=>{if(n.value==="aborted")return Ne;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?Ne:l.status==="dirty"||n.value==="dirty"?jr(l.value):l});{if(n.value==="aborted")return Ne;const o=this._def.schema._parseSync({data:s,path:r.path,parent:r});return o.status==="aborted"?Ne:o.status==="dirty"||n.value==="dirty"?jr(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Ne:(o.status==="dirty"&&n.dirty(),s(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Ne:(o.status==="dirty"&&n.dirty(),s(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Oi(s))return s;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Oi(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:n.value,value:o})):s);Ze.assertNever(i)}}Ln.create=(t,e,n)=>new Ln({schema:t,typeName:Ie.ZodEffects,effect:e,...Re(n)});Ln.createWithPreprocess=(t,e,n)=>new Ln({schema:e,effect:{type:"preprocess",transform:t},typeName:Ie.ZodEffects,...Re(n)});class $n extends ze{_parse(e){return this._getType(e)===be.undefined?Zt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$n.create=(t,e)=>new $n({innerType:t,typeName:Ie.ZodOptional,...Re(e)});class ur extends ze{_parse(e){return this._getType(e)===be.null?Zt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ur.create=(t,e)=>new ur({innerType:t,typeName:Ie.ZodNullable,...Re(e)});class Ui extends ze{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===be.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ui.create=(t,e)=>new Ui({innerType:t,typeName:Ie.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Re(e)});class Vi extends ze{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Li(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new fn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new fn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Vi.create=(t,e)=>new Vi({innerType:t,typeName:Ie.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Re(e)});class wa extends ze{_parse(e){if(this._getType(e)!==be.nan){const r=this._getOrReturnCtx(e);return _e(r,{code:oe.invalid_type,expected:be.nan,received:r.parsedType}),Ne}return{status:"valid",value:e.data}}}wa.create=t=>new wa({typeName:Ie.ZodNaN,...Re(t)});const bh=Symbol("zod_brand");class io extends ze{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Yi extends ze{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ne:a.status==="dirty"?(n.dirty(),jr(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ne:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Yi({in:e,out:n,typeName:Ie.ZodPipeline})}}class zi extends ze{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Oi(i)&&(i.value=Object.freeze(i.value)),i);return Li(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}zi.create=(t,e)=>new zi({innerType:t,typeName:Ie.ZodReadonly,...Re(e)});function Qu(t,e={},n){return t?Yr.create().superRefine((r,i)=>{var a,s;if(!t(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(s=(a=o.fatal)!==null&&a!==void 0?a:n)!==null&&s!==void 0?s:!0,c=typeof o=="string"?{message:o}:o;i.addIssue({code:"custom",...c,fatal:l})}}):Yr.create()}const gh={object:ct.lazycreate};var Ie;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ie||(Ie={}));const vh=(t,e={message:`Input not instance of ${t.name}`})=>Qu(n=>n instanceof t,e),Ju=Sn.create,Xu=or.create,yh=wa.create,wh=lr.create,ed=Ci.create,kh=Sr.create,Th=ga.create,Ph=Ii.create,Eh=Bi.create,Sh=Yr.create,Ah=wr.create,Dh=Jn.create,Oh=va.create,Lh=On.create,Ch=ct.create,Ih=ct.strictCreate,Bh=Ni.create,Nh=Na.create,Mh=Mi.create,xh=zn.create,jh=xi.create,Rh=ya.create,$h=Ar.create,Uh=$r.create,Vh=ji.create,zh=Ri.create,Wh=cr.create,qh=$i.create,Fh=Kr.create,ml=Ln.create,Hh=$n.create,Gh=ur.create,Zh=Ln.createWithPreprocess,Yh=Yi.create,Kh=()=>Ju().optional(),Qh=()=>Xu().optional(),Jh=()=>ed().optional(),Xh={string:t=>Sn.create({...t,coerce:!0}),number:t=>or.create({...t,coerce:!0}),boolean:t=>Ci.create({...t,coerce:!0}),bigint:t=>lr.create({...t,coerce:!0}),date:t=>Sr.create({...t,coerce:!0})},e_=Ne;var Ve=Object.freeze({__proto__:null,defaultErrorMap:Zr,setErrorMap:eh,getErrorMap:_a,makeIssue:ma,EMPTY_PATH:th,addIssueToContext:_e,ParseStatus:Vt,INVALID:Ne,DIRTY:jr,OK:Zt,isAborted:Ds,isDirty:Os,isValid:Oi,isAsync:Li,get util(){return Ze},get objectUtil(){return As},ZodParsedType:be,getParsedType:ir,ZodType:ze,datetimeRegex:Yu,ZodString:Sn,ZodNumber:or,ZodBigInt:lr,ZodBoolean:Ci,ZodDate:Sr,ZodSymbol:ga,ZodUndefined:Ii,ZodNull:Bi,ZodAny:Yr,ZodUnknown:wr,ZodNever:Jn,ZodVoid:va,ZodArray:On,ZodObject:ct,ZodUnion:Ni,ZodDiscriminatedUnion:Na,ZodIntersection:Mi,ZodTuple:zn,ZodRecord:xi,ZodMap:ya,ZodSet:Ar,ZodFunction:$r,ZodLazy:ji,ZodLiteral:Ri,ZodEnum:cr,ZodNativeEnum:$i,ZodPromise:Kr,ZodEffects:Ln,ZodTransformer:Ln,ZodOptional:$n,ZodNullable:ur,ZodDefault:Ui,ZodCatch:Vi,ZodNaN:wa,BRAND:bh,ZodBranded:io,ZodPipeline:Yi,ZodReadonly:zi,custom:Qu,Schema:ze,ZodSchema:ze,late:gh,get ZodFirstPartyTypeKind(){return Ie},coerce:Xh,any:Sh,array:Lh,bigint:wh,boolean:ed,date:kh,discriminatedUnion:Nh,effect:ml,enum:Wh,function:Uh,instanceof:vh,intersection:Mh,lazy:Vh,literal:zh,map:Rh,nan:yh,nativeEnum:qh,never:Dh,null:Eh,nullable:Gh,number:Xu,object:Ch,oboolean:Jh,onumber:Qh,optional:Hh,ostring:Kh,pipeline:Yh,preprocess:Zh,promise:Fh,record:jh,set:$h,strictObject:Ih,string:Ju,symbol:Th,transformer:ml,tuple:xh,undefined:Ph,union:Bh,unknown:Ah,void:Oh,NEVER:e_,ZodIssueCode:oe,quotelessJson:Xp,ZodError:fn});class ht{static error(e){console.error(e),Jp({text:`${e}`,gravity:"bottom",duration:5e3,className:"toast-danger"}).showToast()}static zodErrors(e,n){e instanceof Ve.ZodError&&e.issues.forEach(r=>{this.error(`${n} "${r.path.join("→")}" ${r.message}`)})}}const t_=Ve.custom(t=>typeof t=="object"),la=Ve.object({printDirection:Ve.enum(["left","top"]),size:Ve.object({width:Ve.number().positive(),height:Ve.number().positive()})}),ka=Ve.object({width:Ve.number().positive(),height:Ve.number().positive(),unit:Ve.enum(["mm","px"]),dpmm:Ve.number().positive(),printDirection:Ve.enum(["left","top"]),title:Ve.string().optional()}),td=Ve.object({version:Ve.string(),objects:Ve.array(t_)}),Ur=Ve.object({canvas:td,label:la,thumbnailBase64:Ve.string().optional(),title:Ve.string().optional(),timestamp:Ve.number().positive().optional()}),[n_,...r_]=at.printTaskNames,i_=Ve.object({x:Ve.number(),y:Ve.number(),offsetType:Ve.enum(["inner","outer"])}),bl=Ve.object({postProcess:Ve.enum(["threshold","dither"]).optional(),threshold:Ve.number().gte(1).lte(255).optional(),quantity:Ve.number().gte(1).optional(),density:Ve.number().gte(1).optional(),labelType:Ve.nativeEnum(at.LabelType).optional(),printTaskName:Ve.enum([n_,...r_]).optional(),offset:i_.optional()}),gl=Ve.object({autoConnect:Ve.boolean().optional(),autoConnectDeviceId:Ve.string().optional(),startPrint:Ve.enum(["after_connect","immediately"]).optional(),loadLabelTemplate:Ur.optional()}),cs=ei("FileSharer",{web:()=>Uu(()=>import("./web.isxTNffP.js"),__vite__mapDeps([2,1])).then(t=>new t.FileSharerPluginWeb)});class An{static timestamp(){return Math.floor(Date.now()/1e3)}static base64str(e){const n=new TextEncoder().encode(e),r=String.fromCodePoint(...n);return btoa(r)}static base64obj(e){const n=JSON.stringify(e);return this.base64str(n)}static makeExportedLabel(e,n){const r=e.toDataURL({width:e.width,height:e.height,left:0,top:0,multiplier:Hp/(e.height||1),quality:Gp,format:"jpeg"});return{canvas:e.toJSON(),label:n,thumbnailBase64:r,timestamp:this.timestamp()}}static saveLabelAsJson(e){const n=Ur.parse(e),r=e.timestamp??this.timestamp();cs.share({filename:`label_${r}.json`,contentType:"application/json",base64Data:this.base64obj(n)}).catch(i=>{i.message!=="USER_CANCELLED"&&ht.error(i)})}static saveCanvasAsPng(e){const n=this.timestamp(),r=e.toDataURL({width:e.width,height:e.height,left:0,top:0,format:"png"});cs.share({filename:`label_${n}.png`,contentType:"image/png",base64Data:r.split("base64,")[1]}).catch(i=>{i.message!=="USER_CANCELLED"&&ht.error(i)})}static saveLabelPresetsAsJson(e){const n=Ve.array(ka).parse(e);cs.share({filename:`presets_${this.timestamp()}.json`,contentType:"application/json",base64Data:this.base64obj(n)}).catch(r=>{r.message!=="USER_CANCELLED"&&ht.error(r)})}static async pickAndReadTextFile(e){return new Promise((n,r)=>{const i=document.createElement("input"),a=new FileReader;i.type="file",i.accept=`.${e}`,i.onchange=s=>{const o=s.target;if(o.files!==null){const l=o.files[0];l.name.split(".").pop()===e&&(a.readAsText(l,"UTF-8"),a.onload=u=>{var d;(d=u==null?void 0:u.target)!=null&&d.result&&n(u.target.result)},a.onerror=u=>{console.error(u),r(new Error("Unable to load file"))})}},i.click()})}static async loadCanvasState(e,n){return new Promise(r=>{e.loadFromJSON(n,()=>{e.backgroundColor="#fff",e.requestRenderAll(),r()},(i,a)=>{a.set({snapAngle:un.snapAngle})})})}}class Dt{static usedSpace(){let e=0;return Object.keys(localStorage).forEach(n=>{e+=(localStorage[n].length+n.length)*2}),Math.floor(e/1024)}static saveObject(e,n){if(n==null||n==null){localStorage.removeItem(e);return}localStorage.setItem(e,JSON.stringify(n))}static loadObject(e){const n=localStorage.getItem(e);if(n!==null)try{return JSON.parse(n)}catch(r){console.log(r)}return null}static loadAndValidateObject(e,n){const r=this.loadObject(e);return r===null?null:n.parse(r)}static validateAndSaveObject(e,n,r){if(n==null){this.saveObject(e,n);return}const i=r.parse(n);this.saveObject(e,i)}static saveCsv(e){this.saveObject("csv_params",{data:e})}static loadCsv(){const e=this.loadObject("csv_params");return e===null?{data:`var1,var2
123,456
777,888`}:{data:e.data}}static loadLastLabelProps(){return this.loadAndValidateObject("last_label_props",la)}static saveLastLabelProps(e){this.validateAndSaveObject("last_label_props",e,la)}static saveLabels(e){const n=[],r=[];return Object.keys(localStorage).forEach(i=>{i.startsWith("saved_label")&&localStorage.removeItem(i)}),e.forEach(i=>{try{i.timestamp==null&&(i.timestamp=An.timestamp());const a=`saved_label_${i.timestamp}`;let s=0;for(;`${a}_${s}`in localStorage;)s++;this.validateAndSaveObject(`${a}_${s}`,i,Ur)}catch(a){a instanceof Ve.ZodError&&n.push(a),a instanceof Error&&r.push(a)}}),{zodErrors:n,otherErrors:r}}static loadLabels(){const e=this.loadAndValidateObject("saved_canvas_props",la),n=this.loadAndValidateObject("saved_canvas_data",td),r=[];if(e!==null&&n!==null){localStorage.removeItem("saved_canvas_props"),localStorage.removeItem("saved_canvas_data");const i={label:e,canvas:n,timestamp:An.timestamp()};this.validateAndSaveObject(`saved_label_${i.timestamp}`,i,Ur)}return Object.keys(localStorage).sort().forEach(i=>{if(i.startsWith("saved_label"))try{const a=this.loadAndValidateObject(i,Ur);a!=null&&r.push(a)}catch(a){console.error(a)}}),r}static savePreviewProps(e){this.validateAndSaveObject("saved_preview_props",e,bl)}static loadSavedPreviewProps(){return this.loadAndValidateObject("saved_preview_props",bl)}static saveLabelPresets(e){this.validateAndSaveObject("label_presets",e,Ve.array(ka))}static loadLabelPresets(){const e=this.loadAndValidateObject("label_presets",Ve.array(ka));return e===null||e.length===0?null:e}static loadLastConnectionType(){const e=localStorage.getItem("connection_type");return e===null||!["bluetooth","serial"].includes(e)?null:e}static saveLastConnectionType(e){localStorage.setItem("connection_type",e)}static saveAutomation(e){this.validateAndSaveObject("automation",e,gl)}static loadAutomation(){return this.loadAndValidateObject("automation",gl)}}const sr=Wn("disconnected"),Cs=Wn(""),ao=Wn(),nd=Wn(),Is=Wn(),Wi=Wn(),ca=Wn(0),Ma=Wn((()=>{try{return Dt.loadAutomation()??void 0}catch(t){console.error(t)}})());let vl=!1;Ma.subscribe(t=>{if(!vl){vl=!0;return}Dt.saveAutomation(t)});const a_=t=>{ao.update(e=>{let n=e;return(e===void 0||t!=="bluetooth"&&e instanceof at.NiimbotBluetoothClient||t!=="serial"&&e instanceof at.NiimbotSerialClient||t!=="capacitor-ble"&&e instanceof at.NiimbotCapacitorBleClient)&&(e!==void 0&&e.disconnect(),n=at.instantiateClient(t),n.on("packetsent",r=>{console.log(`>> ${at.Utils.bufToHex(r.packet.toBytes())} (${at.RequestCommandId[r.packet.command]})`)}),n.on("packetreceived",r=>{console.log(`<< ${at.Utils.bufToHex(r.packet.toBytes())} (${at.ResponseCommandId[r.packet.command]})`)}),n.on("connect",r=>{console.log("onConnect"),ca.set(0),sr.set("connected"),Cs.set(r.info.deviceName??"unknown")}),n.on("printerinfofetched",r=>{console.log("printerInfoFetched"),Is.set(r.info),Wi.set(n.getModelMetadata())}),n.on("disconnect",()=>{console.log("onDisconnect"),sr.set("disconnected"),Cs.set(""),Is.set({}),Wi.set(void 0)}),n.on("heartbeat",r=>{ca.set(0),nd.set(r.data)}),n.on("heartbeatfailed",r=>{ca.set(r.failedAttempts),console.warn(`Heartbeat failed ${r.failedAttempts}/5`),r.failedAttempts>=5&&(ht.error(nf(Mt)("connector.disconnect.heartbeat")),n.disconnect())})),n})};class Mn{static async addSvg(e,n){return new Promise(r=>{et.fabric.loadSVGFromString(n,(i,a)=>{const s=et.fabric.util.groupSVGElements(i,a);s.scaleToWidth(Gn.width).scaleToHeight(Gn.height),s.set({...un}),e.add(s).renderAll(),e.renderAll(),r(s)})})}static async addImageFile(e,n){return new Promise((r,i)=>{const a=new FileReader;n.type.startsWith("image/svg")?(a.readAsText(n,"UTF-8"),a.onload=s=>{var o;(o=s==null?void 0:s.target)!=null&&o.result&&this.addSvg(e,s.target.result).then(r)},a.onerror=s=>{console.error(s),i(new Error("File read error"))}):(n.type==="image/png"||n.type==="image/jpeg")&&(a.readAsDataURL(n),a.onload=s=>{var o;(o=s==null?void 0:s.target)!=null&&o.result&&et.fabric.Image.fromURL(s.target.result,l=>{l.set({...un}),l.scaleToHeight(Gn.width).scaleToHeight(Gn.height),e.add(l),r(l)})},a.onerror=s=>{console.error(s),i(new Error("File read error"))})})}static async addImageWithFilePicker(e){return new Promise(n=>{const r=document.createElement("input");r.type="file",r.onchange=i=>{const a=i.target;a.files!==null&&this.addImageFile(e,a.files[0]).then(n)},r.click()})}static async addImageBlob(e,n){return new Promise((r,i)=>{const a=new FileReader;a.readAsDataURL(n),a.onload=s=>{var o;(o=s==null?void 0:s.target)!=null&&o.result&&et.fabric.Image.fromURL(s.target.result,l=>{l.set({left:0,top:0,snapAngle:un.snapAngle}),e.add(l),r(l)})},a.onerror=s=>{console.error(s),i(new Error("Image read error"))}})}static async addObjectFromClipboard(e,n){for(const i of n.items)if(i.type.indexOf("image")!==-1){const a=i.getAsFile();if(a)return await Mn.addImageFile(e,a)}const r=n.getData("text");if(r){const i=Mn.addText(e,r);return e.setActiveObject(i),i}}static addText(e,n,r){const i=new et.fabric.Textbox(n??"Text",{...Di,...r});return e.add(i),i.center(),i}static addStaticText(e,n,r){const i=new et.fabric.Text(n??"Text",{...Di,...r});return e.add(i),i.center(),i}static addHLine(e){const n=new et.fabric.Line([un.left,un.top,un.left+Gn.width,un.top],{...ss});return n.setControlsVisibility({tl:!1,bl:!1,tr:!1,br:!1,mt:!1,mb:!1}),e.add(n),n.centerV(),n}static addCircle(e){const n=new et.fabric.Circle({...ss,radius:Gn.width/2});return e.add(n),n.centerV(),n}static addRect(e){const n=new et.fabric.Rect({...Gn,...ss});return e.add(n),n.centerV(),n}static addQrCode(e){const n=new Yn({text:"NiimBlue",...Gn,...un});return e.add(n),n}static addBarcode(e){const n=new jn({...un,text:"123456789012",height:Gn.height,encoding:"CODE128B"});return e.add(n),n}static addObject(e,n){switch(n){case"text":return this.addText(e);case"line":return this.addHLine(e);case"circle":return this.addCircle(e);case"rectangle":return this.addRect(e);case"image":this.addImageWithFilePicker(e);return;case"qrcode":return this.addQrCode(e);case"barcode":return this.addBarcode(e)}}}class s_{constructor(){this.UNDO_MAX=20,this.buf=[],this.index=0,this.paused=!1}updateState(){var e;(e=this.onStateUpdate)==null||e.call(this,{undoDisabled:this.index===0,redoDisabled:this.index>=this.buf.length-1})}async undo(){var e;this.index>0&&this.index<this.buf.length&&(await((e=this.onLabelUpdate)==null?void 0:e.call(this,this.buf[this.index-1])),this.index--),this.updateState()}async redo(){var e;this.index<this.buf.length-1&&(await((e=this.onLabelUpdate)==null?void 0:e.call(this,this.buf[this.index+1])),this.index++),this.updateState()}push(e,n){this.paused||(this.index!==this.buf.length-1&&this.index>0&&this.index<=this.buf.length&&(this.buf=this.buf.slice(0,this.index+1)),this.buf.push({label:n,canvas:e.toJSON()}),this.buf.length>this.UNDO_MAX&&this.buf.shift(),this.index=this.buf.length-1,this.updateState())}}function yl(t){let e,n,r,i,a,s,o,l,c,u,d,h,b,p,_,g,v,w,S,E,L,T,P,O,B,k,A,I,M,q,W,D,x,R;r=new de({props:{icon:"code"}}),h=new de({props:{icon:"settings_ethernet"}}),O=new de({props:{icon:"format_size"}});const Q=[l_,o_],H=[];function V($,z){return $[1]==="EAN13"?0:1}return M=V(t),q=H[M]=Q[M](t),{c(){e=y("div"),n=y("span"),te(r.$$.fragment),a=C(),s=y("select"),o=y("option"),o.textContent="EAN13",l=y("option"),l.textContent="Code128 B",c=C(),u=y("div"),d=y("span"),te(h.$$.fragment),p=C(),_=y("input"),g=C(),v=y("button"),w=Y("123"),L=C(),T=y("div"),P=y("span"),te(O.$$.fragment),k=C(),A=y("input"),I=C(),q.c(),W=er(),m(n,"class","input-group-text"),m(n,"title",i=t[6]("params.barcode.encoding")),o.__value="EAN13",Ee(o,o.__value),l.__value="CODE128B",Ee(l,l.__value),m(s,"class","form-select"),t[1]===void 0&&dn(()=>t[14].call(s)),m(e,"class","input-group input-group-sm flex-nowrap svelte-1plc3pf"),m(d,"class","input-group-text"),m(d,"title",b=t[6]("params.barcode.scale")),m(_,"class","barcode-width form-control svelte-1plc3pf"),m(_,"type","number"),m(_,"min","1"),m(u,"class","input-group input-group-sm flex-nowrap svelte-1plc3pf"),m(v,"class",S="btn btn-sm "+(t[5]?"btn-secondary":"")),m(v,"title",E=t[6]("params.barcode.enable_caption")),m(P,"class","input-group-text"),m(P,"title",B=t[6]("params.barcode.font_size")),m(A,"class","barcode-width form-control svelte-1plc3pf"),m(A,"type","number"),m(A,"min","1"),m(T,"class","input-group input-group-sm flex-nowrap svelte-1plc3pf")},m($,z){Z($,e,z),f(e,n),X(r,n,null),f(e,a),f(e,s),f(s,o),f(s,l),Pt(s,t[1],!0),Z($,c,z),Z($,u,z),f(u,d),X(h,d,null),f(u,p),f(u,_),Ee(_,t[3]),Z($,g,z),Z($,v,z),f(v,w),Z($,L,z),Z($,T,z),f(T,P),X(O,P,null),f(T,k),f(T,A),Ee(A,t[4]),Z($,I,z),H[M].m($,z),Z($,W,z),D=!0,x||(R=[K(s,"change",t[14]),K(s,"change",t[9]),K(_,"input",t[15]),K(_,"input",t[10]),K(v,"click",t[7]),K(A,"input",t[16]),K(A,"input",t[11])],x=!0)},p($,z){(!D||z&64&&i!==(i=$[6]("params.barcode.encoding")))&&m(n,"title",i),z&2&&Pt(s,$[1]),(!D||z&64&&b!==(b=$[6]("params.barcode.scale")))&&m(d,"title",b),z&8&&ut(_.value)!==$[3]&&Ee(_,$[3]),(!D||z&32&&S!==(S="btn btn-sm "+($[5]?"btn-secondary":"")))&&m(v,"class",S),(!D||z&64&&E!==(E=$[6]("params.barcode.enable_caption")))&&m(v,"title",E),(!D||z&64&&B!==(B=$[6]("params.barcode.font_size")))&&m(P,"title",B),z&16&&ut(A.value)!==$[4]&&Ee(A,$[4]);let F=M;M=V($),M===F?H[M].p($,z):(Qe(),U(H[F],1,1,()=>{H[F]=null}),Je(),q=H[M],q?q.p($,z):(q=H[M]=Q[M]($),q.c()),N(q,1),q.m(W.parentNode,W))},i($){D||(N(r.$$.fragment,$),N(h.$$.fragment,$),N(O.$$.fragment,$),N(q),D=!0)},o($){U(r.$$.fragment,$),U(h.$$.fragment,$),U(O.$$.fragment,$),U(q),D=!1},d($){$&&(G(e),G(c),G(u),G(g),G(v),G(L),G(T),G(I),G(W)),ee(r),ee(h),ee(O),H[M].d($),x=!1,st(R)}}}function o_(t){let e,n,r;return{c(){e=y("textarea"),m(e,"class","barcode-content form-control svelte-1plc3pf")},m(i,a){Z(i,e,a),Ee(e,t[2]),n||(r=[K(e,"input",t[18]),K(e,"input",t[8])],n=!0)},p(i,a){a&4&&Ee(e,i[2])},i:gt,o:gt,d(i){i&&G(e),n=!1,st(r)}}}function l_(t){let e,n,r,i,a,s,o,l,c;return r=new de({props:{icon:"view_week"}}),{c(){e=y("div"),n=y("span"),te(r.$$.fragment),a=C(),s=y("input"),m(n,"class","input-group-text"),m(n,"title",i=t[6]("params.barcode.content")),m(s,"class","barcode-content form-control"),m(s,"maxlength","12"),m(e,"class","input-group input-group-sm flex-nowrap svelte-1plc3pf")},m(u,d){Z(u,e,d),f(e,n),X(r,n,null),f(e,a),f(e,s),Ee(s,t[2]),o=!0,l||(c=[K(s,"input",t[17]),K(s,"input",t[8])],l=!0)},p(u,d){(!o||d&64&&i!==(i=u[6]("params.barcode.content")))&&m(n,"title",i),d&4&&s.value!==u[2]&&Ee(s,u[2])},i(u){o||(N(r.$$.fragment,u),o=!0)},o(u){U(r.$$.fragment,u),o=!1},d(u){u&&G(e),ee(r),l=!1,st(c)}}}function c_(t){let e,n,r=t[0]&&yl(t);return{c(){r&&r.c(),e=er()},m(i,a){r&&r.m(i,a),Z(i,e,a),n=!0},p(i,[a]){i[0]?r?(r.p(i,a),a&1&&N(r,1)):(r=yl(i),r.c(),N(r,1),r.m(e.parentNode,e)):r&&(Qe(),U(r,1,1,()=>{r=null}),Je())},i(i){n||(N(r),n=!0)},o(i){U(r),n=!1},d(i){i&&G(e),r&&r.d(i)}}}function u_(t,e,n){let r;Ke(t,Mt,P=>n(6,r=P));let{selectedObject:i}=e,{valueUpdated:a}=e,s,o,l,c,u,d;const h=()=>{s!==void 0&&(n(2,l=s.text),n(1,o=s.encoding),n(5,d=s.printText),n(3,c=s.scaleFactor),n(4,u=s.fontSize))},b=()=>{n(5,d=!d),s.set("printText",d??!0),a()},p=()=>{s.set("text",l??""),a()},_=()=>{s.set("encoding",o??"EAN13"),a()},g=()=>{s.set("scaleFactor",Math.max(1,c??1)),a()},v=()=>{s.set("fontSize",u??12),a()};function w(){o=xn(this),n(1,o)}function S(){c=ut(this.value),n(3,c)}function E(){u=ut(this.value),n(4,u)}function L(){l=this.value,n(2,l)}function T(){l=this.value,n(2,l)}return t.$$set=P=>{"selectedObject"in P&&n(12,i=P.selectedObject),"valueUpdated"in P&&n(13,a=P.valueUpdated)},t.$$.update=()=>{t.$$.dirty&4096&&(n(0,s=i instanceof jn?i:void 0),h())},[s,o,l,c,u,d,r,b,p,_,g,v,i,a,w,S,E,L,T]}class d_ extends yt{constructor(e){super(),vt(this,e,u_,c_,_t,{selectedObject:12,valueUpdated:13})}}var wl={},us={},ds=34,vi=10,fs=13;function rd(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function f_(t,e){var n=rd(t);return function(r,i){return e(n(r),i,t)}}function kl(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function rn(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function p_(t){return t<0?"-"+rn(-t,6):t>9999?"+"+rn(t,6):rn(t,4)}function h_(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":p_(t.getUTCFullYear())+"-"+rn(t.getUTCMonth()+1,2)+"-"+rn(t.getUTCDate(),2)+(i?"T"+rn(e,2)+":"+rn(n,2)+":"+rn(r,2)+"."+rn(i,3)+"Z":r?"T"+rn(e,2)+":"+rn(n,2)+":"+rn(r,2)+"Z":n||e?"T"+rn(e,2)+":"+rn(n,2)+"Z":"")}function __(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(d,h){var b,p,_=i(d,function(g,v){if(b)return b(g,v-1);p=g,b=h?f_(g,h):rd(g)});return _.columns=p||[],_}function i(d,h){var b=[],p=d.length,_=0,g=0,v,w=p<=0,S=!1;d.charCodeAt(p-1)===vi&&--p,d.charCodeAt(p-1)===fs&&--p;function E(){if(w)return us;if(S)return S=!1,wl;var T,P=_,O;if(d.charCodeAt(P)===ds){for(;_++<p&&d.charCodeAt(_)!==ds||d.charCodeAt(++_)===ds;);return(T=_)>=p?w=!0:(O=d.charCodeAt(_++))===vi?S=!0:O===fs&&(S=!0,d.charCodeAt(_)===vi&&++_),d.slice(P+1,T-1).replace(/""/g,'"')}for(;_<p;){if((O=d.charCodeAt(T=_++))===vi)S=!0;else if(O===fs)S=!0,d.charCodeAt(_)===vi&&++_;else if(O!==n)continue;return d.slice(P,T)}return w=!0,d.slice(P,p)}for(;(v=E())!==us;){for(var L=[];v!==wl&&v!==us;)L.push(v),v=E();h&&(L=h(L,g++))==null||b.push(L)}return b}function a(d,h){return d.map(function(b){return h.map(function(p){return u(b[p])}).join(t)})}function s(d,h){return h==null&&(h=kl(d)),[h.map(u).join(t)].concat(a(d,h)).join(`
`)}function o(d,h){return h==null&&(h=kl(d)),a(d,h).join(`
`)}function l(d){return d.map(c).join(`
`)}function c(d){return d.map(u).join(t)}function u(d){return d==null?"":d instanceof Date?h_(d):e.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:s,formatBody:o,formatRows:l,formatRow:c,formatValue:u}}var m_=__(","),id=m_.parse;function Tl(t,e,n){const r=t.slice();return r[12]=e[n],r}function Pl(t){let e,n=`{${t[12]}}`,r,i,a=" ",s,o,l;function c(){return t[10](t[12])}return{c(){e=y("button"),r=Y(n),i=C(),s=Y(a),m(e,"class","btn btn-sm btn-outline-info px-1 py-0")},m(u,d){Z(u,e,d),f(e,r),Z(u,i,d),Z(u,s,d),o||(l=K(e,"click",c),o=!0)},p(u,d){t=u,d&8&&n!==(n=`{${t[12]}}`)&&re(r,n)},d(u){u&&(G(e),G(i),G(s)),o=!1,l()}}}function b_(t){let e,n,r,i,a,s,o,l,c=t[5]("params.csv.title")+"",u,d,h,b,p,_,g,v=t[5]("params.csv.enabled")+"",w,S,E,L=t[5]("params.csv.tip")+"",T,P,O,B,k,A=t[5]("params.csv.rowsfound")+"",I,M,q,W,D,x,R=t[5]("params.csv.placeholders")+"",Q,H,V,$,z;r=new de({props:{icon:"dataset"}});let F=lt(t[3]),j=[];for(let ie=0;ie<F.length;ie+=1)j[ie]=Pl(Tl(t,F,ie));return{c(){e=y("div"),n=y("button"),te(r.$$.fragment),s=C(),o=y("div"),l=y("h6"),u=Y(c),d=C(),h=y("div"),b=y("div"),p=y("input"),_=C(),g=y("label"),w=Y(v),S=C(),E=y("div"),T=Y(L),P=C(),O=y("textarea"),B=C(),k=y("div"),I=Y(A),M=C(),q=y("strong"),W=Y(t[4]),D=C(),x=y("div"),Q=Y(R),H=C();for(let ie=0;ie<j.length;ie+=1)j[ie].c();m(n,"class",i="btn btn-sm btn-"+(t[1]?"warning":"secondary")),m(n,"data-bs-toggle","dropdown"),m(n,"data-bs-auto-close","outside"),m(n,"title",a=t[5]("params.csv.title")),m(l,"class","dropdown-header"),m(p,"class","form-check-input"),m(p,"type","checkbox"),m(p,"role","switch"),m(p,"id","enabled"),m(g,"class","form-check-label"),m(g,"for","enabled"),m(b,"class","form-check form-switch"),m(E,"class","mt-3"),m(O,"class","dsv form-control my-3 svelte-1xl5a5i"),m(k,"class","placeholders pt-1"),m(x,"class","placeholders pt-1"),m(h,"class","p-3 text-body-secondary"),m(o,"class","dropdown-menu svelte-1xl5a5i"),m(e,"class","dropdown")},m(ie,se){Z(ie,e,se),f(e,n),X(r,n,null),f(e,s),f(e,o),f(o,l),f(l,u),f(o,d),f(o,h),f(h,b),f(b,p),p.checked=t[1],f(b,_),f(b,g),f(g,w),f(h,S),f(h,E),f(E,T),f(h,P),f(h,O),Ee(O,t[0]),f(h,B),f(h,k),f(k,I),f(k,M),f(k,q),f(q,W),f(h,D),f(h,x),f(x,Q),f(x,H);for(let fe=0;fe<j.length;fe+=1)j[fe]&&j[fe].m(x,null);V=!0,$||(z=[K(p,"change",t[8]),K(p,"change",t[6]),K(O,"input",t[9]),K(O,"input",t[6])],$=!0)},p(ie,[se]){if((!V||se&2&&i!==(i="btn btn-sm btn-"+(ie[1]?"warning":"secondary")))&&m(n,"class",i),(!V||se&32&&a!==(a=ie[5]("params.csv.title")))&&m(n,"title",a),(!V||se&32)&&c!==(c=ie[5]("params.csv.title")+"")&&re(u,c),se&2&&(p.checked=ie[1]),(!V||se&32)&&v!==(v=ie[5]("params.csv.enabled")+"")&&re(w,v),(!V||se&32)&&L!==(L=ie[5]("params.csv.tip")+"")&&re(T,L),se&1&&Ee(O,ie[0]),(!V||se&32)&&A!==(A=ie[5]("params.csv.rowsfound")+"")&&re(I,A),(!V||se&16)&&re(W,ie[4]),(!V||se&32)&&R!==(R=ie[5]("params.csv.placeholders")+"")&&re(Q,R),se&12){F=lt(ie[3]);let fe;for(fe=0;fe<F.length;fe+=1){const Me=Tl(ie,F,fe);j[fe]?j[fe].p(Me,se):(j[fe]=Pl(Me),j[fe].c(),j[fe].m(x,null))}for(;fe<j.length;fe+=1)j[fe].d(1);j.length=F.length}},i(ie){V||(N(r.$$.fragment,ie),V=!0)},o(ie){U(r.$$.fragment,ie),V=!1},d(ie){ie&&G(e),ee(r),kn(j,ie),$=!1,st(z)}}}function g_(t,e,n){let r;Ke(t,Mt,_=>n(5,r=_));let{enabled:i}=e,{csv:a}=e,{onUpdate:s}=e,{onPlaceholderPicked:o}=e,l=[],c=0;const u=()=>{const _=id(a);n(3,l=_.columns),n(4,c=_.length)},d=()=>{s(i,a)};function h(){i=this.checked,n(1,i)}function b(){a=this.value,n(0,a)}const p=_=>o(_);return t.$$set=_=>{"enabled"in _&&n(1,i=_.enabled),"csv"in _&&n(0,a=_.csv),"onUpdate"in _&&n(7,s=_.onUpdate),"onPlaceholderPicked"in _&&n(2,o=_.onPlaceholderPicked)},t.$$.update=()=>{t.$$.dirty&1&&u()},[a,i,o,l,c,r,d,s,h,b,p]}class v_ extends yt{constructor(e){super(),vt(this,e,g_,b_,_t,{enabled:1,csv:0,onUpdate:7,onPlaceholderPicked:2})}}function y_(t){let e,n,r,i,a,s,o,l,c,u;return n=new de({props:{icon:"vertical_distribute"}}),s=new de({props:{icon:"horizontal_distribute"}}),{c(){e=y("button"),te(n.$$.fragment),i=C(),a=y("button"),te(s.$$.fragment),m(e,"class","btn btn-sm btn-secondary"),m(e,"title",r=t[0]("params.generic.center.vertical")),m(a,"class","btn btn-sm btn-secondary"),m(a,"title",o=t[0]("params.generic.center.horizontal"))},m(d,h){Z(d,e,h),X(n,e,null),Z(d,i,h),Z(d,a,h),X(s,a,null),l=!0,c||(u=[K(e,"click",t[1]),K(a,"click",t[2])],c=!0)},p(d,[h]){(!l||h&1&&r!==(r=d[0]("params.generic.center.vertical")))&&m(e,"title",r),(!l||h&1&&o!==(o=d[0]("params.generic.center.horizontal")))&&m(a,"title",o)},i(d){l||(N(n.$$.fragment,d),N(s.$$.fragment,d),l=!0)},o(d){U(n.$$.fragment,d),U(s.$$.fragment,d),l=!1},d(d){d&&(G(e),G(i),G(a)),ee(n),ee(s),c=!1,st(u)}}}function w_(t,e,n){let r;Ke(t,Mt,l=>n(0,r=l));let{selectedObject:i}=e,{valueUpdated:a}=e;const s=()=>{i.centerV(),a()},o=()=>{i.centerH(),a()};return t.$$set=l=>{"selectedObject"in l&&n(3,i=l.selectedObject),"valueUpdated"in l&&n(4,a=l.valueUpdated)},[r,s,o,i,a]}class k_ extends yt{constructor(e){super(),vt(this,e,w_,y_,_t,{selectedObject:3,valueUpdated:4})}}function El(t,e,n){const r=t.slice();return r[9]=e[n],r}function Sl(t){let e,n,r,i,a,s,o;n=new de({props:{icon:t[9]}});function l(){return t[6](t[9])}return{c(){e=y("button"),te(n.$$.fragment),r=C(),m(e,"class","btn me-1"),m(e,"title",i=t[9])},m(c,u){Z(c,e,u),X(n,e,null),f(e,r),a=!0,s||(o=K(e,"click",l),s=!0)},p(c,u){t=c;const d={};u&2&&(d.icon=t[9]),n.$set(d),(!a||u&2&&i!==(i=t[9]))&&m(e,"title",i)},i(c){a||(N(n.$$.fragment,c),a=!0)},o(c){U(n.$$.fragment,c),a=!1},d(c){c&&G(e),ee(n),s=!1,o()}}}function Al(t){let e=!t[2]||t[9].includes(t[2].toLowerCase()),n,r,i=e&&Sl(t);return{c(){i&&i.c(),n=er()},m(a,s){i&&i.m(a,s),Z(a,n,s),r=!0},p(a,s){s&6&&(e=!a[2]||a[9].includes(a[2].toLowerCase())),e?i?(i.p(a,s),s&6&&N(i,1)):(i=Sl(a),i.c(),N(i,1),i.m(n.parentNode,n)):i&&(Qe(),U(i,1,1,()=>{i=null}),Je())},i(a){r||(N(i),r=!0)},o(a){U(i),r=!1},d(a){a&&G(n),i&&i.d(a)}}}function T_(t){let e,n,r,i,a,s,o,l,c=t[4]("editor.iconpicker.title")+"",u,d,h,b,p,_,g,v,w,S=t[4]("editor.iconpicker.mdi_link_title")+"",E,L,T,P;r=new de({props:{icon:"emoji_emotions"}}),a=new de({props:{icon:"add"}});let O=lt(t[1]),B=[];for(let A=0;A<O.length;A+=1)B[A]=Al(El(t,O,A));const k=A=>U(B[A],1,1,()=>{B[A]=null});return{c(){e=y("div"),n=y("button"),te(r.$$.fragment),i=C(),te(a.$$.fragment),s=C(),o=y("div"),l=y("h6"),u=Y(c),d=C(),h=y("div"),b=y("input"),_=C(),g=y("div");for(let A=0;A<B.length;A+=1)B[A].c();v=C(),w=y("a"),E=Y(S),m(n,"class","btn btn-sm btn-secondary"),m(n,"data-bs-toggle","dropdown"),m(n,"data-bs-auto-close","outside"),m(l,"class","dropdown-header"),m(b,"type","text"),m(b,"class","form-control"),m(b,"placeholder",p=t[4]("editor.iconpicker.search")),m(g,"class","icons svelte-1i5o31x"),m(w,"href","https://fonts.google.com/icons?icon.set=Material+Icons&icon.style=Filled"),m(w,"target","_blank"),m(w,"class","text-secondary"),m(h,"class","p-3"),m(o,"class","dropdown-menu svelte-1i5o31x"),m(e,"class","dropdown")},m(A,I){Z(A,e,I),f(e,n),X(r,n,null),f(n,i),X(a,n,null),f(e,s),f(e,o),f(o,l),f(l,u),f(o,d),f(o,h),f(h,b),Ee(b,t[2]),f(h,_),f(h,g);for(let M=0;M<B.length;M+=1)B[M]&&B[M].m(g,null);f(h,v),f(h,w),f(w,E),t[7](e),L=!0,T||(P=K(b,"input",t[5]),T=!0)},p(A,[I]){if((!L||I&16)&&c!==(c=A[4]("editor.iconpicker.title")+"")&&re(u,c),(!L||I&16&&p!==(p=A[4]("editor.iconpicker.search")))&&m(b,"placeholder",p),I&4&&b.value!==A[2]&&Ee(b,A[2]),I&7){O=lt(A[1]);let M;for(M=0;M<O.length;M+=1){const q=El(A,O,M);B[M]?(B[M].p(q,I),N(B[M],1)):(B[M]=Al(q),B[M].c(),N(B[M],1),B[M].m(g,null))}for(Qe(),M=O.length;M<B.length;M+=1)k(M);Je()}(!L||I&16)&&S!==(S=A[4]("editor.iconpicker.mdi_link_title")+"")&&re(E,S)},i(A){if(!L){N(r.$$.fragment,A),N(a.$$.fragment,A);for(let I=0;I<O.length;I+=1)N(B[I]);L=!0}},o(A){U(r.$$.fragment,A),U(a.$$.fragment,A),B=B.filter(Boolean);for(let I=0;I<B.length;I+=1)U(B[I]);L=!1},d(A){A&&G(e),ee(r),ee(a),kn(B,A),t[7](null),T=!1,P()}}}function P_(t,e,n){let r;Ke(t,Mt,h=>n(4,r=h));let{onSubmit:i}=e,a=[],s="",o;const l=()=>{a.length===0&&n(1,a=Object.keys(ha))};Xr(()=>{o.addEventListener("show.bs.dropdown",l)}),Ys(()=>{o.removeEventListener("show.bs.dropdown",l)});function c(){s=this.value,n(2,s)}const u=h=>i(h);function d(h){Pr[h?"unshift":"push"](()=>{o=h,n(3,o)})}return t.$$set=h=>{"onSubmit"in h&&n(0,i=h.onSubmit)},[i,a,s,o,r,c,u,d]}class E_ extends yt{constructor(e){super(),vt(this,e,P_,T_,_t,{onSubmit:0})}}function Dl(t,e,n){const r=t.slice();return r[14]=e[n],r[16]=n,r}function S_(t){let e,n,r,i,a;n=new de({props:{icon:"delete"}});function s(...o){return t[12](t[16],...o)}return{c(){e=y("button"),te(n.$$.fragment),m(e,"class","remove btn text-danger-emphasis svelte-1s2v0pz")},m(o,l){Z(o,e,l),X(n,e,null),r=!0,i||(a=K(e,"click",s),i=!0)},p(o,l){t=o},i(o){r||(N(n.$$.fragment,o),r=!0)},o(o){U(n.$$.fragment,o),r=!1},d(o){o&&G(e),ee(n),i=!1,a()}}}function A_(t){let e,n,r,i,a,s,o,l;n=new de({props:{icon:"delete"}});function c(...u){return t[10](t[16],...u)}return a=new de({props:{icon:"close"}}),{c(){e=y("button"),te(n.$$.fragment),r=C(),i=y("button"),te(a.$$.fragment),m(e,"class","remove btn text-danger-emphasis svelte-1s2v0pz"),m(i,"class","remove btn text-success svelte-1s2v0pz")},m(u,d){Z(u,e,d),X(n,e,null),Z(u,r,d),Z(u,i,d),X(a,i,null),s=!0,o||(l=[K(e,"click",c),K(i,"click",t[11])],o=!0)},p(u,d){t=u},i(u){s||(N(n.$$.fragment,u),N(a.$$.fragment,u),s=!0)},o(u){U(n.$$.fragment,u),U(a.$$.fragment,u),s=!1},d(u){u&&(G(e),G(r),G(i)),ee(n),ee(a),o=!1,st(l)}}}function D_(t){let e=t[14].width+"",n,r,i=t[14].height+"",a,s;function o(u,d){if(u[14].unit==="mm")return C_;if(u[14].unit==="px")return L_}let l=o(t),c=l&&l(t);return{c(){n=Y(e),r=Y("x"),a=Y(i),c&&c.c(),s=er()},m(u,d){Z(u,n,d),Z(u,r,d),Z(u,a,d),c&&c.m(u,d),Z(u,s,d)},p(u,d){d&2&&e!==(e=u[14].width+"")&&re(n,e),d&2&&i!==(i=u[14].height+"")&&re(a,i),l===(l=o(u))&&c?c.p(u,d):(c&&c.d(1),c=l&&l(u),c&&(c.c(),c.m(s.parentNode,s)))},d(u){u&&(G(n),G(r),G(a),G(s)),c&&c.d(u)}}}function O_(t){let e=t[14].title+"",n;return{c(){n=Y(e)},m(r,i){Z(r,n,i)},p(r,i){i&2&&e!==(e=r[14].title+"")&&re(n,e)},d(r){r&&G(n)}}}function L_(t){let e=t[3]("params.label.px")+"",n;return{c(){n=Y(e)},m(r,i){Z(r,n,i)},p(r,i){i&8&&e!==(e=r[3]("params.label.px")+"")&&re(n,e)},d(r){r&&G(n)}}}function C_(t){let e=t[3]("params.label.mm")+"",n;return{c(){n=Y(e)},m(r,i){Z(r,n,i)},p(r,i){i&8&&e!==(e=r[3]("params.label.mm")+"")&&re(n,e)},d(r){r&&G(n)}}}function Ol(t){let e,n,r,i,a,s,o,l,c,u,d,h;const b=[A_,S_],p=[];function _(E,L){return E[2]===E[16]?0:1}i=_(t),a=p[i]=b[i](t);function g(E,L){return E[14].title?O_:D_}let v=g(t),w=v(t);function S(){return t[13](t[16])}return{c(){e=y("button"),n=y("div"),r=y("div"),a.c(),s=C(),o=y("span"),w.c(),c=C(),m(r,"class","remove d-flex svelte-1s2v0pz"),m(o,"class","label p-1 svelte-1s2v0pz"),m(n,"class",l="card print-start-"+t[14].printDirection+" d-flex justify-content-center align-items-center svelte-1s2v0pz"),yn(n,"width",t[4](t[14]).width+"%"),yn(n,"height",t[4](t[14]).height+"%"),m(e,"class","btn p-0 card-wrapper d-flex justify-content-center align-items-center svelte-1s2v0pz")},m(E,L){Z(E,e,L),f(e,n),f(n,r),p[i].m(r,null),f(n,s),f(n,o),w.m(o,null),f(e,c),u=!0,d||(h=K(e,"click",S),d=!0)},p(E,L){t=E;let T=i;i=_(t),i===T?p[i].p(t,L):(Qe(),U(p[T],1,1,()=>{p[T]=null}),Je(),a=p[i],a?a.p(t,L):(a=p[i]=b[i](t),a.c()),N(a,1),a.m(r,null)),v===(v=g(t))&&w?w.p(t,L):(w.d(1),w=v(t),w&&(w.c(),w.m(o,null))),(!u||L&2&&l!==(l="card print-start-"+t[14].printDirection+" d-flex justify-content-center align-items-center svelte-1s2v0pz"))&&m(n,"class",l),(!u||L&2)&&yn(n,"width",t[4](t[14]).width+"%"),(!u||L&2)&&yn(n,"height",t[4](t[14]).height+"%")},i(E){u||(N(a),u=!0)},o(E){U(a),u=!1},d(E){E&&G(e),p[i].d(),w.d(),d=!1,h()}}}function I_(t){let e,n,r,i=lt(t[1]),a=[];for(let o=0;o<i.length;o+=1)a[o]=Ol(Dl(t,i,o));const s=o=>U(a[o],1,1,()=>{a[o]=null});return{c(){e=y("div");for(let o=0;o<a.length;o+=1)a[o].c();m(e,"class",n="preset-browser overflow-y-auto border d-flex p-2 gap-1 flex-wrap "+t[8].class+" svelte-1s2v0pz")},m(o,l){Z(o,e,l);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);r=!0},p(o,[l]){if(l&255){i=lt(o[1]);let c;for(c=0;c<i.length;c+=1){const u=Dl(o,i,c);a[c]?(a[c].p(u,l),N(a[c],1)):(a[c]=Ol(u),a[c].c(),N(a[c],1),a[c].m(e,null))}for(Qe(),c=i.length;c<a.length;c+=1)s(c);Je()}(!r||l&256&&n!==(n="preset-browser overflow-y-auto border d-flex p-2 gap-1 flex-wrap "+o[8].class+" svelte-1s2v0pz"))&&m(e,"class",n)},i(o){if(!r){for(let l=0;l<i.length;l+=1)N(a[l]);r=!0}},o(o){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)U(a[l]);r=!1},d(o){o&&G(e),kn(a,o)}}}function B_(t,e,n){let r;Ke(t,Mt,g=>n(3,r=g));let{onItemSelected:i}=e,{onItemDelete:a}=e,{presets:s}=e,o=-1;const l=g=>{const v=Math.min(100/g.width,100/g.height);return{width:Math.round(g.width*v),height:Math.round(g.height*v)}},c=(g,v)=>{g.stopPropagation(),n(2,o=-1),a(v)},u=g=>{g.stopPropagation(),n(2,o=-1)},d=(g,v)=>{g.stopPropagation(),n(2,o=v)},h=(g,v)=>c(v,g),b=g=>u(g),p=(g,v)=>d(v,g),_=g=>i(g);return t.$$set=g=>{n(8,e=Hr(Hr({},e),Si(g))),"onItemSelected"in g&&n(0,i=g.onItemSelected),"onItemDelete"in g&&n(9,a=g.onItemDelete),"presets"in g&&n(1,s=g.presets)},e=Si(e),[i,s,o,r,l,c,u,d,e,a,h,b,p,_]}class N_ extends yt{constructor(e){super(),vt(this,e,B_,I_,_t,{onItemSelected:0,onItemDelete:9,presets:1})}}function M_(t){let e,n=t[9]("params.label.direction")+"",r,i,a=t[9]("params.label.direction.left")+"",s,o;return{c(){e=Y("("),r=Y(n),i=C(),s=Y(a),o=Y(")")},m(l,c){Z(l,e,c),Z(l,r,c),Z(l,i,c),Z(l,s,c),Z(l,o,c)},p(l,c){c&512&&n!==(n=l[9]("params.label.direction")+"")&&re(r,n),c&512&&a!==(a=l[9]("params.label.direction.left")+"")&&re(s,a)},d(l){l&&(G(e),G(r),G(i),G(s),G(o))}}}function x_(t){let e,n=t[9]("params.label.direction")+"",r,i,a=t[9]("params.label.direction.top")+"",s,o;return{c(){e=Y("("),r=Y(n),i=C(),s=Y(a),o=Y(")")},m(l,c){Z(l,e,c),Z(l,r,c),Z(l,i,c),Z(l,s,c),Z(l,o,c)},p(l,c){c&512&&n!==(n=l[9]("params.label.direction")+"")&&re(r,n),c&512&&a!==(a=l[9]("params.label.direction.top")+"")&&re(s,a)},d(l){l&&(G(e),G(r),G(i),G(s),G(o))}}}function Ll(t){let e;return{c(){e=Y("✔")},m(n,r){Z(n,e,r)},d(n){n&&G(e)}}}function Cl(t){let e;return{c(){e=Y("✔")},m(n,r){Z(n,e,r)},d(n){n&&G(e)}}}function j_(t){var hr,Or;let e,n,r,i,a,s,o=t[9]("params.label.menu_title")+"",l,c,u,d,h,b,p,_=t[9]("params.label.import")+"",g,v,w,S,E,L=t[9]("params.label.export")+"",T,P,O,B=t[9]("params.label.current")+"",k,A,I=t[0].size.width+"",M,q,W=t[0].size.height+"",D,x,R=t[9]("params.label.px")+"",Q,H,V,$,z,F,j,ie,se,fe,Me,me=t[9]("params.label.size")+"",$e,Ae,De,ne,Te,Ce,Pe,We,Be,ge,ye,Ue=t[9]("params.label.mm")+"",ue,pe,he=t[9]("params.label.px")+"",Le,le,ve,mt,ce=t[9]("params.label.head_density")+"",it,qe,nt,Ge,wt,xt=t[9]("params.label.dpmm")+"",mn,In,Et,zt,jt,Rt=t[9]("params.label.direction")+"",St,bn,xe,Ot,qn,Lt=t[9]("params.label.direction.left")+"",Kt,sn,Qt,rt,Tn=t[9]("params.label.direction.top")+"",ae,Oe,on,tr,Fn=t[9]("params.label.label_title")+"",Bn,ni,Ct,ri,Pn,gn,fr=t[9]("params.label.save_template")+"",ln,ii,$t,En=t[9]("params.label.apply")+"",nr,Xe,Nn,pr;r=new de({props:{icon:"settings"}}),b=new de({props:{icon:"data_object"}}),S=new de({props:{icon:"data_object"}});function Dr(we,Fe){if(we[0].printDirection==="top")return x_;if(we[0].printDirection==="left")return M_}let Hn=Dr(t),ft=Hn&&Hn(t);z=new de({props:{icon:"arrow_downward"}}),ie=new N_({props:{class:"mb-1",presets:t[1],onItemSelected:t[12],onItemDelete:t[13]}}),Ce=new de({props:{icon:"swap_horiz"}});let Ut=((hr=t[10])==null?void 0:hr.printDirection)==="left"&&Ll(),kt=((Or=t[10])==null?void 0:Or.printDirection)==="top"&&Cl();return{c(){e=y("div"),n=y("button"),te(r.$$.fragment),i=C(),a=y("div"),s=y("h6"),l=Y(o),c=C(),u=y("div"),d=y("div"),h=y("button"),te(b.$$.fragment),p=C(),g=Y(_),v=C(),w=y("button"),te(S.$$.fragment),E=C(),T=Y(L),P=C(),O=y("div"),k=Y(B),A=C(),M=Y(I),q=Y("x"),D=Y(W),x=C(),Q=Y(R),H=C(),ft&&ft.c(),V=C(),$=y("button"),te(z.$$.fragment),j=C(),te(ie.$$.fragment),se=C(),fe=y("div"),Me=y("span"),$e=Y(me),Ae=C(),De=y("input"),ne=C(),Te=y("button"),te(Ce.$$.fragment),Pe=C(),We=y("input"),Be=C(),ge=y("select"),ye=y("option"),ue=Y(Ue),pe=y("option"),Le=Y(he),le=C(),ve=y("div"),mt=y("span"),it=Y(ce),qe=C(),nt=y("input"),Ge=C(),wt=y("span"),mn=Y(xt),Et=C(),zt=y("div"),jt=y("span"),St=Y(Rt),bn=C(),xe=y("select"),Ot=y("option"),Ut&&Ut.c(),qn=C(),Kt=Y(Lt),sn=C(),Qt=y("option"),kt&&kt.c(),rt=C(),ae=Y(Tn),Oe=C(),on=y("div"),tr=y("span"),Bn=Y(Fn),ni=C(),Ct=y("input"),ri=C(),Pn=y("div"),gn=y("button"),ln=Y(fr),ii=C(),$t=y("button"),nr=Y(En),m(n,"class","btn btn-sm btn-secondary"),m(n,"data-bs-toggle","dropdown"),m(n,"data-bs-auto-close","outside"),m(s,"class","dropdown-header"),m(h,"class","btn btn-sm btn-outline-secondary"),m(w,"class","btn btn-sm btn-outline-secondary"),m(d,"class","p-1"),m($,"class","btn btn-sm"),m(O,"class",F="mb-3 "+(t[8]?"cursor-help text-warning":"text-secondary")+" svelte-107mh88"),m(O,"title",t[8]),m(Me,"class","input-group-text"),m(De,"class","form-control"),m(De,"type","number"),m(De,"min","1"),m(De,"step",t[4]),m(Te,"class","btn btn-sm btn-secondary"),m(We,"class","form-control"),m(We,"type","number"),m(We,"min","1"),m(We,"step",t[4]),ye.__value="mm",Ee(ye,ye.__value),pe.__value="px",Ee(pe,pe.__value),m(ge,"class","form-select"),t[3]===void 0&&dn(()=>t[23].call(ge)),m(fe,"class","input-group flex-nowrap input-group-sm mb-3"),m(mt,"class","input-group-text"),m(nt,"class","form-control"),m(nt,"type","number"),m(nt,"min","1"),m(wt,"class","input-group-text cursor-help svelte-107mh88"),m(wt,"title",In=t[9]("params.label.head_density.help")),m(ve,"class","input-group flex-nowrap input-group-sm mb-3"),m(jt,"class","input-group-text"),Ot.__value="left",Ee(Ot,Ot.__value),Qt.__value="top",Ee(Qt,Qt.__value),m(xe,"class","form-select"),t[7]===void 0&&dn(()=>t[25].call(xe)),m(zt,"class","input-group flex-nowrap input-group-sm mb-3"),m(tr,"class","input-group-text"),m(Ct,"class","form-control"),m(Ct,"type","text"),m(on,"class","input-group flex-nowrap input-group-sm mb-3"),m(gn,"class","btn btn-sm btn-secondary"),m($t,"class","btn btn-sm btn-primary"),m(Pn,"class","text-end"),m(u,"class","px-3"),m(a,"class","dropdown-menu svelte-107mh88"),m(e,"class","dropdown")},m(we,Fe){Z(we,e,Fe),f(e,n),X(r,n,null),f(e,i),f(e,a),f(a,s),f(s,l),f(a,c),f(a,u),f(u,d),f(d,h),X(b,h,null),f(h,p),f(h,g),f(d,v),f(d,w),X(S,w,null),f(w,E),f(w,T),f(u,P),f(u,O),f(O,k),f(O,A),f(O,M),f(O,q),f(O,D),f(O,x),f(O,Q),f(O,H),ft&&ft.m(O,null),f(O,V),f(O,$),X(z,$,null),f(u,j),X(ie,u,null),f(u,se),f(u,fe),f(fe,Me),f(Me,$e),f(fe,Ae),f(fe,De),Ee(De,t[5]),f(fe,ne),f(fe,Te),X(Ce,Te,null),f(fe,Pe),f(fe,We),Ee(We,t[6]),f(fe,Be),f(fe,ge),f(ge,ye),f(ye,ue),f(ge,pe),f(pe,Le),Pt(ge,t[3],!0),f(u,le),f(u,ve),f(ve,mt),f(mt,it),f(ve,qe),f(ve,nt),Ee(nt,t[4]),f(ve,Ge),f(ve,wt),f(wt,mn),f(u,Et),f(u,zt),f(zt,jt),f(jt,St),f(zt,bn),f(zt,xe),f(xe,Ot),Ut&&Ut.m(Ot,null),f(Ot,qn),f(Ot,Kt),f(Ot,sn),f(xe,Qt),kt&&kt.m(Qt,null),f(Qt,rt),f(Qt,ae),Pt(xe,t[7],!0),f(u,Oe),f(u,on),f(on,tr),f(tr,Bn),f(on,ni),f(on,Ct),Ee(Ct,t[2]),f(u,ri),f(u,Pn),f(Pn,gn),f(gn,ln),f(Pn,ii),f(Pn,$t),f($t,nr),Xe=!0,Nn||(pr=[K(h,"click",t[18]),K(w,"click",t[19]),K($,"click",t[17]),K(De,"input",t[21]),K(Te,"click",t[15]),K(We,"input",t[22]),K(ge,"change",t[23]),K(ge,"change",t[16]),K(nt,"input",t[24]),K(xe,"change",t[25]),K(Ct,"input",t[26]),K(gn,"click",t[14]),K($t,"click",t[11])],Nn=!0)},p(we,[Fe]){var Wt,Jt;(!Xe||Fe&512)&&o!==(o=we[9]("params.label.menu_title")+"")&&re(l,o),(!Xe||Fe&512)&&_!==(_=we[9]("params.label.import")+"")&&re(g,_),(!Xe||Fe&512)&&L!==(L=we[9]("params.label.export")+"")&&re(T,L),(!Xe||Fe&512)&&B!==(B=we[9]("params.label.current")+"")&&re(k,B),(!Xe||Fe&1)&&I!==(I=we[0].size.width+"")&&re(M,I),(!Xe||Fe&1)&&W!==(W=we[0].size.height+"")&&re(D,W),(!Xe||Fe&512)&&R!==(R=we[9]("params.label.px")+"")&&re(Q,R),Hn===(Hn=Dr(we))&&ft?ft.p(we,Fe):(ft&&ft.d(1),ft=Hn&&Hn(we),ft&&(ft.c(),ft.m(O,V))),(!Xe||Fe&256&&F!==(F="mb-3 "+(we[8]?"cursor-help text-warning":"text-secondary")+" svelte-107mh88"))&&m(O,"class",F),(!Xe||Fe&256)&&m(O,"title",we[8]);const vn={};Fe&2&&(vn.presets=we[1]),ie.$set(vn),(!Xe||Fe&512)&&me!==(me=we[9]("params.label.size")+"")&&re($e,me),(!Xe||Fe&16)&&m(De,"step",we[4]),Fe&32&&ut(De.value)!==we[5]&&Ee(De,we[5]),(!Xe||Fe&16)&&m(We,"step",we[4]),Fe&64&&ut(We.value)!==we[6]&&Ee(We,we[6]),(!Xe||Fe&512)&&Ue!==(Ue=we[9]("params.label.mm")+"")&&re(ue,Ue),(!Xe||Fe&512)&&he!==(he=we[9]("params.label.px")+"")&&re(Le,he),Fe&8&&Pt(ge,we[3]),(!Xe||Fe&512)&&ce!==(ce=we[9]("params.label.head_density")+"")&&re(it,ce),Fe&16&&ut(nt.value)!==we[4]&&Ee(nt,we[4]),(!Xe||Fe&512)&&xt!==(xt=we[9]("params.label.dpmm")+"")&&re(mn,xt),(!Xe||Fe&512&&In!==(In=we[9]("params.label.head_density.help")))&&m(wt,"title",In),(!Xe||Fe&512)&&Rt!==(Rt=we[9]("params.label.direction")+"")&&re(St,Rt),((Wt=we[10])==null?void 0:Wt.printDirection)==="left"?Ut||(Ut=Ll(),Ut.c(),Ut.m(Ot,qn)):Ut&&(Ut.d(1),Ut=null),(!Xe||Fe&512)&&Lt!==(Lt=we[9]("params.label.direction.left")+"")&&re(Kt,Lt),((Jt=we[10])==null?void 0:Jt.printDirection)==="top"?kt||(kt=Cl(),kt.c(),kt.m(Qt,rt)):kt&&(kt.d(1),kt=null),(!Xe||Fe&512)&&Tn!==(Tn=we[9]("params.label.direction.top")+"")&&re(ae,Tn),Fe&128&&Pt(xe,we[7]),(!Xe||Fe&512)&&Fn!==(Fn=we[9]("params.label.label_title")+"")&&re(Bn,Fn),Fe&4&&Ct.value!==we[2]&&Ee(Ct,we[2]),(!Xe||Fe&512)&&fr!==(fr=we[9]("params.label.save_template")+"")&&re(ln,fr),(!Xe||Fe&512)&&En!==(En=we[9]("params.label.apply")+"")&&re(nr,En)},i(we){Xe||(N(r.$$.fragment,we),N(b.$$.fragment,we),N(S.$$.fragment,we),N(z.$$.fragment,we),N(ie.$$.fragment,we),N(Ce.$$.fragment,we),Xe=!0)},o(we){U(r.$$.fragment,we),U(b.$$.fragment,we),U(S.$$.fragment,we),U(z.$$.fragment,we),U(ie.$$.fragment,we),U(Ce.$$.fragment,we),Xe=!1},d(we){we&&G(e),ee(r),ee(b),ee(S),ft&&ft.d(),ee(z),ee(ie),ee(Ce),Ut&&Ut.d(),kt&&kt.d(),Nn=!1,st(pr)}}}function R_(t,e,n){let r,i;Ke(t,Mt,D=>n(9,r=D)),Ke(t,Wi,D=>n(10,i=D));let{labelProps:a}=e,{onChange:s}=e,o=hl,l="",c="mm",u="mm",d=8,h=0,b=0,p="left",_="";const g=()=>{let D=h,x=b;u==="mm"&&(D*=d,x*=d),D=D<d?d:D,x=x<d?d:x,p==="left"?x-=x%d:D-=D%d,s({printDirection:p,size:{width:Math.floor(D),height:Math.floor(x)}})},v=D=>{const x=o[D];n(4,d=x.dpmm),c=x.unit,n(3,u=x.unit),n(7,p=x.printDirection),n(5,h=x.width),n(6,b=x.height),n(2,l=x.title??""),g()},w=D=>{const x=[...o];x.splice(D,1),n(1,o=x),Dt.saveLabelPresets(o)},S=()=>{const D={dpmm:d,printDirection:p,unit:u,width:h,height:b,title:l},x=[...o,D];try{Dt.saveLabelPresets(x),n(1,o=x)}catch(R){ht.zodErrors(R,"Presets save error:")}},E=()=>{let D=h;n(5,h=b),n(6,b=D),n(7,p=p==="top"?"left":"top")},L=()=>{c==="mm"&&u==="px"?(n(5,h=Math.floor(h*d)),n(6,b=Math.floor(b*d))):c==="px"&&u==="mm"&&(n(5,h=Math.floor(h/d)),n(6,b=Math.floor(b/d))),c=u},T=D=>{if(n(8,_=""),i!==void 0){const x=D.printDirection=="left"?D.size.height:D.size.width;x>i.printheadPixels&&(n(8,_+=r("params.label.warning.width")+" "),n(8,_+=`(${x} > ${i.printheadPixels})`),n(8,_+=`
`)),i.printDirection!==D.printDirection&&(n(8,_+=r("params.label.warning.direction")+" "),i.printDirection=="left"?n(8,_+=r("params.label.direction.left")):n(8,_+=r("params.label.direction.top")))}},P=()=>{c="px",n(5,h=a.size.width),n(6,b=a.size.height),n(7,p=a.printDirection),L()},O=async()=>{const D=await An.pickAndReadTextFile("json"),x=JSON.parse(D);if(confirm(r("params.label.warning.import")))try{const R=Ve.array(ka).parse(x);Dt.saveLabelPresets(R),n(1,o=R)}catch(R){ht.zodErrors(R,"Presets load error:")}},B=()=>{try{An.saveLabelPresetsAsJson(o)}catch(D){ht.zodErrors(D,"Presets save error:")}};Xr(()=>{const D=hl[0];n(5,h=D.width),n(6,b=D.height),c=D.unit,n(3,u=D.unit),n(7,p=D.printDirection);try{const x=Dt.loadLabelPresets();x!==null&&n(1,o=x)}catch(x){ht.zodErrors(x,"Presets load error:")}ou().then(()=>P())});function k(){h=ut(this.value),n(5,h)}function A(){b=ut(this.value),n(6,b)}function I(){u=xn(this),n(3,u)}function M(){d=ut(this.value),n(4,d)}function q(){p=xn(this),n(7,p)}function W(){l=this.value,n(2,l)}return t.$$set=D=>{"labelProps"in D&&n(0,a=D.labelProps),"onChange"in D&&n(20,s=D.onChange)},t.$$.update=()=>{t.$$.dirty&1&&T(a)},[a,o,l,u,d,h,b,p,_,r,i,g,v,w,S,E,L,P,O,B,s,k,A,I,M,q,W]}class $_ extends yt{constructor(e){super(),vt(this,e,R_,j_,_t,{labelProps:0,onChange:20})}}function U_(t){let e,n;return e=new de({props:{icon:"warning",class:"text-warning"}}),{c(){te(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){U(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function V_(t){let e,n;return e=new de({props:{icon:"hourglass_top"}}),{c(){te(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){U(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function z_(t){let e,n,r,i,a,s,o,l,c,u;n=new de({props:{icon:"receipt_long"}});const d=[V_,U_],h=[];function b(p,_){return p[1]==="processing"?0:p[1]==="error"?1:-1}return~(s=b(t))&&(o=h[s]=d[s](t)),{c(){e=y("button"),te(n.$$.fragment),r=C(),i=Y(t[0]),a=C(),o&&o.c(),m(e,"class","btn btn-sm")},m(p,_){Z(p,e,_),X(n,e,null),f(e,r),f(e,i),f(e,a),~s&&h[s].m(e,null),l=!0,c||(u=K(e,"click",t[2]),c=!0)},p(p,[_]){(!l||_&1)&&re(i,p[0]);let g=s;s=b(p),s!==g&&(o&&(Qe(),U(h[g],1,1,()=>{h[g]=null}),Je()),~s?(o=h[s],o||(o=h[s]=d[s](p),o.c()),N(o,1),o.m(e,null)):o=null)},i(p){l||(N(n.$$.fragment,p),N(o),l=!0)},o(p){U(n.$$.fragment,p),U(o),l=!1},d(p){p&&G(e),ee(n),~s&&h[s].d(),c=!1,u()}}}function W_(t,e,n){let{text:r}=e,{labelProps:i}=e,{onImageReady:a}=e,s="idle";const o=async()=>{const u=i.size.width/8/25.4,d=i.size.height/8/25.4,h=await An.pickAndReadTextFile("zpl");n(1,s="processing");try{const b=await fetch(`https://api.labelary.com/v1/printers/8dpmm/labels/${u}x${d}/0/`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"image/png","X-Quality":"bitonal"},body:h});if(b.ok){const p=await b.blob();a(p),n(1,s="idle")}else n(1,s="error")}catch(b){n(1,s="error"),console.error(b)}};return t.$$set=l=>{"text"in l&&n(0,r=l.text),"labelProps"in l&&n(3,i=l.labelProps),"onImageReady"in l&&n(4,a=l.onImageReady)},[r,s,o,i,a]}class q_ extends yt{constructor(e){super(),vt(this,e,W_,z_,_t,{text:0,labelProps:3,onImageReady:4})}}function F_(t){let e,n,r,i,a,s,o,l,c=t[3]("editor.objectpicker.title")+"",u,d,h,b,p,_,g=t[3]("editor.objectpicker.text")+"",v,w,S,E,L,T=t[3]("editor.objectpicker.line")+"",P,O,B,k,A,I=t[3]("editor.objectpicker.rectangle")+"",M,q,W,D,x,R=t[3]("editor.objectpicker.circle")+"",Q,H,V,$,z,F=t[3]("editor.objectpicker.image")+"",j,ie,se,fe,Me,me=t[3]("editor.objectpicker.qrcode")+"",$e,Ae,De,ne,Te,Ce=t[3]("editor.objectpicker.barcode")+"",Pe,We,Be,ge,ye,Ue;return r=new de({props:{icon:"format_shapes"}}),a=new de({props:{icon:"add"}}),p=new de({props:{icon:"title"}}),E=new de({props:{icon:"remove"}}),k=new de({props:{icon:"crop_square"}}),D=new de({props:{icon:"radio_button_unchecked"}}),$=new de({props:{icon:"image"}}),fe=new de({props:{icon:"qr_code_2"}}),ne=new de({props:{icon:"view_week"}}),Be=new q_({props:{labelProps:t[1],onImageReady:t[2],text:t[3]("editor.import.zpl")}}),{c(){e=y("div"),n=y("button"),te(r.$$.fragment),i=C(),te(a.$$.fragment),s=C(),o=y("div"),l=y("h6"),u=Y(c),d=C(),h=y("div"),b=y("button"),te(p.$$.fragment),_=C(),v=Y(g),w=C(),S=y("button"),te(E.$$.fragment),L=C(),P=Y(T),O=C(),B=y("button"),te(k.$$.fragment),A=C(),M=Y(I),q=C(),W=y("button"),te(D.$$.fragment),x=C(),Q=Y(R),H=C(),V=y("button"),te($.$$.fragment),z=C(),j=Y(F),ie=C(),se=y("button"),te(fe.$$.fragment),Me=C(),$e=Y(me),Ae=C(),De=y("button"),te(ne.$$.fragment),Te=C(),Pe=Y(Ce),We=C(),te(Be.$$.fragment),m(n,"class","btn btn-sm btn-secondary"),m(n,"data-bs-toggle","dropdown"),m(n,"data-bs-auto-close","outside"),m(l,"class","dropdown-header"),m(b,"class","btn me-1"),m(S,"class","btn me-1"),m(B,"class","btn me-1"),m(W,"class","btn me-1"),m(V,"class","btn me-1"),m(se,"class","btn me-1"),m(De,"class","btn me-1"),m(h,"class","p-3"),m(o,"class","dropdown-menu svelte-17em9aq"),m(e,"class","dropdown")},m(ue,pe){Z(ue,e,pe),f(e,n),X(r,n,null),f(n,i),X(a,n,null),f(e,s),f(e,o),f(o,l),f(l,u),f(o,d),f(o,h),f(h,b),X(p,b,null),f(b,_),f(b,v),f(h,w),f(h,S),X(E,S,null),f(S,L),f(S,P),f(h,O),f(h,B),X(k,B,null),f(B,A),f(B,M),f(h,q),f(h,W),X(D,W,null),f(W,x),f(W,Q),f(h,H),f(h,V),X($,V,null),f(V,z),f(V,j),f(h,ie),f(h,se),X(fe,se,null),f(se,Me),f(se,$e),f(h,Ae),f(h,De),X(ne,De,null),f(De,Te),f(De,Pe),f(h,We),X(Be,h,null),ge=!0,ye||(Ue=[K(b,"click",t[4]),K(S,"click",t[5]),K(B,"click",t[6]),K(W,"click",t[7]),K(V,"click",t[8]),K(se,"click",t[9]),K(De,"click",t[10])],ye=!0)},p(ue,[pe]){(!ge||pe&8)&&c!==(c=ue[3]("editor.objectpicker.title")+"")&&re(u,c),(!ge||pe&8)&&g!==(g=ue[3]("editor.objectpicker.text")+"")&&re(v,g),(!ge||pe&8)&&T!==(T=ue[3]("editor.objectpicker.line")+"")&&re(P,T),(!ge||pe&8)&&I!==(I=ue[3]("editor.objectpicker.rectangle")+"")&&re(M,I),(!ge||pe&8)&&R!==(R=ue[3]("editor.objectpicker.circle")+"")&&re(Q,R),(!ge||pe&8)&&F!==(F=ue[3]("editor.objectpicker.image")+"")&&re(j,F),(!ge||pe&8)&&me!==(me=ue[3]("editor.objectpicker.qrcode")+"")&&re($e,me),(!ge||pe&8)&&Ce!==(Ce=ue[3]("editor.objectpicker.barcode")+"")&&re(Pe,Ce);const he={};pe&2&&(he.labelProps=ue[1]),pe&4&&(he.onImageReady=ue[2]),pe&8&&(he.text=ue[3]("editor.import.zpl")),Be.$set(he)},i(ue){ge||(N(r.$$.fragment,ue),N(a.$$.fragment,ue),N(p.$$.fragment,ue),N(E.$$.fragment,ue),N(k.$$.fragment,ue),N(D.$$.fragment,ue),N($.$$.fragment,ue),N(fe.$$.fragment,ue),N(ne.$$.fragment,ue),N(Be.$$.fragment,ue),ge=!0)},o(ue){U(r.$$.fragment,ue),U(a.$$.fragment,ue),U(p.$$.fragment,ue),U(E.$$.fragment,ue),U(k.$$.fragment,ue),U(D.$$.fragment,ue),U($.$$.fragment,ue),U(fe.$$.fragment,ue),U(ne.$$.fragment,ue),U(Be.$$.fragment,ue),ge=!1},d(ue){ue&&G(e),ee(r),ee(a),ee(p),ee(E),ee(k),ee(D),ee($),ee(fe),ee(ne),ee(Be),ye=!1,st(Ue)}}}function H_(t,e,n){let r;Ke(t,Mt,p=>n(3,r=p));let{onSubmit:i}=e,{labelProps:a}=e,{zplImageReady:s}=e;const o=()=>i("text"),l=()=>i("line"),c=()=>i("rectangle"),u=()=>i("circle"),d=()=>i("image"),h=()=>i("qrcode"),b=()=>i("barcode");return t.$$set=p=>{"onSubmit"in p&&n(0,i=p.onSubmit),"labelProps"in p&&n(1,a=p.labelProps),"zplImageReady"in p&&n(2,s=p.zplImageReady)},[i,a,s,r,o,l,c,u,d,h,b]}class G_ extends yt{constructor(e){super(),vt(this,e,H_,F_,_t,{onSubmit:0,labelProps:1,zplImageReady:2})}}var ad={exports:{}},ps={exports:{}};/*!
  * Bootstrap backdrop.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Il;function Z_(){return Il||(Il=1,function(t,e){(function(n,r){t.exports=r(Jr(),Hs(),Xn())})(dt,function(n,r,i){const a="backdrop",s="fade",o="show",l=`mousedown.bs.${a}`,c={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},u={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class d extends r{constructor(b){super(),this._config=this._getConfig(b),this._isAppended=!1,this._element=null}static get Default(){return c}static get DefaultType(){return u}static get NAME(){return a}show(b){if(!this._config.isVisible){i.execute(b);return}this._append();const p=this._getElement();this._config.isAnimated&&i.reflow(p),p.classList.add(o),this._emulateAnimation(()=>{i.execute(b)})}hide(b){if(!this._config.isVisible){i.execute(b);return}this._getElement().classList.remove(o),this._emulateAnimation(()=>{this.dispose(),i.execute(b)})}dispose(){this._isAppended&&(n.off(this._element,l),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const b=document.createElement("div");b.className=this._config.className,this._config.isAnimated&&b.classList.add(s),this._element=b}return this._element}_configAfterMerge(b){return b.rootElement=i.getElement(b.rootElement),b}_append(){if(this._isAppended)return;const b=this._getElement();this._config.rootElement.append(b),n.on(b,l,()=>{i.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(b){i.executeAfterTransition(b,this._getElement(),this._config.isAnimated)}}return d})}(ps)),ps.exports}var ra={exports:{}};/*!
  * Bootstrap component-functions.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Bl;function Y_(){return Bl||(Bl=1,function(t,e){(function(n,r){r(e,Jr(),Hi(),Xn())})(dt,function(n,r,i,a){const s=(o,l="hide")=>{const c=`click.dismiss${o.EVENT_KEY}`,u=o.NAME;r.on(document,c,`[data-bs-dismiss="${u}"]`,function(d){if(["A","AREA"].includes(this.tagName)&&d.preventDefault(),a.isDisabled(this))return;const h=i.getElementFromSelector(this)||this.closest(`.${u}`);o.getOrCreateInstance(h)[l]()})};n.enableDismissTrigger=s,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})})}(ra,ra.exports)),ra.exports}var hs={exports:{}};/*!
  * Bootstrap focustrap.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Nl;function K_(){return Nl||(Nl=1,function(t,e){(function(n,r){t.exports=r(Jr(),Hi(),Hs())})(dt,function(n,r,i){const a="focustrap",o=".bs.focustrap",l=`focusin${o}`,c=`keydown.tab${o}`,u="Tab",d="forward",h="backward",b={autofocus:!0,trapElement:null},p={autofocus:"boolean",trapElement:"element"};class _ extends i{constructor(v){super(),this._config=this._getConfig(v),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return b}static get DefaultType(){return p}static get NAME(){return a}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),n.off(document,o),n.on(document,l,v=>this._handleFocusin(v)),n.on(document,c,v=>this._handleKeydown(v)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,n.off(document,o))}_handleFocusin(v){const{trapElement:w}=this._config;if(v.target===document||v.target===w||w.contains(v.target))return;const S=r.focusableChildren(w);S.length===0?w.focus():this._lastTabNavDirection===h?S[S.length-1].focus():S[0].focus()}_handleKeydown(v){v.key===u&&(this._lastTabNavDirection=v.shiftKey?h:d)}}return _})}(hs)),hs.exports}var _s={exports:{}};/*!
  * Bootstrap scrollbar.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Ml;function Q_(){return Ml||(Ml=1,function(t,e){(function(n,r){t.exports=r(Fs(),Hi(),Xn())})(dt,function(n,r,i){const a=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",s=".sticky-top",o="padding-right",l="margin-right";class c{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,o,h=>h+d),this._setElementAttributes(a,o,h=>h+d),this._setElementAttributes(s,l,h=>h-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,o),this._resetElementAttributes(a,o),this._resetElementAttributes(s,l)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,h,b){const p=this.getWidth(),_=g=>{if(g!==this._element&&window.innerWidth>g.clientWidth+p)return;this._saveInitialAttribute(g,h);const v=window.getComputedStyle(g).getPropertyValue(h);g.style.setProperty(h,`${b(Number.parseFloat(v))}px`)};this._applyManipulationCallback(d,_)}_saveInitialAttribute(d,h){const b=d.style.getPropertyValue(h);b&&n.setDataAttribute(d,h,b)}_resetElementAttributes(d,h){const b=p=>{const _=n.getDataAttribute(p,h);if(_===null){p.style.removeProperty(h);return}n.removeDataAttribute(p,h),p.style.setProperty(h,_)};this._applyManipulationCallback(d,b)}_applyManipulationCallback(d,h){if(i.isElement(d)){h(d);return}for(const b of r.find(d,this._element))h(b)}}return c})}(_s)),_s.exports}/*!
  * Bootstrap modal.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r(nu(),Jr(),Hi(),Z_(),Y_(),K_(),Xn(),Q_())})(dt,function(n,r,i,a,s,o,l,c){const u="modal",h=".bs.modal",b=".data-api",p="Escape",_=`hide${h}`,g=`hidePrevented${h}`,v=`hidden${h}`,w=`show${h}`,S=`shown${h}`,E=`resize${h}`,L=`click.dismiss${h}`,T=`mousedown.dismiss${h}`,P=`keydown.dismiss${h}`,O=`click${h}${b}`,B="modal-open",k="fade",A="show",I="modal-static",M=".modal.show",q=".modal-dialog",W=".modal-body",D='[data-bs-toggle="modal"]',x={backdrop:!0,focus:!0,keyboard:!0},R={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Q extends n{constructor(V,$){super(V,$),this._dialog=i.findOne(q,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new c,this._addEventListeners()}static get Default(){return x}static get DefaultType(){return R}static get NAME(){return u}toggle(V){return this._isShown?this.hide():this.show(V)}show(V){this._isShown||this._isTransitioning||r.trigger(this._element,w,{relatedTarget:V}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(B),this._adjustDialog(),this._backdrop.show(()=>this._showElement(V)))}hide(){!this._isShown||this._isTransitioning||r.trigger(this._element,_).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(A),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){r.off(window,h),r.off(this._dialog,h),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new a({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new o({trapElement:this._element})}_showElement(V){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const $=i.findOne(W,this._dialog);$&&($.scrollTop=0),l.reflow(this._element),this._element.classList.add(A);const z=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,r.trigger(this._element,S,{relatedTarget:V})};this._queueCallback(z,this._dialog,this._isAnimated())}_addEventListeners(){r.on(this._element,P,V=>{if(V.key===p){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),r.on(window,E,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),r.on(this._element,T,V=>{r.one(this._element,L,$=>{if(!(this._element!==V.target||this._element!==$.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(B),this._resetAdjustments(),this._scrollBar.reset(),r.trigger(this._element,v)})}_isAnimated(){return this._element.classList.contains(k)}_triggerBackdropTransition(){if(r.trigger(this._element,g).defaultPrevented)return;const $=this._element.scrollHeight>document.documentElement.clientHeight,z=this._element.style.overflowY;z==="hidden"||this._element.classList.contains(I)||($||(this._element.style.overflowY="hidden"),this._element.classList.add(I),this._queueCallback(()=>{this._element.classList.remove(I),this._queueCallback(()=>{this._element.style.overflowY=z},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const V=this._element.scrollHeight>document.documentElement.clientHeight,$=this._scrollBar.getWidth(),z=$>0;if(z&&!V){const F=l.isRTL()?"paddingLeft":"paddingRight";this._element.style[F]=`${$}px`}if(!z&&V){const F=l.isRTL()?"paddingRight":"paddingLeft";this._element.style[F]=`${$}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(V,$){return this.each(function(){const z=Q.getOrCreateInstance(this,V);if(typeof V=="string"){if(typeof z[V]>"u")throw new TypeError(`No method named "${V}"`);z[V]($)}})}}return r.on(document,O,D,function(H){const V=i.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&H.preventDefault(),r.one(V,w,F=>{F.defaultPrevented||r.one(V,v,()=>{l.isVisible(this)&&this.focus()})});const $=i.findOne(M);$&&Q.getInstance($).hide(),Q.getOrCreateInstance(V).toggle(this)}),s.enableDismissTrigger(Q),l.defineJQueryPlugin(Q),Q})})(ad);var J_=ad.exports;const X_=qi(J_),em=t=>new ImageData(new Uint8ClampedArray(t.data),t.width,t.height),tm=(t,e)=>{for(let n=0;n<t.data.length;n+=4){const i=t.data[n]*.299+t.data[n+1]*.587+t.data[n+2]*.114<e?0:255;t.data.fill(i,n,n+3)}return t},nm=(t,e)=>{const n=t.data,r=new Uint8ClampedArray(t.width*t.height);for(let i=0,a=0;a<n.length;i++,a+=4)r[i]=n[a]*.299+n[a+1]*.587+n[a+2]*.114;for(let i=0,a=0;a<n.length;i++,a+=4){const s=r[i]<e?0:255,o=Math.floor((r[i]-s)/8);n.fill(s,a,a+3),r[i+1]+=o,r[i+2]+=o,r[i+t.width-1]+=o,r[i+t.width]+=o,r[i+t.width+1]+=o,r[i+2*t.width]+=o}return t};function rm(t){let e,n;return e=new de({props:{icon:"lock_open"}}),{c(){te(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){U(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function im(t){let e,n;return e=new de({props:{icon:"lock",class:"text-warning"}}),{c(){te(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){U(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function am(t){let e,n,r,i,a,s;const o=[im,rm],l=[];function c(u,d){return u[1]?0:1}return n=c(t),r=l[n]=o[n](t),{c(){e=y("button"),r.c(),m(e,"class","btn btn-sm btn-outline-secondary param-lock-btn")},m(u,d){Z(u,e,d),l[n].m(e,null),i=!0,a||(s=K(e,"click",t[4]),a=!0)},p(u,[d]){let h=n;n=c(u),n!==h&&(Qe(),U(l[h],1,1,()=>{l[h]=null}),Je(),r=l[n],r||(r=l[n]=o[n](u),r.c()),N(r,1),r.m(e,null))},i(u){i||(N(r),i=!0)},o(u){U(r),i=!1},d(u){u&&G(e),l[n].d(),a=!1,s()}}}function sm(t,e,n){let{propName:r}=e,{savedValue:i}=e,{value:a}=e,{onClick:s}=e;const o=()=>s(r,a);return t.$$set=l=>{"propName"in l&&n(0,r=l.propName),"savedValue"in l&&n(1,i=l.savedValue),"value"in l&&n(2,a=l.value),"onClick"in l&&n(3,s=l.onClick)},[r,i,a,s,o]}class mr extends yt{constructor(e){super(),vt(this,e,sm,am,_t,{propName:0,savedValue:1,value:2,onClick:3})}}var sd={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(dt,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",s="second",o="minute",l="hour",c="day",u="week",d="month",h="quarter",b="year",p="date",_="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(q){var W=["th","st","nd","rd"],D=q%100;return"["+q+(W[(D-20)%10]||W[D]||W[0])+"]"}},S=function(q,W,D){var x=String(q);return!x||x.length>=W?q:""+Array(W+1-x.length).join(D)+q},E={s:S,z:function(q){var W=-q.utcOffset(),D=Math.abs(W),x=Math.floor(D/60),R=D%60;return(W<=0?"+":"-")+S(x,2,"0")+":"+S(R,2,"0")},m:function q(W,D){if(W.date()<D.date())return-q(D,W);var x=12*(D.year()-W.year())+(D.month()-W.month()),R=W.clone().add(x,d),Q=D-R<0,H=W.clone().add(x+(Q?-1:1),d);return+(-(x+(D-R)/(Q?R-H:H-R))||0)},a:function(q){return q<0?Math.ceil(q)||0:Math.floor(q)},p:function(q){return{M:d,y:b,w:u,d:c,D:p,h:l,m:o,s,ms:a,Q:h}[q]||String(q||"").toLowerCase().replace(/s$/,"")},u:function(q){return q===void 0}},L="en",T={};T[L]=w;var P="$isDayjsObject",O=function(q){return q instanceof I||!(!q||!q[P])},B=function q(W,D,x){var R;if(!W)return L;if(typeof W=="string"){var Q=W.toLowerCase();T[Q]&&(R=Q),D&&(T[Q]=D,R=Q);var H=W.split("-");if(!R&&H.length>1)return q(H[0])}else{var V=W.name;T[V]=W,R=V}return!x&&R&&(L=R),R||!x&&L},k=function(q,W){if(O(q))return q.clone();var D=typeof W=="object"?W:{};return D.date=q,D.args=arguments,new I(D)},A=E;A.l=B,A.i=O,A.w=function(q,W){return k(q,{locale:W.$L,utc:W.$u,x:W.$x,$offset:W.$offset})};var I=function(){function q(D){this.$L=B(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[P]=!0}var W=q.prototype;return W.parse=function(D){this.$d=function(x){var R=x.date,Q=x.utc;if(R===null)return new Date(NaN);if(A.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var H=R.match(g);if(H){var V=H[2]-1||0,$=(H[7]||"0").substring(0,3);return Q?new Date(Date.UTC(H[1],V,H[3]||1,H[4]||0,H[5]||0,H[6]||0,$)):new Date(H[1],V,H[3]||1,H[4]||0,H[5]||0,H[6]||0,$)}}return new Date(R)}(D),this.init()},W.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},W.$utils=function(){return A},W.isValid=function(){return this.$d.toString()!==_},W.isSame=function(D,x){var R=k(D);return this.startOf(x)<=R&&R<=this.endOf(x)},W.isAfter=function(D,x){return k(D)<this.startOf(x)},W.isBefore=function(D,x){return this.endOf(x)<k(D)},W.$g=function(D,x,R){return A.u(D)?this[x]:this.set(R,D)},W.unix=function(){return Math.floor(this.valueOf()/1e3)},W.valueOf=function(){return this.$d.getTime()},W.startOf=function(D,x){var R=this,Q=!!A.u(x)||x,H=A.p(D),V=function(Me,me){var $e=A.w(R.$u?Date.UTC(R.$y,me,Me):new Date(R.$y,me,Me),R);return Q?$e:$e.endOf(c)},$=function(Me,me){return A.w(R.toDate()[Me].apply(R.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(me)),R)},z=this.$W,F=this.$M,j=this.$D,ie="set"+(this.$u?"UTC":"");switch(H){case b:return Q?V(1,0):V(31,11);case d:return Q?V(1,F):V(0,F+1);case u:var se=this.$locale().weekStart||0,fe=(z<se?z+7:z)-se;return V(Q?j-fe:j+(6-fe),F);case c:case p:return $(ie+"Hours",0);case l:return $(ie+"Minutes",1);case o:return $(ie+"Seconds",2);case s:return $(ie+"Milliseconds",3);default:return this.clone()}},W.endOf=function(D){return this.startOf(D,!1)},W.$set=function(D,x){var R,Q=A.p(D),H="set"+(this.$u?"UTC":""),V=(R={},R[c]=H+"Date",R[p]=H+"Date",R[d]=H+"Month",R[b]=H+"FullYear",R[l]=H+"Hours",R[o]=H+"Minutes",R[s]=H+"Seconds",R[a]=H+"Milliseconds",R)[Q],$=Q===c?this.$D+(x-this.$W):x;if(Q===d||Q===b){var z=this.clone().set(p,1);z.$d[V]($),z.init(),this.$d=z.set(p,Math.min(this.$D,z.daysInMonth())).$d}else V&&this.$d[V]($);return this.init(),this},W.set=function(D,x){return this.clone().$set(D,x)},W.get=function(D){return this[A.p(D)]()},W.add=function(D,x){var R,Q=this;D=Number(D);var H=A.p(x),V=function(F){var j=k(Q);return A.w(j.date(j.date()+Math.round(F*D)),Q)};if(H===d)return this.set(d,this.$M+D);if(H===b)return this.set(b,this.$y+D);if(H===c)return V(1);if(H===u)return V(7);var $=(R={},R[o]=r,R[l]=i,R[s]=n,R)[H]||1,z=this.$d.getTime()+D*$;return A.w(z,this)},W.subtract=function(D,x){return this.add(-1*D,x)},W.format=function(D){var x=this,R=this.$locale();if(!this.isValid())return R.invalidDate||_;var Q=D||"YYYY-MM-DDTHH:mm:ssZ",H=A.z(this),V=this.$H,$=this.$m,z=this.$M,F=R.weekdays,j=R.months,ie=R.meridiem,se=function(me,$e,Ae,De){return me&&(me[$e]||me(x,Q))||Ae[$e].slice(0,De)},fe=function(me){return A.s(V%12||12,me,"0")},Me=ie||function(me,$e,Ae){var De=me<12?"AM":"PM";return Ae?De.toLowerCase():De};return Q.replace(v,function(me,$e){return $e||function(Ae){switch(Ae){case"YY":return String(x.$y).slice(-2);case"YYYY":return A.s(x.$y,4,"0");case"M":return z+1;case"MM":return A.s(z+1,2,"0");case"MMM":return se(R.monthsShort,z,j,3);case"MMMM":return se(j,z);case"D":return x.$D;case"DD":return A.s(x.$D,2,"0");case"d":return String(x.$W);case"dd":return se(R.weekdaysMin,x.$W,F,2);case"ddd":return se(R.weekdaysShort,x.$W,F,3);case"dddd":return F[x.$W];case"H":return String(V);case"HH":return A.s(V,2,"0");case"h":return fe(1);case"hh":return fe(2);case"a":return Me(V,$,!0);case"A":return Me(V,$,!1);case"m":return String($);case"mm":return A.s($,2,"0");case"s":return String(x.$s);case"ss":return A.s(x.$s,2,"0");case"SSS":return A.s(x.$ms,3,"0");case"Z":return H}return null}(me)||H.replace(":","")})},W.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},W.diff=function(D,x,R){var Q,H=this,V=A.p(x),$=k(D),z=($.utcOffset()-this.utcOffset())*r,F=this-$,j=function(){return A.m(H,$)};switch(V){case b:Q=j()/12;break;case d:Q=j();break;case h:Q=j()/3;break;case u:Q=(F-z)/6048e5;break;case c:Q=(F-z)/864e5;break;case l:Q=F/i;break;case o:Q=F/r;break;case s:Q=F/n;break;default:Q=F}return R?Q:A.a(Q)},W.daysInMonth=function(){return this.endOf(d).$D},W.$locale=function(){return T[this.$L]},W.locale=function(D,x){if(!D)return this.$L;var R=this.clone(),Q=B(D,x,!0);return Q&&(R.$L=Q),R},W.clone=function(){return A.w(this.$d,this)},W.toDate=function(){return new Date(this.valueOf())},W.toJSON=function(){return this.isValid()?this.toISOString():null},W.toISOString=function(){return this.$d.toISOString()},W.toString=function(){return this.$d.toUTCString()},q}(),M=I.prototype;return k.prototype=M,[["$ms",a],["$s",s],["$m",o],["$H",l],["$W",c],["$M",d],["$y",b],["$D",p]].forEach(function(q){M[q[1]]=function(W){return this.$g(W,q[0],q[1])}}),k.extend=function(q,W){return q.$i||(q(W,I,k),q.$i=!0),k},k.locale=B,k.isDayjs=O,k.unix=function(q){return k(1e3*q)},k.en=T[L],k.Ls=T,k.p={},k})})(sd);var om=sd.exports;const lm=qi(om),cm=/{\s*(\w+)\s*(?:\|\s*(.*?)\s*)?}/g,um=t=>{const e=lm();return t?e.format(t):e.format("YYYY-MM-DD HH:mm:ss")},ms=(t,e)=>t.replace(cm,(n,r,i)=>e!==void 0&&r in e?e[r]:r==="dt"?um(i):n),dm=(t,e)=>{t.forEachObject(n=>{n instanceof et.fabric.IText?n.set({text:ms(n.text??"",e)}):n instanceof Yn?n.set({text:ms(n.text??"",e)}):n instanceof jn&&n.encoding==="CODE128B"&&n.set({text:ms(n.text??"",e)})})};function xl(t,e,n){const r=t.slice();return r[63]=e[n],r}function jl(t,e,n){const r=t.slice();return r[66]=e[n],r}function Rl(t){let e,n,r,i,a,s;return n=new de({props:{icon:"chevron_left"}}),{c(){e=y("button"),te(n.$$.fragment),e.disabled=r=t[3]!=="idle",m(e,"class","btn w-100 fs-1")},m(o,l){Z(o,e,l),X(n,e,null),i=!0,a||(s=K(e,"click",t[27]),a=!0)},p(o,l){(!i||l[0]&8&&r!==(r=o[3]!=="idle"))&&(e.disabled=r)},i(o){i||(N(n.$$.fragment,o),i=!0)},o(o){U(n.$$.fragment,o),i=!1},d(o){o&&G(e),ee(n),a=!1,s()}}}function $l(t){let e,n,r,i,a,s;return n=new de({props:{icon:"chevron_right"}}),{c(){e=y("button"),te(n.$$.fragment),e.disabled=r=t[3]!=="idle",m(e,"class","btn w-100 fs-1")},m(o,l){Z(o,e,l),X(n,e,null),i=!0,a||(s=K(e,"click",t[28]),a=!0)},p(o,l){(!i||l[0]&8&&r!==(r=o[3]!=="idle"))&&(e.disabled=r)},i(o){i||(N(n.$$.fragment,o),i=!0)},o(o){U(n.$$.fragment,o),i=!1},d(o){o&&G(e),ee(n),a=!1,s()}}}function Ul(t){let e,n,r=t[12]+1+"",i,a,s;return{c(){e=y("div"),n=Y("Page "),i=Y(r),a=Y(" / "),s=Y(t[13])},m(o,l){Z(o,e,l),f(e,n),f(e,i),f(e,a),f(e,s)},p(o,l){l[0]&4096&&r!==(r=o[12]+1+"")&&re(i,r),l[0]&8192&&re(s,o[13])},d(o){o&&G(e)}}}function Vl(t){let e;return{c(){e=y("div"),e.textContent="Sending..."},m(n,r){Z(n,e,r)},d(n){n&&G(e)}}}function zl(t){let e,n,r,i,a,s;return{c(){e=y("div"),n=Y(`Printing...\r
            `),r=y("div"),i=y("div"),a=Y(t[4]),s=Y("%"),m(i,"class","progress-bar svelte-wgb889"),yn(i,"width",t[4]+"%"),m(r,"class","progress"),m(r,"role","progressbar")},m(o,l){Z(o,e,l),f(e,n),f(e,r),f(r,i),f(i,a),f(i,s)},p(o,l){l[0]&16&&re(a,o[4]),l[0]&16&&yn(i,"width",o[4]+"%")},d(o){o&&G(e)}}}function Wl(t){let e,n;return{c(){e=y("div"),n=Y(t[11]),m(e,"class","alert alert-danger"),m(e,"role","alert")},m(r,i){Z(r,e,i),f(e,n)},p(r,i){i[0]&2048&&re(n,r[11])},d(r){r&&G(e)}}}function fm(t){var l;let e,n=(l=t[18])==null?void 0:l.paperTypes.includes(t[66]),r,i=t[19](t[22](at.LabelType[t[66]]))+"",a,s,o=n&&ql();return{c(){e=y("option"),o&&o.c(),r=C(),a=Y(i),s=C(),e.__value=t[66],Ee(e,e.__value)},m(c,u){Z(c,e,u),o&&o.m(e,null),f(e,r),f(e,a),f(e,s)},p(c,u){var d;u[0]&262144&&(n=(d=c[18])==null?void 0:d.paperTypes.includes(c[66])),n?o||(o=ql(),o.c(),o.m(e,r)):o&&(o.d(1),o=null),u[0]&524288&&i!==(i=c[19](c[22](at.LabelType[c[66]]))+"")&&re(a,i)},d(c){c&&G(e),o&&o.d()}}}function ql(t){let e;return{c(){e=Y("✔")},m(n,r){Z(n,e,r)},d(n){n&&G(e)}}}function Fl(t){let e,n=typeof t[66]!="string"&&fm(t);return{c(){n&&n.c(),e=er()},m(r,i){n&&n.m(r,i),Z(r,e,i)},p(r,i){typeof r[66]!="string"&&n.p(r,i)},d(r){r&&G(e),n&&n.d(r)}}}function pm(t){let e;return{c(){e=Y("✔")},m(n,r){Z(n,e,r)},d(n){n&&G(e)}}}function Hl(t){let e,n,r,i,a=t[20]===t[63]&&pm();return{c(){e=y("option"),a&&a.c(),n=C(),r=Y(t[63]),i=C(),e.__value=t[63],Ee(e,e.__value)},m(s,o){Z(s,e,o),a&&a.m(e,null),f(e,n),f(e,r),f(e,i)},p:gt,d(s){s&&G(e),a&&a.d()}}}function Gl(t){let e,n,r;return n=new de({props:{icon:"warning"}}),{c(){e=y("span"),te(n.$$.fragment),m(e,"class","input-group-text text-warning"),m(e,"title",t[15])},m(i,a){Z(i,e,a),X(n,e,null),r=!0},p(i,a){(!r||a[0]&32768)&&m(e,"title",i[15])},i(i){r||(N(n.$$.fragment,i),r=!0)},o(i){U(n.$$.fragment,i),r=!1},d(i){i&&G(e),ee(n)}}}function Zl(t){let e,n=t[19]("preview.print.cancel")+"",r,i,a;return{c(){e=y("button"),r=Y(n),m(e,"type","button"),m(e,"class","btn btn-primary"),e.disabled=t[17]},m(s,o){Z(s,e,o),f(e,r),i||(a=K(e,"click",t[23]),i=!0)},p(s,o){o[0]&524288&&n!==(n=s[19]("preview.print.cancel")+"")&&re(r,n),o[0]&131072&&(e.disabled=s[17])},d(s){s&&G(e),i=!1,a()}}}function hm(t){let e,n,r=t[19]("preview.print")+"",i,a;return e=new de({props:{icon:"print"}}),{c(){te(e.$$.fragment),n=C(),i=Y(r)},m(s,o){X(e,s,o),Z(s,n,o),Z(s,i,o),a=!0},p(s,o){(!a||o[0]&524288)&&r!==(r=s[19]("preview.print")+"")&&re(i,r)},i(s){a||(N(e.$$.fragment,s),a=!0)},o(s){U(e.$$.fragment,s),a=!1},d(s){s&&(G(n),G(i)),ee(e,s)}}}function _m(t){let e=t[19]("preview.not_connected")+"",n;return{c(){n=Y(e)},m(r,i){Z(r,n,i)},p(r,i){i[0]&524288&&e!==(e=r[19]("preview.not_connected")+"")&&re(n,e)},i:gt,o:gt,d(r){r&&G(n)}}}function mm(t){let e,n,r,i,a,s=t[19]("preview.title")+"",o,l,c,u,d,h,b,p,_,g,v,w,S,E,L,T,P,O,B=t[19]("preview.postprocess")+"",k,A,I,M,q=t[19]("preview.postprocess.threshold")+"",W,D,x=t[19]("preview.postprocess.atkinson")+"",R,Q,H,V,$,z,F=t[19]("preview.threshold")+"",j,ie,se,fe,Me,me,$e,Ae,De,ne,Te,Ce=t[19]("preview.copies")+"",Pe,We,Be,ge,ye,Ue,ue,pe,he=t[19]("preview.density")+"",Le,le,ve,mt,ce,it,qe,nt,Ge,wt,xt=t[19]("preview.label_type")+"",mn,In,Et,zt,jt,Rt,St,bn,xe=t[19]("preview.print_task")+"",Ot,qn,Lt,Kt,sn,Qt,rt,Tn,ae=t[19]("preview.offset")+"",Oe,on,tr,Fn,Bn,ni,Ct,ri,Pn,gn,fr,ln,ii,$t,En,nr=t[19]("preview.offset.inner")+"",Xe,Nn,pr=t[19]("preview.offset.outer")+"",Dr,Hn,ft,Ut,kt,hr=t[19]("preview.close")+"",Or,we,Fe,vn,Wt,Jt,Ki,pt,xa,oo,It=t[13]>1&&Rl(t),Bt=t[13]>1&&$l(t),Xt=t[13]>1&&Ul(t),cn=t[3]==="sending"&&Vl(),en=t[3]==="printing"&&zl(t),tn=t[11]&&Wl(t);H=new mr({props:{propName:"postProcess",value:t[7],savedValue:t[16].postProcess,onClick:t[25]}}),Ae=new mr({props:{propName:"threshold",value:t[8],savedValue:t[16].threshold,onClick:t[25]}}),ye=new mr({props:{propName:"quantity",value:t[6],savedValue:t[16].quantity,onClick:t[25]}}),qe=new mr({props:{propName:"density",value:t[5],savedValue:t[16].density,onClick:t[25]}});let Lr=lt(Object.values(at.LabelType)),qt=[];for(let J=0;J<Lr.length;J+=1)qt[J]=Fl(jl(t,Lr,J));jt=new mr({props:{propName:"labelType",value:t[10],savedValue:t[16].labelType,onClick:t[25]}});let Cr=lt(at.printTaskNames),Ft=[];for(let J=0;J<Cr.length;J+=1)Ft[J]=Hl(xl(t,Cr,J));sn=new mr({props:{propName:"printTaskName",value:t[9],savedValue:t[16].printTaskName,onClick:t[25]}});let Nt=t[15]&&Gl(t);Bn=new de({props:{icon:"unfold_more",class:"r-90"}}),gn=new de({props:{icon:"unfold_more"}}),ft=new mr({props:{propName:"offset",value:t[14],savedValue:t[16].offset,onClick:t[25]}});let nn=t[3]!=="idle"&&Zl(t);const lo=[_m,hm],rr=[];function co(J,ke){return J[17]?0:1}return Wt=co(t),Jt=rr[Wt]=lo[Wt](t),{c(){var J,ke;e=y("div"),n=y("div"),r=y("div"),i=y("div"),a=y("h1"),o=Y(s),l=C(),c=y("button"),u=C(),d=y("div"),h=y("div"),It&&It.c(),b=C(),p=y("canvas"),g=C(),Bt&&Bt.c(),v=C(),Xt&&Xt.c(),w=C(),cn&&cn.c(),S=C(),en&&en.c(),E=C(),tn&&tn.c(),L=C(),T=y("div"),P=y("div"),O=y("span"),k=Y(B),A=C(),I=y("select"),M=y("option"),W=Y(q),D=y("option"),R=Y(x),Q=C(),te(H.$$.fragment),V=C(),$=y("div"),z=y("span"),j=Y(F),ie=C(),se=y("input"),fe=C(),Me=y("span"),me=Y(t[8]),$e=C(),te(Ae.$$.fragment),De=C(),ne=y("div"),Te=y("span"),Pe=Y(Ce),We=C(),Be=y("input"),ge=C(),te(ye.$$.fragment),Ue=C(),ue=y("div"),pe=y("span"),Le=Y(he),le=C(),ve=y("input"),it=C(),te(qe.$$.fragment),nt=C(),Ge=y("div"),wt=y("span"),mn=Y(xt),In=C(),Et=y("select");for(let bt=0;bt<qt.length;bt+=1)qt[bt].c();zt=C(),te(jt.$$.fragment),Rt=C(),St=y("div"),bn=y("span"),Ot=Y(xe),qn=C(),Lt=y("select");for(let bt=0;bt<Ft.length;bt+=1)Ft[bt].c();Kt=C(),te(sn.$$.fragment),Qt=C(),rt=y("div"),Tn=y("span"),Oe=Y(ae),on=C(),Nt&&Nt.c(),tr=C(),Fn=y("span"),te(Bn.$$.fragment),ni=C(),Ct=y("input"),ri=C(),Pn=y("span"),te(gn.$$.fragment),fr=C(),ln=y("input"),ii=C(),$t=y("select"),En=y("option"),Xe=Y(nr),Nn=y("option"),Dr=Y(pr),Hn=C(),te(ft.$$.fragment),Ut=C(),kt=y("button"),Or=Y(hr),we=C(),nn&&nn.c(),Fe=C(),vn=y("button"),Jt.c(),m(a,"class","modal-title fs-5"),m(c,"type","button"),m(c,"class","btn-close"),m(c,"data-bs-dismiss","modal"),m(i,"class","modal-header"),m(p,"class",_="print-start-"+t[0].printDirection+" svelte-wgb889"),m(h,"class","d-flex justify-content-center"),m(d,"class","modal-body text-center"),m(O,"class","input-group-text"),M.__value="threshold",Ee(M,M.__value),D.__value="dither",Ee(D,D.__value),m(I,"class","form-select"),t[7]===void 0&&dn(()=>t[35].call(I)),m(P,"class","input-group input-group-sm"),m(z,"class","input-group-text"),m(se,"type","range"),m(se,"id","threshold"),m(se,"class","form-range svelte-wgb889"),m(se,"min","1"),m(se,"max","255"),m(Me,"class","input-group-text"),m($,"class","input-group input-group-sm svelte-wgb889"),m(Te,"class","input-group-text"),m(Be,"class","form-control"),m(Be,"type","number"),m(Be,"min","1"),m(ne,"class","input-group flex-nowrap input-group-sm"),m(pe,"class","input-group-text"),m(ve,"class","form-control"),m(ve,"type","number"),m(ve,"min",mt=((J=t[18])==null?void 0:J.densityMin)??1),m(ve,"max",ce=((ke=t[18])==null?void 0:ke.densityMax)??20),m(ue,"class","input-group flex-nowrap input-group-sm"),m(wt,"class","input-group-text"),m(Et,"class","form-select"),t[10]===void 0&&dn(()=>t[43].call(Et)),m(Ge,"class","input-group input-group-sm"),m(bn,"class","input-group-text"),m(Lt,"class","form-select"),t[9]===void 0&&dn(()=>t[45].call(Lt)),m(St,"class","input-group input-group-sm"),m(Tn,"class","input-group-text"),m(Fn,"class","input-group-text"),m(Ct,"class","form-control"),m(Ct,"type","number"),m(Pn,"class","input-group-text"),m(ln,"class","form-control"),m(ln,"type","number"),En.__value="inner",Ee(En,En.__value),Nn.__value="outer",Ee(Nn,Nn.__value),m($t,"class","form-select"),t[14].offsetType===void 0&&dn(()=>t[51].call($t)),m(rt,"class","input-group input-group-sm"),m(kt,"type","button"),m(kt,"class","btn btn-secondary"),m(kt,"data-bs-dismiss","modal"),m(vn,"type","button"),m(vn,"class","btn btn-primary"),vn.disabled=Ki=t[17]||t[3]!=="idle",m(T,"class","modal-footer"),m(r,"class","modal-content"),m(n,"class","modal-dialog modal-dialog-centered"),m(e,"class","modal fade"),m(e,"tabindex","-1")},m(J,ke){Z(J,e,ke),f(e,n),f(n,r),f(r,i),f(i,a),f(a,o),f(i,l),f(i,c),f(r,u),f(r,d),f(d,h),It&&It.m(h,null),f(h,b),f(h,p),t[34](p),f(h,g),Bt&&Bt.m(h,null),f(d,v),Xt&&Xt.m(d,null),f(d,w),cn&&cn.m(d,null),f(d,S),en&&en.m(d,null),f(r,E),tn&&tn.m(r,null),f(r,L),f(r,T),f(T,P),f(P,O),f(O,k),f(P,A),f(P,I),f(I,M),f(M,W),f(I,D),f(D,R),Pt(I,t[7],!0),f(P,Q),X(H,P,null),f(T,V),f(T,$),f($,z),f(z,j),f($,ie),f($,se),Ee(se,t[8]),f($,fe),f($,Me),f(Me,me),f($,$e),X(Ae,$,null),f(T,De),f(T,ne),f(ne,Te),f(Te,Pe),f(ne,We),f(ne,Be),Ee(Be,t[6]),f(ne,ge),X(ye,ne,null),f(T,Ue),f(T,ue),f(ue,pe),f(pe,Le),f(ue,le),f(ue,ve),Ee(ve,t[5]),f(ue,it),X(qe,ue,null),f(T,nt),f(T,Ge),f(Ge,wt),f(wt,mn),f(Ge,In),f(Ge,Et);for(let bt=0;bt<qt.length;bt+=1)qt[bt]&&qt[bt].m(Et,null);Pt(Et,t[10],!0),f(Ge,zt),X(jt,Ge,null),f(T,Rt),f(T,St),f(St,bn),f(bn,Ot),f(St,qn),f(St,Lt);for(let bt=0;bt<Ft.length;bt+=1)Ft[bt]&&Ft[bt].m(Lt,null);Pt(Lt,t[9],!0),f(St,Kt),X(sn,St,null),f(T,Qt),f(T,rt),f(rt,Tn),f(Tn,Oe),f(rt,on),Nt&&Nt.m(rt,null),f(rt,tr),f(rt,Fn),X(Bn,Fn,null),f(rt,ni),f(rt,Ct),Ee(Ct,t[14].x),f(rt,ri),f(rt,Pn),X(gn,Pn,null),f(rt,fr),f(rt,ln),Ee(ln,t[14].y),f(rt,ii),f(rt,$t),f($t,En),f(En,Xe),f($t,Nn),f(Nn,Dr),Pt($t,t[14].offsetType,!0),f(rt,Hn),X(ft,rt,null),f(T,Ut),f(T,kt),f(kt,Or),f(T,we),nn&&nn.m(T,null),f(T,Fe),f(T,vn),rr[Wt].m(vn,null),t[53](e),pt=!0,xa||(oo=[K(I,"change",t[35]),K(I,"change",t[36]),K(se,"change",t[37]),K(se,"input",t[37]),K(se,"change",t[38]),K(Be,"input",t[39]),K(Be,"change",t[40]),K(ve,"input",t[41]),K(ve,"change",t[42]),K(Et,"change",t[43]),K(Et,"change",t[44]),K(Lt,"change",t[45]),K(Lt,"change",t[46]),K(Ct,"input",t[47]),K(Ct,"change",t[48]),K(ln,"input",t[49]),K(ln,"change",t[50]),K($t,"change",t[51]),K($t,"change",t[52]),K(vn,"click",t[24])],xa=!0)},p(J,ke){var uo,fo;(!pt||ke[0]&524288)&&s!==(s=J[19]("preview.title")+"")&&re(o,s),J[13]>1?It?(It.p(J,ke),ke[0]&8192&&N(It,1)):(It=Rl(J),It.c(),N(It,1),It.m(h,b)):It&&(Qe(),U(It,1,1,()=>{It=null}),Je()),(!pt||ke[0]&1&&_!==(_="print-start-"+J[0].printDirection+" svelte-wgb889"))&&m(p,"class",_),J[13]>1?Bt?(Bt.p(J,ke),ke[0]&8192&&N(Bt,1)):(Bt=$l(J),Bt.c(),N(Bt,1),Bt.m(h,null)):Bt&&(Qe(),U(Bt,1,1,()=>{Bt=null}),Je()),J[13]>1?Xt?Xt.p(J,ke):(Xt=Ul(J),Xt.c(),Xt.m(d,w)):Xt&&(Xt.d(1),Xt=null),J[3]==="sending"?cn||(cn=Vl(),cn.c(),cn.m(d,S)):cn&&(cn.d(1),cn=null),J[3]==="printing"?en?en.p(J,ke):(en=zl(J),en.c(),en.m(d,null)):en&&(en.d(1),en=null),J[11]?tn?tn.p(J,ke):(tn=Wl(J),tn.c(),tn.m(r,L)):tn&&(tn.d(1),tn=null),(!pt||ke[0]&524288)&&B!==(B=J[19]("preview.postprocess")+"")&&re(k,B),(!pt||ke[0]&524288)&&q!==(q=J[19]("preview.postprocess.threshold")+"")&&re(W,q),(!pt||ke[0]&524288)&&x!==(x=J[19]("preview.postprocess.atkinson")+"")&&re(R,x),ke[0]&128&&Pt(I,J[7]);const bt={};ke[0]&128&&(bt.value=J[7]),ke[0]&65536&&(bt.savedValue=J[16].postProcess),H.$set(bt),(!pt||ke[0]&524288)&&F!==(F=J[19]("preview.threshold")+"")&&re(j,F),ke[0]&256&&Ee(se,J[8]),(!pt||ke[0]&256)&&re(me,J[8]);const ja={};ke[0]&256&&(ja.value=J[8]),ke[0]&65536&&(ja.savedValue=J[16].threshold),Ae.$set(ja),(!pt||ke[0]&524288)&&Ce!==(Ce=J[19]("preview.copies")+"")&&re(Pe,Ce),ke[0]&64&&ut(Be.value)!==J[6]&&Ee(Be,J[6]);const Ra={};ke[0]&64&&(Ra.value=J[6]),ke[0]&65536&&(Ra.savedValue=J[16].quantity),ye.$set(Ra),(!pt||ke[0]&524288)&&he!==(he=J[19]("preview.density")+"")&&re(Le,he),(!pt||ke[0]&262144&&mt!==(mt=((uo=J[18])==null?void 0:uo.densityMin)??1))&&m(ve,"min",mt),(!pt||ke[0]&262144&&ce!==(ce=((fo=J[18])==null?void 0:fo.densityMax)??20))&&m(ve,"max",ce),ke[0]&32&&ut(ve.value)!==J[5]&&Ee(ve,J[5]);const $a={};if(ke[0]&32&&($a.value=J[5]),ke[0]&65536&&($a.savedValue=J[16].density),qe.$set($a),(!pt||ke[0]&524288)&&xt!==(xt=J[19]("preview.label_type")+"")&&re(mn,xt),ke[0]&4980736){Lr=lt(Object.values(at.LabelType));let ot;for(ot=0;ot<Lr.length;ot+=1){const ai=jl(J,Lr,ot);qt[ot]?qt[ot].p(ai,ke):(qt[ot]=Fl(ai),qt[ot].c(),qt[ot].m(Et,null))}for(;ot<qt.length;ot+=1)qt[ot].d(1);qt.length=Lr.length}ke[0]&1024&&Pt(Et,J[10]);const Ua={};if(ke[0]&1024&&(Ua.value=J[10]),ke[0]&65536&&(Ua.savedValue=J[16].labelType),jt.$set(Ua),(!pt||ke[0]&524288)&&xe!==(xe=J[19]("preview.print_task")+"")&&re(Ot,xe),ke[0]&1048576){Cr=lt(at.printTaskNames);let ot;for(ot=0;ot<Cr.length;ot+=1){const ai=xl(J,Cr,ot);Ft[ot]?Ft[ot].p(ai,ke):(Ft[ot]=Hl(ai),Ft[ot].c(),Ft[ot].m(Lt,null))}for(;ot<Ft.length;ot+=1)Ft[ot].d(1);Ft.length=Cr.length}ke[0]&512&&Pt(Lt,J[9]);const Va={};ke[0]&512&&(Va.value=J[9]),ke[0]&65536&&(Va.savedValue=J[16].printTaskName),sn.$set(Va),(!pt||ke[0]&524288)&&ae!==(ae=J[19]("preview.offset")+"")&&re(Oe,ae),J[15]?Nt?(Nt.p(J,ke),ke[0]&32768&&N(Nt,1)):(Nt=Gl(J),Nt.c(),N(Nt,1),Nt.m(rt,tr)):Nt&&(Qe(),U(Nt,1,1,()=>{Nt=null}),Je()),ke[0]&16384&&ut(Ct.value)!==J[14].x&&Ee(Ct,J[14].x),ke[0]&16384&&ut(ln.value)!==J[14].y&&Ee(ln,J[14].y),(!pt||ke[0]&524288)&&nr!==(nr=J[19]("preview.offset.inner")+"")&&re(Xe,nr),(!pt||ke[0]&524288)&&pr!==(pr=J[19]("preview.offset.outer")+"")&&re(Dr,pr),ke[0]&16384&&Pt($t,J[14].offsetType);const za={};ke[0]&16384&&(za.value=J[14]),ke[0]&65536&&(za.savedValue=J[16].offset),ft.$set(za),(!pt||ke[0]&524288)&&hr!==(hr=J[19]("preview.close")+"")&&re(Or,hr),J[3]!=="idle"?nn?nn.p(J,ke):(nn=Zl(J),nn.c(),nn.m(T,Fe)):nn&&(nn.d(1),nn=null);let Wa=Wt;Wt=co(J),Wt===Wa?rr[Wt].p(J,ke):(Qe(),U(rr[Wa],1,1,()=>{rr[Wa]=null}),Je(),Jt=rr[Wt],Jt?Jt.p(J,ke):(Jt=rr[Wt]=lo[Wt](J),Jt.c()),N(Jt,1),Jt.m(vn,null)),(!pt||ke[0]&131080&&Ki!==(Ki=J[17]||J[3]!=="idle"))&&(vn.disabled=Ki)},i(J){pt||(N(It),N(Bt),N(H.$$.fragment,J),N(Ae.$$.fragment,J),N(ye.$$.fragment,J),N(qe.$$.fragment,J),N(jt.$$.fragment,J),N(sn.$$.fragment,J),N(Nt),N(Bn.$$.fragment,J),N(gn.$$.fragment,J),N(ft.$$.fragment,J),N(Jt),pt=!0)},o(J){U(It),U(Bt),U(H.$$.fragment,J),U(Ae.$$.fragment,J),U(ye.$$.fragment,J),U(qe.$$.fragment,J),U(jt.$$.fragment,J),U(sn.$$.fragment,J),U(Nt),U(Bn.$$.fragment,J),U(gn.$$.fragment,J),U(ft.$$.fragment,J),U(Jt),pt=!1},d(J){J&&G(e),It&&It.d(),t[34](null),Bt&&Bt.d(),Xt&&Xt.d(),cn&&cn.d(),en&&en.d(),tn&&tn.d(),ee(H),ee(Ae),ee(ye),ee(qe),kn(qt,J),ee(jt),kn(Ft,J),ee(sn),Nt&&Nt.d(),ee(Bn),ee(gn),ee(ft),nn&&nn.d(),rr[Wt].d(),t[53](null),xa=!1,st(oo)}}}function bm(t,e,n){let r,i,a,s;Ke(t,Wi,ce=>n(18,i=ce)),Ke(t,Mt,ce=>n(19,a=ce)),Ke(t,ao,ce=>n(58,s=ce));let{onClosed:o}=e,{labelProps:l}=e,{canvasCallback:c}=e,{printNow:u=!1}=e,{csvData:d}=e,{csvEnabled:h}=e,b,p,_="idle",g,v=0,w=(i==null?void 0:i.densityDefault)??3,S=1,E,L=140,T,P,O="D110",B=at.LabelType.WithGaps,k,A="",I=s==null?void 0:s.getPrintTaskType(),M,q=0,W=1,D={x:0,y:0,offsetType:"inner"},x="",R={};const Q=zu(sr,ce=>ce!=="connected");Ke(t,Q,ce=>n(17,r=ce));const H=ce=>`preview.label_type.${ce}`,V=async()=>{clearInterval(k),!r&&_!=="idle"&&(await s.abstraction.printEnd(),s.startHeartbeat()),n(3,_="idle"),n(4,v=0)},$=async()=>{n(3,_="sending"),n(11,A=""),s.stopHeartbeat();for(let ce=0;ce<W;ce++){const it=s.abstraction.newPrintTask(O,{totalPages:S,density:w,labelType:B,statusPollIntervalMs:100,statusTimeoutMs:8e3});n(12,q=ce),console.log("Printing page",q),await Me(q);const qe=at.ImageEncoder.encodeCanvas(p,l.printDirection);try{await it.printInit(),await it.printPage(qe,S)}catch(Ge){n(11,A=`${Ge}`),console.error(Ge);return}n(3,_="printing");const nt=Ge=>{n(4,v=Math.floor(Ge.page/S*((Ge.pagePrintProgress+Ge.pageFeedProgress)/2)))};s.on("printprogress",nt);try{await it.waitForFinished()}catch(Ge){n(11,A=`${Ge}`),console.error(Ge)}s.off("printprogress",nt),await V()}n(3,_="idle"),s.startHeartbeat(),u&&!A&&g.hide()},z=()=>{let ce=em(T);if(E==="threshold"?ce=tm(ce,L):E==="dither"&&(ce=nm(ce,L)),n(15,x=""),D.offsetType==="inner"?(n(2,p.width=T.width,p),n(2,p.height=T.height,p),P.fillStyle="white",P.fillRect(0,0,p.width,p.height),P.putImageData(ce,D.x,D.y)):(n(2,p.width=T.width+Math.abs(D.x),p),n(2,p.height=T.height+Math.abs(D.y),p),P.fillStyle="white",P.fillRect(0,0,p.width,p.height),P.putImageData(ce,Math.max(D.x,0),Math.max(D.y,0))),i!==void 0){const it=l.printDirection=="left"?p.height:p.width;it>i.printheadPixels&&(n(15,x+=a("params.label.warning.width")+" "),n(15,x+=`(${it} > ${i.printheadPixels})`),n(15,x+=`
`))}},F=(ce,it)=>{const qe=ce;n(16,R[qe]=R[qe]===void 0?it:void 0,R);try{Dt.savePreviewProps(R)}catch(nt){ht.zodErrors(nt,"Preview parameters save error:")}},j=(ce,it,qe=!1)=>{const nt=ce;if(R[nt]!==void 0){n(16,R[nt]=it,R);try{Dt.savePreviewProps(R)}catch(Ge){ht.zodErrors(Ge,"Preview parameters save error:")}}qe&&z()},ie=()=>{try{const ce=Dt.loadSavedPreviewProps();if(ce===null)return;n(16,R=ce),ce.postProcess&&n(7,E=ce.postProcess),ce.threshold&&n(8,L=ce.threshold),ce.quantity&&n(6,S=ce.quantity),ce.density&&n(5,w=ce.density),ce.labelType&&n(10,B=ce.labelType),ce.printTaskName&&n(9,O=ce.printTaskName),ce.offset&&n(14,D=ce.offset)}catch(ce){ht.zodErrors(ce,"Preview parameters load error:")}},se=()=>{if(!h){n(12,q=0);return}n(12,q=Math.max(0,Math.min(M.length-1,q-1))),Me(q)},fe=()=>{if(!h){n(12,q=0);return}n(12,q=Math.min(M.length-1,q+1)),Me(q)},Me=async ce=>new Promise(it=>{const qe=new et.fabric.Canvas(null,{width:l.size.width,height:l.size.height});qe.loadFromJSON(c(),()=>{let nt={};h&&(ce>=0&&ce<M.length?nt=M[ce]:console.warn(`Page ${ce} is out of csv bounds (csv length is ${M.length})`)),console.log("Page variables:",nt),dm(qe,nt),qe.requestRenderAll();const Ge=qe.toCanvasElement(),wt=Ge.getContext("2d");n(2,p.width=Ge.width,p),n(2,p.height=Ge.height,p),P=p.getContext("2d"),T=wt.getImageData(0,0,Ge.width,Ge.height),z(),qe.dispose(),it()})});Xr(async()=>{h&&(M=id(d),n(13,W=M.length)),g=new X_(b),g.show(),b.addEventListener("hidden.bs.modal",async()=>{V(),o()}),I!==void 0&&(console.log(`Detected print task version: ${I}`),n(9,O=I)),ie(),await Me(q),u&&!r&&_==="idle"&&$()}),Ys(()=>{g&&(g.hide(),g.dispose())});function me(ce){Pr[ce?"unshift":"push"](()=>{p=ce,n(2,p)})}function $e(){E=xn(this),n(7,E)}const Ae=()=>j("postProcess",E,!0);function De(){L=ut(this.value),n(8,L)}const ne=()=>j("threshold",L,!0);function Te(){S=ut(this.value),n(6,S)}const Ce=()=>j("quantity",S);function Pe(){w=ut(this.value),n(5,w)}const We=()=>j("density",w);function Be(){B=xn(this),n(10,B)}const ge=()=>j("labelType",B);function ye(){O=xn(this),n(9,O)}const Ue=()=>j("printTaskName",O);function ue(){D.x=ut(this.value),n(14,D)}const pe=()=>j("offset",D,!0);function he(){D.y=ut(this.value),n(14,D)}const Le=()=>j("offset",D,!0);function le(){D.offsetType=xn(this),n(14,D)}const ve=()=>j("offset",D,!0);function mt(ce){Pr[ce?"unshift":"push"](()=>{b=ce,n(1,b)})}return t.$$set=ce=>{"onClosed"in ce&&n(29,o=ce.onClosed),"labelProps"in ce&&n(0,l=ce.labelProps),"canvasCallback"in ce&&n(30,c=ce.canvasCallback),"printNow"in ce&&n(31,u=ce.printNow),"csvData"in ce&&n(32,d=ce.csvData),"csvEnabled"in ce&&n(33,h=ce.csvEnabled)},[l,b,p,_,v,w,S,E,L,O,B,A,q,W,D,x,R,r,i,a,I,Q,H,V,$,F,j,se,fe,o,c,u,d,h,me,$e,Ae,De,ne,Te,Ce,Pe,We,Be,ge,ye,Ue,ue,pe,he,Le,le,ve,mt]}class gm extends yt{constructor(e){super(),vt(this,e,bm,mm,_t,{onClosed:29,labelProps:0,canvasCallback:30,printNow:31,csvData:32,csvEnabled:33},null,[-1,-1,-1])}}function Yl(t){let e,n,r,i,a,s,o,l,c,u,d,h,b,p,_;return r=new de({props:{icon:"auto_fix_high"}}),{c(){e=y("div"),n=y("span"),te(r.$$.fragment),a=C(),s=y("select"),o=y("option"),o.textContent="Level L",l=y("option"),l.textContent="Level M",c=y("option"),c.textContent="Level Q",u=y("option"),u.textContent="Level H",d=C(),h=y("textarea"),m(n,"class","input-group-text"),m(n,"title",i=t[3]("params.qrcode.ecl")),o.__value="L",Ee(o,o.__value),l.__value="M",Ee(l,l.__value),c.__value="Q",Ee(c,c.__value),u.__value="H",Ee(u,u.__value),m(s,"class","form-select"),t[2]===void 0&&dn(()=>t[8].call(s)),m(e,"class","input-group input-group-sm flex-nowrap svelte-1xne2y6"),m(h,"class","qrcode-content form-control svelte-1xne2y6")},m(g,v){Z(g,e,v),f(e,n),X(r,n,null),f(e,a),f(e,s),f(s,o),f(s,l),f(s,c),f(s,u),Pt(s,t[2],!0),Z(g,d,v),Z(g,h,v),Ee(h,t[1]),b=!0,p||(_=[K(s,"change",t[8]),K(s,"change",t[5]),K(h,"input",t[9]),K(h,"input",t[4])],p=!0)},p(g,v){(!b||v&8&&i!==(i=g[3]("params.qrcode.ecl")))&&m(n,"title",i),v&4&&Pt(s,g[2]),v&2&&Ee(h,g[1])},i(g){b||(N(r.$$.fragment,g),b=!0)},o(g){U(r.$$.fragment,g),b=!1},d(g){g&&(G(e),G(d),G(h)),ee(r),p=!1,st(_)}}}function vm(t){let e,n,r=t[0]&&Yl(t);return{c(){r&&r.c(),e=er()},m(i,a){r&&r.m(i,a),Z(i,e,a),n=!0},p(i,[a]){i[0]?r?(r.p(i,a),a&1&&N(r,1)):(r=Yl(i),r.c(),N(r,1),r.m(e.parentNode,e)):r&&(Qe(),U(r,1,1,()=>{r=null}),Je())},i(i){n||(N(r),n=!0)},o(i){U(r),n=!1},d(i){i&&G(e),r&&r.d(i)}}}function ym(t,e,n){let r;Ke(t,Mt,p=>n(3,r=p));let{selectedObject:i}=e,{valueUpdated:a}=e,s,o,l;const c=()=>{n(1,o=s==null?void 0:s.text),n(2,l=s==null?void 0:s.ecl)},u=()=>{s&&(s.set({text:o}),a())},d=()=>{s&&(s.set({ecl:l}),a())};function h(){l=xn(this),n(2,l)}function b(){o=this.value,n(1,o)}return t.$$set=p=>{"selectedObject"in p&&n(6,i=p.selectedObject),"valueUpdated"in p&&n(7,a=p.valueUpdated)},t.$$.update=()=>{t.$$.dirty&64&&(n(0,s=i instanceof Yn?i:void 0),c())},[s,o,l,r,u,d,i,a,h,b]}class wm extends yt{constructor(e){super(),vt(this,e,ym,vm,_t,{selectedObject:6,valueUpdated:7})}}function Kl(t,e,n){const r=t.slice();return r[25]=e[n],r}function Ql(t){let e,n,r,i,a,s,o,l,c,u,d,h,b,p,_,g,v,w,S,E,L,T,P,O,B,k,A,I,M,q,W,D,x,R,Q,H,V,$,z,F,j,ie,se,fe,Me,me,$e,Ae,De,ne,Te,Ce,Pe,We,Be,ge,ye,Ue,ue,pe,he,Le,le,ve,mt,ce,it,qe,nt,Ge,wt,xt,mn,In,Et,zt,jt,Rt,St,bn,xe,Ot,qn;n=new de({props:{icon:"format_align_left"}}),o=new de({props:{icon:"format_align_center"}}),h=new de({props:{icon:"format_align_right"}});const Lt=[Pm,Tm,km],Kt=[];function sn(ae,Oe){return ae[0].originY==="top"?0:ae[0].originY==="center"?1:ae[0].originY==="bottom"?2:-1}~(w=sn(t))&&(S=Kt[w]=Lt[w](t)),O=new de({props:{icon:"vertical_align_top"}}),M=new de({props:{icon:"vertical_align_center"}}),R=new de({props:{icon:"vertical_align_bottom"}}),z=new de({props:{icon:"format_bold"}}),fe=new de({props:{icon:"invert_colors"}}),ne=new de({props:{icon:"format_size"}}),ge=new de({props:{icon:"text_increase"}}),pe=new de({props:{icon:"text_decrease"}}),mt=new de({props:{icon:"density_medium"}}),xt=new de({props:{icon:"text_format"}});const Qt=[Sm,Em],rt=[];function Tn(ae,Oe){return ae[3]?0:1}return Et=Tn(t),zt=rt[Et]=Qt[Et](t),St=new de({props:{icon:"edit"}}),{c(){e=y("button"),te(n.$$.fragment),a=C(),s=y("button"),te(o.$$.fragment),u=C(),d=y("button"),te(h.$$.fragment),_=C(),g=y("div"),v=y("button"),S&&S.c(),L=C(),T=y("div"),P=y("button"),te(O.$$.fragment),A=C(),I=y("button"),te(M.$$.fragment),D=C(),x=y("button"),te(R.$$.fragment),V=C(),$=y("button"),te(z.$$.fragment),ie=C(),se=y("button"),te(fe.$$.fragment),$e=C(),Ae=y("div"),De=y("span"),te(ne.$$.fragment),Ce=C(),Pe=y("input"),We=C(),Be=y("button"),te(ge.$$.fragment),Ue=C(),ue=y("button"),te(pe.$$.fragment),Le=C(),le=y("div"),ve=y("span"),te(mt.$$.fragment),it=C(),qe=y("input"),nt=C(),Ge=y("div"),wt=y("span"),te(xt.$$.fragment),In=C(),zt.c(),jt=C(),Rt=y("button"),te(St.$$.fragment),m(e,"title",r=t[2]("params.text.align.left")),m(e,"class",i="btn btn-sm "+(t[0].textAlign==="left"?"btn-secondary":"")),m(s,"title",l=t[2]("params.text.align.center")),m(s,"class",c="btn btn-sm "+(t[0].textAlign==="center"?"btn-secondary":"")),m(d,"title",b=t[2]("params.text.align.right")),m(d,"class",p="btn btn-sm "+(t[0].textAlign==="right"?"btn-secondary":"")),m(v,"class","btn btn-sm dropdown-toggle"),m(v,"type","button"),m(v,"data-bs-toggle","dropdown"),m(v,"title",E=t[2]("params.text.vorigin")),m(P,"class",B="btn btn-sm "+(t[0].originY==="top"?"btn-secondary":"")),m(P,"title",k=t[2]("params.text.vorigin.top")),m(I,"class",q="btn btn-sm "+(t[0].originY==="center"?"btn-secondary":"")),m(I,"title",W=t[2]("params.text.vorigin.center")),m(x,"class",Q="btn btn-sm "+(t[0].originY==="bottom"?"btn-secondary":"")),m(x,"title",H=t[2]("params.text.vorigin.bottom")),m(T,"class","dropdown-menu p-2"),m(g,"class","dropdown"),m($,"class",F="btn btn-sm "+(t[0].fontWeight==="bold"?"btn-secondary":"")),m($,"title",j=t[2]("params.text.bold")),m(se,"class",Me="btn btn-sm "+(t[0].backgroundColor==="black"?"btn-secondary":"")),m(se,"title",me=t[2]("params.text.invert_colors")),m(De,"class","input-group-text"),m(De,"title",Te=t[2]("params.text.font_size")),m(Pe,"type","number"),m(Pe,"min","1"),m(Pe,"max","999"),m(Pe,"step","2"),m(Pe,"class","form-control"),m(Be,"class","btn btn-secondary"),m(Be,"title",ye=t[2]("params.text.font_size.up")),m(ue,"class","btn btn-secondary"),m(ue,"title",he=t[2]("params.text.font_size.down")),m(Ae,"class","input-group flex-nowrap input-group-sm font-size svelte-yc2w4w"),m(ve,"class","input-group-text"),m(ve,"title",ce=t[2]("params.text.line_height")),m(qe,"type","number"),m(qe,"min","0.1"),m(qe,"step","0.1"),m(qe,"max","10"),m(qe,"class","form-control"),m(le,"class","input-group flex-nowrap input-group-sm svelte-yc2w4w"),m(wt,"class","input-group-text"),m(wt,"title",mn=t[2]("params.text.font_family")),m(Ge,"class","input-group flex-nowrap input-group-sm font-family svelte-yc2w4w"),m(Rt,"class","btn btn-sm btn-secondary"),m(Rt,"title",bn=t[2]("params.text.edit"))},m(ae,Oe){Z(ae,e,Oe),X(n,e,null),Z(ae,a,Oe),Z(ae,s,Oe),X(o,s,null),Z(ae,u,Oe),Z(ae,d,Oe),X(h,d,null),Z(ae,_,Oe),Z(ae,g,Oe),f(g,v),~w&&Kt[w].m(v,null),f(g,L),f(g,T),f(T,P),X(O,P,null),f(T,A),f(T,I),X(M,I,null),f(T,D),f(T,x),X(R,x,null),Z(ae,V,Oe),Z(ae,$,Oe),X(z,$,null),Z(ae,ie,Oe),Z(ae,se,Oe),X(fe,se,null),Z(ae,$e,Oe),Z(ae,Ae,Oe),f(Ae,De),X(ne,De,null),f(Ae,Ce),f(Ae,Pe),Ee(Pe,t[0].fontSize),f(Ae,We),f(Ae,Be),X(ge,Be,null),f(Ae,Ue),f(Ae,ue),X(pe,ue,null),Z(ae,Le,Oe),Z(ae,le,Oe),f(le,ve),X(mt,ve,null),f(le,it),f(le,qe),Ee(qe,t[0].lineHeight),Z(ae,nt,Oe),Z(ae,Ge,Oe),f(Ge,wt),X(xt,wt,null),f(Ge,In),rt[Et].m(Ge,null),Z(ae,jt,Oe),Z(ae,Rt,Oe),X(St,Rt,null),xe=!0,Ot||(qn=[K(e,"click",t[15]),K(s,"click",t[16]),K(d,"click",t[17]),K(P,"click",t[18]),K(I,"click",t[19]),K(x,"click",t[20]),K($,"click",t[4]),K(se,"click",t[5]),K(Pe,"input",t[21]),K(Pe,"input",t[12]),K(Be,"click",t[8]),K(ue,"click",t[9]),K(qe,"input",t[22]),K(qe,"input",t[12]),K(Rt,"click",t[10])],Ot=!0)},p(ae,Oe){(!xe||Oe&4&&r!==(r=ae[2]("params.text.align.left")))&&m(e,"title",r),(!xe||Oe&3&&i!==(i="btn btn-sm "+(ae[0].textAlign==="left"?"btn-secondary":"")))&&m(e,"class",i),(!xe||Oe&4&&l!==(l=ae[2]("params.text.align.center")))&&m(s,"title",l),(!xe||Oe&3&&c!==(c="btn btn-sm "+(ae[0].textAlign==="center"?"btn-secondary":"")))&&m(s,"class",c),(!xe||Oe&4&&b!==(b=ae[2]("params.text.align.right")))&&m(d,"title",b),(!xe||Oe&3&&p!==(p="btn btn-sm "+(ae[0].textAlign==="right"?"btn-secondary":"")))&&m(d,"class",p);let on=w;w=sn(ae),w!==on&&(S&&(Qe(),U(Kt[on],1,1,()=>{Kt[on]=null}),Je()),~w?(S=Kt[w],S||(S=Kt[w]=Lt[w](ae),S.c()),N(S,1),S.m(v,null)):S=null),(!xe||Oe&4&&E!==(E=ae[2]("params.text.vorigin")))&&m(v,"title",E),(!xe||Oe&3&&B!==(B="btn btn-sm "+(ae[0].originY==="top"?"btn-secondary":"")))&&m(P,"class",B),(!xe||Oe&4&&k!==(k=ae[2]("params.text.vorigin.top")))&&m(P,"title",k),(!xe||Oe&3&&q!==(q="btn btn-sm "+(ae[0].originY==="center"?"btn-secondary":"")))&&m(I,"class",q),(!xe||Oe&4&&W!==(W=ae[2]("params.text.vorigin.center")))&&m(I,"title",W),(!xe||Oe&3&&Q!==(Q="btn btn-sm "+(ae[0].originY==="bottom"?"btn-secondary":"")))&&m(x,"class",Q),(!xe||Oe&4&&H!==(H=ae[2]("params.text.vorigin.bottom")))&&m(x,"title",H),(!xe||Oe&3&&F!==(F="btn btn-sm "+(ae[0].fontWeight==="bold"?"btn-secondary":"")))&&m($,"class",F),(!xe||Oe&4&&j!==(j=ae[2]("params.text.bold")))&&m($,"title",j),(!xe||Oe&3&&Me!==(Me="btn btn-sm "+(ae[0].backgroundColor==="black"?"btn-secondary":"")))&&m(se,"class",Me),(!xe||Oe&4&&me!==(me=ae[2]("params.text.invert_colors")))&&m(se,"title",me),(!xe||Oe&4&&Te!==(Te=ae[2]("params.text.font_size")))&&m(De,"title",Te),Oe&3&&ut(Pe.value)!==ae[0].fontSize&&Ee(Pe,ae[0].fontSize),(!xe||Oe&4&&ye!==(ye=ae[2]("params.text.font_size.up")))&&m(Be,"title",ye),(!xe||Oe&4&&he!==(he=ae[2]("params.text.font_size.down")))&&m(ue,"title",he),(!xe||Oe&4&&ce!==(ce=ae[2]("params.text.line_height")))&&m(ve,"title",ce),Oe&3&&ut(qe.value)!==ae[0].lineHeight&&Ee(qe,ae[0].lineHeight),(!xe||Oe&4&&mn!==(mn=ae[2]("params.text.font_family")))&&m(wt,"title",mn),zt.p(ae,Oe),(!xe||Oe&4&&bn!==(bn=ae[2]("params.text.edit")))&&m(Rt,"title",bn)},i(ae){xe||(N(n.$$.fragment,ae),N(o.$$.fragment,ae),N(h.$$.fragment,ae),N(S),N(O.$$.fragment,ae),N(M.$$.fragment,ae),N(R.$$.fragment,ae),N(z.$$.fragment,ae),N(fe.$$.fragment,ae),N(ne.$$.fragment,ae),N(ge.$$.fragment,ae),N(pe.$$.fragment,ae),N(mt.$$.fragment,ae),N(xt.$$.fragment,ae),N(zt),N(St.$$.fragment,ae),xe=!0)},o(ae){U(n.$$.fragment,ae),U(o.$$.fragment,ae),U(h.$$.fragment,ae),U(S),U(O.$$.fragment,ae),U(M.$$.fragment,ae),U(R.$$.fragment,ae),U(z.$$.fragment,ae),U(fe.$$.fragment,ae),U(ne.$$.fragment,ae),U(ge.$$.fragment,ae),U(pe.$$.fragment,ae),U(mt.$$.fragment,ae),U(xt.$$.fragment,ae),U(zt),U(St.$$.fragment,ae),xe=!1},d(ae){ae&&(G(e),G(a),G(s),G(u),G(d),G(_),G(g),G(V),G($),G(ie),G(se),G($e),G(Ae),G(Le),G(le),G(nt),G(Ge),G(jt),G(Rt)),ee(n),ee(o),ee(h),~w&&Kt[w].d(),ee(O),ee(M),ee(R),ee(z),ee(fe),ee(ne),ee(ge),ee(pe),ee(mt),ee(xt),rt[Et].d(),ee(St),Ot=!1,st(qn)}}}function km(t){let e,n;return e=new de({props:{icon:"vertical_align_bottom"}}),{c(){te(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){U(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function Tm(t){let e,n;return e=new de({props:{icon:"vertical_align_center"}}),{c(){te(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){U(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function Pm(t){let e,n;return e=new de({props:{icon:"vertical_align_top"}}),{c(){te(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){U(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function Em(t){let e,n,r;return{c(){e=y("input"),m(e,"type","text"),m(e,"class","form-control")},m(i,a){Z(i,e,a),Ee(e,t[0].fontFamily),n||(r=[K(e,"input",t[24]),K(e,"input",t[12])],n=!0)},p(i,a){a&3&&e.value!==i[0].fontFamily&&Ee(e,i[0].fontFamily)},i:gt,o:gt,d(i){i&&G(e),n=!1,st(r)}}}function Sm(t){let e,n,r,i,a,s,o,l,c=lt(t[1]),u=[];for(let d=0;d<c.length;d+=1)u[d]=Jl(Kl(t,c,d));return i=new de({props:{icon:"refresh"}}),{c(){e=y("select");for(let d=0;d<u.length;d+=1)u[d].c();n=C(),r=y("button"),te(i.$$.fragment),m(e,"class","form-select"),t[0].fontFamily===void 0&&dn(()=>t[23].call(e)),m(r,"class","btn btn-secondary"),m(r,"title",a=t[2]("params.text.fetch_fonts"))},m(d,h){Z(d,e,h);for(let b=0;b<u.length;b+=1)u[b]&&u[b].m(e,null);Pt(e,t[0].fontFamily,!0),Z(d,n,h),Z(d,r,h),X(i,r,null),s=!0,o||(l=[K(e,"change",t[23]),K(e,"change",t[12]),K(r,"click",t[11])],o=!0)},p(d,h){if(h&2){c=lt(d[1]);let b;for(b=0;b<c.length;b+=1){const p=Kl(d,c,b);u[b]?u[b].p(p,h):(u[b]=Jl(p),u[b].c(),u[b].m(e,null))}for(;b<u.length;b+=1)u[b].d(1);u.length=c.length}h&3&&Pt(e,d[0].fontFamily),(!s||h&4&&a!==(a=d[2]("params.text.fetch_fonts")))&&m(r,"title",a)},i(d){s||(N(i.$$.fragment,d),s=!0)},o(d){U(i.$$.fragment,d),s=!1},d(d){d&&(G(e),G(n),G(r)),kn(u,d),ee(i),o=!1,st(l)}}}function Jl(t){let e,n=t[25]+"",r,i;return{c(){e=y("option"),r=Y(n),e.__value=i=t[25],Ee(e,e.__value),yn(e,"font-family",t[25])},m(a,s){Z(a,e,s),f(e,r)},p(a,s){s&2&&n!==(n=a[25]+"")&&re(r,n),s&2&&i!==(i=a[25])&&(e.__value=i,Ee(e,e.__value)),s&2&&yn(e,"font-family",a[25])},d(a){a&&G(e)}}}function Am(t){let e,n,r=t[0]&&Ql(t);return{c(){r&&r.c(),e=er()},m(i,a){r&&r.m(i,a),Z(i,e,a),n=!0},p(i,[a]){i[0]?r?(r.p(i,a),a&1&&N(r,1)):(r=Ql(i),r.c(),N(r,1),r.m(e.parentNode,e)):r&&(Qe(),U(r,1,1,()=>{r=null}),Je())},i(i){n||(N(r),n=!0)},o(i){U(r),n=!1},d(i){i&&G(e),r&&r.d(i)}}}function Dm(t,e,n){let r;Ke(t,Mt,I=>n(2,r=I));let{selectedObject:i}=e,{valueUpdated:a}=e,s,o=typeof queryLocalFonts<"u",l=[Di.fontFamily];const c=()=>{s.fontWeight==="bold"?n(0,s.fontWeight="normal",s):n(0,s.fontWeight="bold",s),v()},u=()=>{s.backgroundColor==="black"?s.set({backgroundColor:"transparent",fill:"black"}):s.set({backgroundColor:"black",fill:"white"}),v()},d=I=>{n(0,s.textAlign=I,s);const M=s.getPointByOrigin("left","top");n(0,s.originX=I,s),s.setPositionByOrigin(M,"left","top"),v()},h=I=>{const M=s.getPointByOrigin("left","top");n(0,s.originY=I,s),s.setPositionByOrigin(M,"left","top"),v()},b=()=>{n(0,s.fontSize+=s.fontSize>40?10:2,s),v()},p=()=>{n(0,s.fontSize-=s.fontSize>40?10:2,s),v()},_=()=>{const I=prompt(r("params.text.edit.title"),s.text);I!==null&&(s.set({text:I}),v())},g=async()=>{try{const I=await queryLocalFonts();n(1,l=[Di.fontFamily,...new Set(I.map(M=>M.family))].sort()),console.log(l)}catch(I){ht.error(I)}},v=()=>{n(0,s.fontSize=Math.max(s.fontSize,1),s),a()},w=()=>d("left"),S=()=>d("center"),E=()=>d("right"),L=()=>h("top"),T=()=>h("center"),P=()=>h("bottom");function O(){s.fontSize=ut(this.value),n(0,s),n(13,i),n(1,l)}function B(){s.lineHeight=ut(this.value),n(0,s),n(13,i),n(1,l)}function k(){s.fontFamily=xn(this),n(0,s),n(13,i),n(1,l)}function A(){s.fontFamily=this.value,n(0,s),n(13,i),n(1,l)}return t.$$set=I=>{"selectedObject"in I&&n(13,i=I.selectedObject),"valueUpdated"in I&&n(14,a=I.valueUpdated)},t.$$.update=()=>{t.$$.dirty&8192&&n(0,s=i instanceof et.fabric.IText?i:void 0)},[s,l,r,o,c,u,d,h,b,p,_,g,v,i,a,w,S,E,L,T,P,O,B,k,A]}class Om extends yt{constructor(e){super(),vt(this,e,Dm,Am,_t,{selectedObject:13,valueUpdated:14})}}function Lm(t){let e,n,r,i,a,s,o,l,c,u=t[0]("params.variables.insert.datetime")+"",d,h,b,p,_,g=t[0]("params.variables.insert.date")+"",v,w,S,E,L,T=t[0]("params.variables.insert.time")+"",P,O,B,k,A;return r=new de({props:{icon:"data_object"}}),l=new de({props:{icon:"calendar_today"}}),p=new de({props:{icon:"calendar_today"}}),E=new de({props:{icon:"schedule"}}),{c(){e=y("div"),n=y("button"),te(r.$$.fragment),i=C(),a=y("div"),s=y("div"),o=y("button"),te(l.$$.fragment),c=C(),d=Y(u),h=C(),b=y("button"),te(p.$$.fragment),_=C(),v=Y(g),w=C(),S=y("button"),te(E.$$.fragment),L=C(),P=Y(T),m(n,"class","btn btn-sm btn-secondary dropdown-toggle"),m(n,"data-bs-toggle","dropdown"),m(n,"data-bs-auto-close","outside"),m(o,"class","btn btn-secondary btn-sm"),m(b,"class","btn btn-secondary btn-sm"),m(S,"class","btn btn-secondary btn-sm"),m(s,"class","d-flex gap-1 flex-wrap"),m(a,"class","dropdown-menu px-2"),m(e,"class","btn-group btn-group-sm"),m(e,"role","group"),m(e,"title",O=t[0]("params.variables.insert"))},m(I,M){Z(I,e,M),f(e,n),X(r,n,null),f(e,i),f(e,a),f(a,s),f(s,o),X(l,o,null),f(o,c),f(o,d),f(s,h),f(s,b),X(p,b,null),f(b,_),f(b,v),f(s,w),f(s,S),X(E,S,null),f(S,L),f(S,P),B=!0,k||(A=[K(o,"click",t[4]),K(b,"click",t[5]),K(S,"click",t[6])],k=!0)},p(I,[M]){(!B||M&1)&&u!==(u=I[0]("params.variables.insert.datetime")+"")&&re(d,u),(!B||M&1)&&g!==(g=I[0]("params.variables.insert.date")+"")&&re(v,g),(!B||M&1)&&T!==(T=I[0]("params.variables.insert.time")+"")&&re(P,T),(!B||M&1&&O!==(O=I[0]("params.variables.insert")))&&m(e,"title",O)},i(I){B||(N(r.$$.fragment,I),N(l.$$.fragment,I),N(p.$$.fragment,I),N(E.$$.fragment,I),B=!0)},o(I){U(r.$$.fragment,I),U(l.$$.fragment,I),U(p.$$.fragment,I),U(E.$$.fragment,I),B=!1},d(I){I&&G(e),ee(r),ee(l),ee(p),ee(E),k=!1,st(A)}}}function Cm(t,e,n){let r;Ke(t,Mt,u=>n(0,r=u));let{selectedObject:i}=e,{valueUpdated:a}=e;const s=u=>{let d="{dt}";u&&(d=`{dt|${u}}`),i instanceof et.fabric.IText?(i.exitEditing(),i.set({text:`${i.text}${d}`})):i instanceof Yn?i.set({text:`${i.text}${d}`}):i instanceof jn&&i.set({text:`${i.text}${d}`}),a()},o=()=>s(),l=()=>s("YYYY-MM-DD"),c=()=>s("HH:mm:ss");return t.$$set=u=>{"selectedObject"in u&&n(2,i=u.selectedObject),"valueUpdated"in u&&n(3,a=u.valueUpdated)},[r,s,i,a,o,l,c]}class Im extends yt{constructor(e){super(),vt(this,e,Cm,Lm,_t,{selectedObject:2,valueUpdated:3})}}const so=class so{static cloneObject(e,n){return new Promise(r=>{n.clone(i=>{i.snapAngle=un.snapAngle,i.top+=vr,i.left+=vr,e.add(i),e.setActiveObject(i),r()})})}static moveSelection(e,n,r){const i=e.getActiveObjects(),a=r?1:vr;i.forEach(s=>{n==="left"?s.left=Math.round(s.left)-a:n==="right"?s.left=Math.round(s.left)+a:n==="up"?s.top=Math.round(s.top)-a:n==="down"&&(s.top=Math.round(s.top)+a),s.setCoords()}),e.requestRenderAll()}static deleteSelection(e){e.getActiveObjects().forEach(r=>{e.remove(r)})}};so.isAnyInputFocused=e=>{const n=document.activeElement;return!!(n!==null&&(n.tagName==="INPUT"||n.tagName==="TEXTAREA")||e.getActiveObjects().some(a=>a instanceof et.fabric.IText&&a.isEditing))};let br=so;function Xl(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function Bm(t){let e,n,r,i,a;n=new de({props:{icon:"delete"}});function s(...o){return t[16](t[20],...o)}return{c(){e=y("button"),te(n.$$.fragment),m(e,"class","remove btn text-danger-emphasis svelte-12aqlao")},m(o,l){Z(o,e,l),X(n,e,null),r=!0,i||(a=K(e,"click",s),i=!0)},p(o,l){t=o},i(o){r||(N(n.$$.fragment,o),r=!0)},o(o){U(n.$$.fragment,o),r=!1},d(o){o&&G(e),ee(n),i=!1,a()}}}function Nm(t){let e,n,r,i,a,s,o,l;n=new de({props:{icon:"delete"}});function c(...u){return t[14](t[20],...u)}return a=new de({props:{icon:"close"}}),{c(){e=y("button"),te(n.$$.fragment),r=C(),i=y("button"),te(a.$$.fragment),m(e,"class","remove btn text-danger-emphasis svelte-12aqlao"),m(i,"class","remove btn text-success svelte-12aqlao")},m(u,d){Z(u,e,d),X(n,e,null),Z(u,r,d),Z(u,i,d),X(a,i,null),s=!0,o||(l=[K(e,"click",c),K(i,"click",t[15])],o=!0)},p(u,d){t=u},i(u){s||(N(n.$$.fragment,u),N(a.$$.fragment,u),s=!0)},o(u){U(n.$$.fragment,u),U(a.$$.fragment,u),s=!1},d(u){u&&(G(e),G(r),G(i)),ee(n),ee(a),o=!1,st(l)}}}function ec(t){let e,n;return{c(){e=y("img"),m(e,"class","thumbnail svelte-12aqlao"),Oo(e.src,n=t[18].thumbnailBase64)||m(e,"src",n),m(e,"alt","thumbnail")},m(r,i){Z(r,e,i)},p(r,i){i&2&&!Oo(e.src,n=r[18].thumbnailBase64)&&m(e,"src",n)},d(r){r&&G(e)}}}function tc(t){let e,n=t[18].title+"",r;return{c(){e=y("span"),r=Y(n),m(e,"class","label p-1 svelte-12aqlao")},m(i,a){Z(i,e,a),f(e,r)},p(i,a){a&2&&n!==(n=i[18].title+"")&&re(r,n)},d(i){i&&G(e)}}}function nc(t){let e,n,r,i,a,s,o,l,c,u,d,h,b,p,_,g,v;a=new de({props:{icon:"download"}});function w(...B){return t[13](t[20],...B)}const S=[Nm,Bm],E=[];function L(B,k){return B[3]===B[20]?0:1}l=L(t),c=E[l]=S[l](t);let T=t[18].thumbnailBase64&&ec(t),P=t[18].title&&tc(t);function O(){return t[17](t[20])}return{c(){e=y("button"),n=y("div"),r=y("div"),i=y("button"),te(a.$$.fragment),o=C(),c.c(),u=C(),T&&T.c(),d=C(),P&&P.c(),b=C(),m(i,"class","btn text-primary-emphasis svelte-12aqlao"),m(i,"title",s=t[4]("params.saved_labels.save.json")),m(r,"class","buttons d-flex svelte-12aqlao"),m(n,"class",h="card print-start-"+t[18].label.printDirection+" d-flex justify-content-center align-items-center svelte-12aqlao"),yn(n,"width",t[5](t[18].label).width+"%"),yn(n,"height",t[5](t[18].label).height+"%"),m(e,"class",p="btn p-0 card-wrapper d-flex justify-content-center align-items-center "+(t[2]===t[20]?"border-primary":"")+" svelte-12aqlao")},m(B,k){Z(B,e,k),f(e,n),f(n,r),f(r,i),X(a,i,null),f(r,o),E[l].m(r,null),f(n,u),T&&T.m(n,null),f(n,d),P&&P.m(n,null),f(e,b),_=!0,g||(v=[K(i,"click",w),K(e,"click",O)],g=!0)},p(B,k){t=B,(!_||k&16&&s!==(s=t[4]("params.saved_labels.save.json")))&&m(i,"title",s);let A=l;l=L(t),l===A?E[l].p(t,k):(Qe(),U(E[A],1,1,()=>{E[A]=null}),Je(),c=E[l],c?c.p(t,k):(c=E[l]=S[l](t),c.c()),N(c,1),c.m(r,null)),t[18].thumbnailBase64?T?T.p(t,k):(T=ec(t),T.c(),T.m(n,d)):T&&(T.d(1),T=null),t[18].title?P?P.p(t,k):(P=tc(t),P.c(),P.m(n,null)):P&&(P.d(1),P=null),(!_||k&2&&h!==(h="card print-start-"+t[18].label.printDirection+" d-flex justify-content-center align-items-center svelte-12aqlao"))&&m(n,"class",h),(!_||k&2)&&yn(n,"width",t[5](t[18].label).width+"%"),(!_||k&2)&&yn(n,"height",t[5](t[18].label).height+"%"),(!_||k&4&&p!==(p="btn p-0 card-wrapper d-flex justify-content-center align-items-center "+(t[2]===t[20]?"border-primary":"")+" svelte-12aqlao"))&&m(e,"class",p)},i(B){_||(N(a.$$.fragment,B),N(c),_=!0)},o(B){U(a.$$.fragment,B),U(c),_=!1},d(B){B&&G(e),ee(a),E[l].d(),T&&T.d(),P&&P.d(),g=!1,st(v)}}}function Mm(t){let e,n,r,i=lt(t[1]),a=[];for(let o=0;o<i.length;o+=1)a[o]=nc(Xl(t,i,o));const s=o=>U(a[o],1,1,()=>{a[o]=null});return{c(){e=y("div");for(let o=0;o<a.length;o+=1)a[o].c();m(e,"class",n="labels-browser overflow-y-auto border d-flex p-2 gap-1 flex-wrap "+t[10].class+" svelte-12aqlao")},m(o,l){Z(o,e,l);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);r=!0},p(o,[l]){if(l&1023){i=lt(o[1]);let c;for(c=0;c<i.length;c+=1){const u=Xl(o,i,c);a[c]?(a[c].p(u,l),N(a[c],1)):(a[c]=nc(u),a[c].c(),N(a[c],1),a[c].m(e,null))}for(Qe(),c=i.length;c<a.length;c+=1)s(c);Je()}(!r||l&1024&&n!==(n="labels-browser overflow-y-auto border d-flex p-2 gap-1 flex-wrap "+o[10].class+" svelte-12aqlao"))&&m(e,"class",n)},i(o){if(!r){for(let l=0;l<i.length;l+=1)N(a[l]);r=!0}},o(o){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)U(a[l]);r=!1},d(o){o&&G(e),kn(a,o)}}}function xm(t,e,n){let r;Ke(t,Mt,E=>n(4,r=E));let{onItemClicked:i}=e,{onItemDelete:a}=e,{onItemExport:s}=e,{labels:o}=e,{selectedIndex:l=-1}=e,c=-1;const u=E=>{const L=Math.min(100/E.size.width,100/E.size.height);return{width:Math.round(E.size.width*L),height:Math.round(E.size.height*L)}},d=(E,L)=>{E.stopPropagation(),n(3,c=-1),a(L)},h=E=>{E.stopPropagation(),n(3,c=-1)},b=(E,L)=>{E.stopPropagation(),n(3,c=L)},p=(E,L)=>{E.stopPropagation(),s(L)},_=(E,L)=>p(L,E),g=(E,L)=>d(L,E),v=E=>h(E),w=(E,L)=>b(L,E),S=E=>i(E);return t.$$set=E=>{n(10,e=Hr(Hr({},e),Si(E))),"onItemClicked"in E&&n(0,i=E.onItemClicked),"onItemDelete"in E&&n(11,a=E.onItemDelete),"onItemExport"in E&&n(12,s=E.onItemExport),"labels"in E&&n(1,o=E.labels),"selectedIndex"in E&&n(2,l=E.selectedIndex)},e=Si(e),[i,o,l,c,r,u,d,h,b,p,e,a,s,_,g,v,w,S]}class jm extends yt{constructor(e){super(),vt(this,e,xm,Mm,_t,{onItemClicked:0,onItemDelete:11,onItemExport:12,labels:1,selectedIndex:2})}}function rc(t){let e,n,r,i=t[5]("params.saved_labels.save.browser.replace")+"",a,s,o,l,c,u=t[5]("params.saved_labels.load.browser")+"",d,h,b,p;return n=new de({props:{icon:"edit_note"}}),l=new de({props:{icon:"folder"}}),{c(){e=y("button"),te(n.$$.fragment),r=C(),a=Y(i),s=C(),o=y("button"),te(l.$$.fragment),c=C(),d=Y(u),m(e,"class","btn btn-sm btn-secondary"),m(o,"class","btn btn-sm btn-primary")},m(_,g){Z(_,e,g),X(n,e,null),f(e,r),f(e,a),Z(_,s,g),Z(_,o,g),X(l,o,null),f(o,c),f(o,d),h=!0,b||(p=[K(e,"click",t[9]),K(o,"click",t[12])],b=!0)},p(_,g){(!h||g&32)&&i!==(i=_[5]("params.saved_labels.save.browser.replace")+"")&&re(a,i),(!h||g&32)&&u!==(u=_[5]("params.saved_labels.load.browser")+"")&&re(d,u)},i(_){h||(N(n.$$.fragment,_),N(l.$$.fragment,_),h=!0)},o(_){U(n.$$.fragment,_),U(l.$$.fragment,_),h=!1},d(_){_&&(G(e),G(s),G(o)),ee(n),ee(l),b=!1,st(p)}}}function Rm(t){let e,n,r,i,a,s,o=t[5]("params.saved_labels.menu_title")+"",l,c,u,d,h=t[5]("params.saved_labels.kb_used")+"",b,p,_,g,v,w,S,E=t[5]("params.saved_labels.load.json")+"",L,T,P,O,B,k,A=t[5]("params.saved_labels.save.json")+"",I,M,q,W,D,x,R,Q,H,V,$,z,F=t[5]("params.saved_labels.label_title")+"",j,ie,se,fe,Me,me,$e,Ae=t[5]("params.saved_labels.make_default")+"",De,ne,Te,Ce,Pe,We=t[5]("params.saved_labels.save.browser")+"",Be,ge,ye,Ue,ue;r=new de({props:{icon:"sd_storage"}}),w=new de({props:{icon:"data_object"}}),B=new de({props:{icon:"data_object"}}),H=new jm({props:{class:"mb-1",selectedIndex:t[2],labels:t[1],onItemClicked:t[6],onItemDelete:t[8],onItemExport:t[7]}}),Ce=new de({props:{icon:"save"}});let pe=t[2]!==-1&&rc(t);return{c(){e=y("div"),n=y("button"),te(r.$$.fragment),i=C(),a=y("div"),s=y("h6"),l=Y(o),c=Y(" - "),u=Y(t[4]),d=C(),b=Y(h),p=C(),_=y("div"),g=y("div"),v=y("button"),te(w.$$.fragment),S=C(),L=Y(E),T=C(),P=y("div"),O=y("button"),te(B.$$.fragment),k=C(),I=Y(A),M=C(),q=y("button"),q.innerHTML="",W=C(),D=y("ul"),x=y("li"),R=y("button"),R.textContent="PNG",Q=C(),te(H.$$.fragment),V=C(),$=y("div"),z=y("span"),j=Y(F),ie=C(),se=y("input"),Me=C(),me=y("div"),$e=y("button"),De=Y(Ae),ne=C(),Te=y("button"),te(Ce.$$.fragment),Pe=C(),Be=Y(We),ge=C(),pe&&pe.c(),m(n,"class","btn btn-sm btn-secondary"),m(n,"data-bs-toggle","dropdown"),m(n,"data-bs-auto-close","outside"),m(s,"class","dropdown-header text-wrap"),m(v,"class","btn btn-sm btn-outline-secondary"),m(O,"class","btn btn-outline-secondary"),m(q,"type","button"),m(q,"class","btn btn-outline-secondary dropdown-toggle dropdown-toggle-split"),m(q,"data-bs-toggle","dropdown"),m(R,"class","dropdown-item"),m(D,"class","dropdown-menu"),m(P,"class","btn-group btn-group-sm"),m(g,"class","p-1"),m(z,"class","input-group-text"),m(se,"class","form-control"),m(se,"type","text"),m(se,"placeholder",fe=t[5]("params.saved_labels.label_title.placeholder")),m($,"class","input-group flex-nowrap input-group-sm mb-3"),m($e,"class","btn btn-sm text-secondary make-default svelte-1j8gtpw"),m(Te,"class","btn btn-sm btn-secondary"),m(me,"class","d-flex gap-1 flex-wrap justify-content-end"),m(_,"class","px-3"),m(a,"class","saved-labels dropdown-menu svelte-1j8gtpw"),m(e,"class","dropdown")},m(he,Le){Z(he,e,Le),f(e,n),X(r,n,null),f(e,i),f(e,a),f(a,s),f(s,l),f(s,c),f(s,u),f(s,d),f(s,b),f(a,p),f(a,_),f(_,g),f(g,v),X(w,v,null),f(v,S),f(v,L),f(g,T),f(g,P),f(P,O),X(B,O,null),f(O,k),f(O,I),f(P,M),f(P,q),f(P,W),f(P,D),f(D,x),f(x,R),f(_,Q),X(H,_,null),f(_,V),f(_,$),f($,z),f(z,j),f($,ie),f($,se),Ee(se,t[3]),f(_,Me),f(_,me),f(me,$e),f($e,De),f(me,ne),f(me,Te),X(Ce,Te,null),f(Te,Pe),f(Te,Be),f(me,ge),pe&&pe.m(me,null),t[20](a),ye=!0,Ue||(ue=[K(v,"click",t[13]),K(O,"click",t[14]),K(R,"click",t[15]),K(se,"input",t[19]),K($e,"click",t[10]),K(Te,"click",t[11])],Ue=!0)},p(he,[Le]){(!ye||Le&32)&&o!==(o=he[5]("params.saved_labels.menu_title")+"")&&re(l,o),(!ye||Le&16)&&re(u,he[4]),(!ye||Le&32)&&h!==(h=he[5]("params.saved_labels.kb_used")+"")&&re(b,h),(!ye||Le&32)&&E!==(E=he[5]("params.saved_labels.load.json")+"")&&re(L,E),(!ye||Le&32)&&A!==(A=he[5]("params.saved_labels.save.json")+"")&&re(I,A);const le={};Le&4&&(le.selectedIndex=he[2]),Le&2&&(le.labels=he[1]),H.$set(le),(!ye||Le&32)&&F!==(F=he[5]("params.saved_labels.label_title")+"")&&re(j,F),(!ye||Le&32&&fe!==(fe=he[5]("params.saved_labels.label_title.placeholder")))&&m(se,"placeholder",fe),Le&8&&se.value!==he[3]&&Ee(se,he[3]),(!ye||Le&32)&&Ae!==(Ae=he[5]("params.saved_labels.make_default")+"")&&re(De,Ae),(!ye||Le&32)&&We!==(We=he[5]("params.saved_labels.save.browser")+"")&&re(Be,We),he[2]!==-1?pe?(pe.p(he,Le),Le&4&&N(pe,1)):(pe=rc(he),pe.c(),N(pe,1),pe.m(me,null)):pe&&(Qe(),U(pe,1,1,()=>{pe=null}),Je())},i(he){ye||(N(r.$$.fragment,he),N(w.$$.fragment,he),N(B.$$.fragment,he),N(H.$$.fragment,he),N(Ce.$$.fragment,he),N(pe),ye=!0)},o(he){U(r.$$.fragment,he),U(w.$$.fragment,he),U(B.$$.fragment,he),U(H.$$.fragment,he),U(Ce.$$.fragment,he),U(pe),ye=!1},d(he){he&&G(e),ee(r),ee(w),ee(B),ee(H),ee(Ce),pe&&pe.d(),t[20](null),Ue=!1,st(ue)}}}function $m(t,e,n){let r;Ke(t,Mt,k=>n(5,r=k));let{onRequestLabelTemplate:i}=e,{onLoadRequested:a}=e,{canvas:s}=e,o,l=[],c=-1,u="",d=0;const h=()=>{n(4,d=Dt.usedSpace())},b=k=>{n(2,c=k),n(3,u=l[k].title??"")},p=k=>{try{An.saveLabelAsJson(l[k])}catch(A){ht.zodErrors(A,"Canvas save error:")}},_=k=>{n(2,c=-1);const A=[...l];A.splice(k,1),Dt.saveLabels(A),n(1,l=A),n(3,u=""),h()},g=k=>{const{zodErrors:A,otherErrors:I}=Dt.saveLabels(k);A.forEach(M=>ht.zodErrors(M,"Label save error")),I.forEach(M=>ht.error(M)),A.length===0&&I.length===0&&n(1,l=k),h()},v=()=>{if(c===-1||!confirm(r("editor.warning.save")))return;const k=i();k.title=u;const A=[...l];A[c]=k,g(A)},w=()=>{const k=i();k.title=u,k.thumbnailBase64=void 0,Ma.update(A=>({...A,loadLabelTemplate:k})),h()},S=()=>{const k=i();k.title=u;const A=[...l,k];g(A)},E=()=>{c!==-1&&confirm(r("editor.warning.load"))&&(a(l[c]),new ys(o).hide())},L=async()=>{const k=await An.pickAndReadTextFile("json"),A=JSON.parse(k);if(confirm(r("editor.warning.load")))try{a(Ur.parse(A)),new ys(o).hide()}catch(I){ht.zodErrors(I,"Canvas load error:")}},T=()=>{try{An.saveLabelAsJson(i())}catch(k){ht.zodErrors(k,"Canvas save error:")}},P=()=>{try{An.saveCanvasAsPng(s)}catch(k){ht.zodErrors(k,"Canvas save error:")}};Xr(()=>{n(1,l=Dt.loadLabels()),h()});function O(){u=this.value,n(3,u)}function B(k){Pr[k?"unshift":"push"](()=>{o=k,n(0,o)})}return t.$$set=k=>{"onRequestLabelTemplate"in k&&n(16,i=k.onRequestLabelTemplate),"onLoadRequested"in k&&n(17,a=k.onLoadRequested),"canvas"in k&&n(18,s=k.canvas)},[o,l,c,u,d,r,b,p,_,v,w,S,E,L,T,P,i,a,s,O,B]}class Um extends yt{constructor(e){super(),vt(this,e,$m,Rm,_t,{onRequestLabelTemplate:16,onLoadRequested:17,canvas:18})}}function ic(t){let e,n,r,i,a,s;return n=new de({props:{icon:"delete"}}),{c(){e=y("button"),te(n.$$.fragment),m(e,"class","btn btn-sm btn-danger me-1"),m(e,"title",r=t[12]("editor.delete"))},m(o,l){Z(o,e,l),X(n,e,null),i=!0,a||(s=K(e,"click",t[14]),a=!0)},p(o,l){(!i||l[0]&4096&&r!==(r=o[12]("editor.delete")))&&m(e,"title",r)},i(o){i||(N(n.$$.fragment,o),i=!0)},o(o){U(n.$$.fragment,o),i=!1},d(o){o&&G(e),ee(n),a=!1,s()}}}function ac(t){let e,n,r,i,a,s,o,l;return n=new de({props:{icon:"content_copy"}}),a=new k_({props:{selectedObject:t[5],valueUpdated:t[26]}}),{c(){e=y("button"),te(n.$$.fragment),i=C(),te(a.$$.fragment),m(e,"class","btn btn-sm btn-secondary me-1"),m(e,"title",r=t[12]("editor.clone"))},m(c,u){Z(c,e,u),X(n,e,null),Z(c,i,u),X(a,c,u),s=!0,o||(l=K(e,"click",t[15]),o=!0)},p(c,u){(!s||u[0]&4096&&r!==(r=c[12]("editor.clone")))&&m(e,"title",r);const d={};u[0]&32&&(d.selectedObject=c[5]),a.$set(d)},i(c){s||(N(n.$$.fragment,c),N(a.$$.fragment,c),s=!0)},o(c){U(n.$$.fragment,c),U(a.$$.fragment,c),s=!1},d(c){c&&(G(e),G(i)),ee(n),ee(a,c),o=!1,l()}}}function sc(t){let e,n;return e=new Om({props:{selectedObject:t[5],valueUpdated:t[26]}}),{c(){te(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,i){const a={};i[0]&32&&(a.selectedObject=r[5]),e.$set(a)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){U(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function oc(t){let e,n;return e=new wm({props:{selectedObject:t[5],valueUpdated:t[26]}}),{c(){te(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,i){const a={};i[0]&32&&(a.selectedObject=r[5]),e.$set(a)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){U(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function lc(t){let e,n;return e=new d_({props:{selectedObject:t[5],valueUpdated:t[26]}}),{c(){te(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,i){const a={};i[0]&32&&(a.selectedObject=r[5]),e.$set(a)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){U(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function cc(t){let e,n;return e=new Im({props:{selectedObject:t[5],valueUpdated:t[26]}}),{c(){te(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,i){const a={};i[0]&32&&(a.selectedObject=r[5]),e.$set(a)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){U(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function uc(t){let e,n;return e=new gm({props:{onClosed:t[23],canvasCallback:t[27],labelProps:t[3],printNow:t[7],csvEnabled:t[9],csvData:t[8]}}),{c(){te(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,i){const a={};i[0]&8&&(a.labelProps=r[3]),i[0]&128&&(a.printNow=r[7]),i[0]&512&&(a.csvEnabled=r[9]),i[0]&256&&(a.csvData=r[8]),e.$set(a)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){U(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function Vm(t){let e,n,r,i,a,s,o,l,c,u,d,h,b,p,_,g,v,w,S,E,L,T,P,O,B,k,A,I,M,q,W,D,x,R=t[12]("editor.preview")+"",Q,H,V,$,z,F=t[12]("editor.print")+"",j,ie,se,fe,Me,me,$e,Ae,De,ne,Te,Ce,Pe,We,Be;d=new $_({props:{labelProps:t[3],onChange:t[17]}}),b=new Um({props:{canvas:t[2],onRequestLabelTemplate:t[18],onLoadRequested:t[19]}}),g=new de({props:{icon:"undo"}}),L=new de({props:{icon:"redo"}}),B=new v_({props:{csv:t[8],enabled:t[9],onUpdate:t[28],onPlaceholderPicked:t[29]}}),A=new E_({props:{onSubmit:t[22]}}),M=new G_({props:{onSubmit:t[21],labelProps:t[3],zplImageReady:t[20]}}),D=new de({props:{icon:"visibility"}}),$=new de({props:{icon:"print"}});let ge=t[6]>0&&ic(t),ye=t[5]&&t[6]===1&&ac(t),Ue=t[5]instanceof t[0].IText&&sc(t),ue=t[5]instanceof Yn&&oc(t),pe=t[5]instanceof jn&&lc(t),he=(t[5]instanceof t[0].IText||t[5]instanceof Yn||t[5]instanceof jn&&t[5].encoding==="CODE128B")&&cc(t),Le=t[4]&&uc(t);return{c(){e=y("div"),n=y("div"),r=y("div"),i=y("div"),a=y("canvas"),o=C(),l=y("div"),c=y("div"),u=y("div"),te(d.$$.fragment),h=C(),te(b.$$.fragment),p=C(),_=y("button"),te(g.$$.fragment),S=C(),E=y("button"),te(L.$$.fragment),O=C(),te(B.$$.fragment),k=C(),te(A.$$.fragment),I=C(),te(M.$$.fragment),q=C(),W=y("button"),te(D.$$.fragment),x=C(),Q=Y(R),H=C(),V=y("button"),te($.$$.fragment),z=C(),j=Y(F),se=C(),fe=y("div"),Me=y("div"),me=y("div"),ge&&ge.c(),$e=C(),ye&&ye.c(),Ae=C(),Ue&&Ue.c(),De=C(),ue&&ue.c(),ne=C(),pe&&pe.c(),Te=C(),he&&he.c(),Ce=C(),Le&&Le.c(),m(a,"class","svelte-18hocb6"),m(i,"class",s="canvas-wrapper print-start-"+t[3].printDirection+" svelte-18hocb6"),m(r,"class","col d-flex justify-content-center"),m(n,"class","row mb-3"),m(_,"class","btn btn-sm btn-secondary"),_.disabled=v=t[11].undoDisabled,m(_,"title",w=t[12]("editor.undo")),m(E,"class","btn btn-sm btn-secondary"),E.disabled=T=t[11].redoDisabled,m(E,"title",P=t[12]("editor.redo")),m(W,"class","btn btn-sm btn-primary ms-1"),m(V,"title","Print with default or saved parameters"),m(V,"class","btn btn-sm btn-primary ms-1"),V.disabled=ie=t[13]!=="connected",m(u,"class","toolbar d-flex flex-wrap gap-1 justify-content-center align-items-center"),m(c,"class","col d-flex justify-content-center"),m(l,"class","row mb-1"),m(me,"class","toolbar d-flex flex-wrap gap-1 justify-content-center align-items-center"),m(Me,"class","col d-flex justify-content-center"),m(fe,"class","row mb-1"),m(e,"class","image-editor")},m(le,ve){Z(le,e,ve),f(e,n),f(n,r),f(r,i),f(i,a),t[31](a),f(e,o),f(e,l),f(l,c),f(c,u),X(d,u,null),f(u,h),X(b,u,null),f(u,p),f(u,_),X(g,_,null),f(u,S),f(u,E),X(L,E,null),f(u,O),X(B,u,null),f(u,k),X(A,u,null),f(u,I),X(M,u,null),f(u,q),f(u,W),X(D,W,null),f(W,x),f(W,Q),f(u,H),f(u,V),X($,V,null),f(V,z),f(V,j),f(e,se),f(e,fe),f(fe,Me),f(Me,me),ge&&ge.m(me,null),f(me,$e),ye&&ye.m(me,null),f(me,Ae),Ue&&Ue.m(me,null),f(me,De),ue&&ue.m(me,null),f(me,ne),pe&&pe.m(me,null),f(me,Te),he&&he.m(me,null),f(e,Ce),Le&&Le.m(e,null),Pe=!0,We||(Be=[K(window,"keydown",t[16]),K(window,"paste",t[30]),K(_,"click",t[32]),K(E,"click",t[33]),K(W,"click",t[24]),K(V,"click",t[25])],We=!0)},p(le,ve){(!Pe||ve[0]&8&&s!==(s="canvas-wrapper print-start-"+le[3].printDirection+" svelte-18hocb6"))&&m(i,"class",s);const mt={};ve[0]&8&&(mt.labelProps=le[3]),d.$set(mt);const ce={};ve[0]&4&&(ce.canvas=le[2]),b.$set(ce),(!Pe||ve[0]&2048&&v!==(v=le[11].undoDisabled))&&(_.disabled=v),(!Pe||ve[0]&4096&&w!==(w=le[12]("editor.undo")))&&m(_,"title",w),(!Pe||ve[0]&2048&&T!==(T=le[11].redoDisabled))&&(E.disabled=T),(!Pe||ve[0]&4096&&P!==(P=le[12]("editor.redo")))&&m(E,"title",P);const it={};ve[0]&256&&(it.csv=le[8]),ve[0]&512&&(it.enabled=le[9]),B.$set(it);const qe={};ve[0]&8&&(qe.labelProps=le[3]),M.$set(qe),(!Pe||ve[0]&4096)&&R!==(R=le[12]("editor.preview")+"")&&re(Q,R),(!Pe||ve[0]&4096)&&F!==(F=le[12]("editor.print")+"")&&re(j,F),(!Pe||ve[0]&8192&&ie!==(ie=le[13]!=="connected"))&&(V.disabled=ie),le[6]>0?ge?(ge.p(le,ve),ve[0]&64&&N(ge,1)):(ge=ic(le),ge.c(),N(ge,1),ge.m(me,$e)):ge&&(Qe(),U(ge,1,1,()=>{ge=null}),Je()),le[5]&&le[6]===1?ye?(ye.p(le,ve),ve[0]&96&&N(ye,1)):(ye=ac(le),ye.c(),N(ye,1),ye.m(me,Ae)):ye&&(Qe(),U(ye,1,1,()=>{ye=null}),Je()),le[5]instanceof le[0].IText?Ue?(Ue.p(le,ve),ve[0]&33&&N(Ue,1)):(Ue=sc(le),Ue.c(),N(Ue,1),Ue.m(me,De)):Ue&&(Qe(),U(Ue,1,1,()=>{Ue=null}),Je()),le[5]instanceof Yn?ue?(ue.p(le,ve),ve[0]&32&&N(ue,1)):(ue=oc(le),ue.c(),N(ue,1),ue.m(me,ne)):ue&&(Qe(),U(ue,1,1,()=>{ue=null}),Je()),le[5]instanceof jn?pe?(pe.p(le,ve),ve[0]&32&&N(pe,1)):(pe=lc(le),pe.c(),N(pe,1),pe.m(me,Te)):pe&&(Qe(),U(pe,1,1,()=>{pe=null}),Je()),le[5]instanceof le[0].IText||le[5]instanceof Yn||le[5]instanceof jn&&le[5].encoding==="CODE128B"?he?(he.p(le,ve),ve[0]&33&&N(he,1)):(he=cc(le),he.c(),N(he,1),he.m(me,null)):he&&(Qe(),U(he,1,1,()=>{he=null}),Je()),le[4]?Le?(Le.p(le,ve),ve[0]&16&&N(Le,1)):(Le=uc(le),Le.c(),N(Le,1),Le.m(e,null)):Le&&(Qe(),U(Le,1,1,()=>{Le=null}),Je())},i(le){Pe||(N(d.$$.fragment,le),N(b.$$.fragment,le),N(g.$$.fragment,le),N(L.$$.fragment,le),N(B.$$.fragment,le),N(A.$$.fragment,le),N(M.$$.fragment,le),N(D.$$.fragment,le),N($.$$.fragment,le),N(ge),N(ye),N(Ue),N(ue),N(pe),N(he),N(Le),Pe=!0)},o(le){U(d.$$.fragment,le),U(b.$$.fragment,le),U(g.$$.fragment,le),U(L.$$.fragment,le),U(B.$$.fragment,le),U(A.$$.fragment,le),U(M.$$.fragment,le),U(D.$$.fragment,le),U($.$$.fragment,le),U(ge),U(ye),U(Ue),U(ue),U(pe),U(he),U(Le),Pe=!1},d(le){le&&G(e),t[31](null),ee(d),ee(b),ee(g),ee(L),ee(B),ee(A),ee(M),ee(D),ee($),ge&&ge.d(),ye&&ye.d(),Ue&&Ue.d(),ue&&ue.d(),pe&&pe.d(),he&&he.d(),Le&&Le.d(),We=!1,st(Be)}}}function zm(t,e,n){let r,i,a;Ke(t,Ma,F=>n(34,r=F)),Ke(t,Mt,F=>n(12,i=F)),Ke(t,sr,F=>n(13,a=F));let s,o,l=Fp,c=!1,u,d=0,h=!1,b="",p=!1;const _=new s_;let g={undoDisabled:!1,redoDisabled:!1};const v=()=>{o.discardActiveObject(),o.requestRenderAll(),n(5,u=void 0),n(6,d=0)},w=async F=>{n(10,_.paused=!0,_),P(F.label),await An.loadCanvasState(o,F.canvas),n(10,_.paused=!1,_)};_.onLabelUpdate=w,_.onStateUpdate=F=>{n(11,g=F)};const S=()=>{br.deleteSelection(o),v()},E=()=>{u&&br.cloneObject(o,u).then(()=>_.push(o,l))},L=(F,j)=>{br.moveSelection(o,F,j),_.push(o,l)},T=F=>{const j=F.key.toLowerCase();if(j==="escape"){v();return}if(!br.isAnyInputFocused(o)){if(j.startsWith("arrow")){L(j.slice(5),F.ctrlKey);return}if(!F.repeat){if(F.ctrlKey&&j==="d"){F.preventDefault(),E();return}if(F.ctrlKey&&j==="y"||F.ctrlKey&&F.shiftKey&&j==="z"){F.preventDefault(),g.redoDisabled||_.redo();return}if(F.ctrlKey&&j==="z"){F.preventDefault(),g.undoDisabled||_.undo();return}if(j==="delete"){S();return}}}},P=F=>{n(3,l=F),o.setDimensions(l.size);try{Dt.saveLastLabelProps(l),_.push(o,l)}catch(j){ht.zodErrors(j,"Label parameters save error:")}},O=()=>An.makeExportedLabel(o,l),B=F=>{w(F).then(()=>_.push(o,l))},k=F=>{Mn.addImageBlob(o,F).then(()=>_.push(o,l))},A=F=>{const j=Mn.addObject(o,F);j!==void 0&&(o.setActiveObject(j),_.push(o,l))},I=F=>{Mn.addStaticText(o,String.fromCodePoint(ha[F]),{fontFamily:"Material Icons",fontSize:100}),_.push(o,l)},M=()=>{n(7,h=!1),n(4,c=!1)},q=()=>{n(7,h=!1),n(4,c=!0)},W=()=>{n(7,h=!0),n(4,c=!0)},D=()=>{o.requestRenderAll(),n(5,u)},x=()=>o.toJSON(),R=(F,j)=>{n(8,b=j),n(9,p=F),Dt.saveCsv(b)},Q=F=>{const j=Mn.addText(o,`{${F}}`,{textAlign:"left",originX:"left",originY:"top"});o.setActiveObject(j),_.push(o,l)},H=async F=>{if(!(br.isAnyInputFocused(o)||document.querySelectorAll(".dropdown-menu.show").length>0)&&F.clipboardData!=null){F.preventDefault();const ie=await Mn.addObjectFromClipboard(o,F.clipboardData);ie!==void 0&&(o.setActiveObject(ie),_.push(o,l))}};Xr(()=>{const F=Dt.loadCsv();n(8,b=F.data);try{const j=Dt.loadLastLabelProps();j!==null&&n(3,l=j)}catch(j){ht.zodErrors(j,"Label parameters load error:")}if(n(0,et.fabric.disableStyleCopyPaste=!0,et.fabric),n(2,o=new et.fabric.Canvas(s,{width:l.size.width,height:l.size.height,backgroundColor:"#fff"})),Mn.addText(o,i("editor.default_text")),_.push(o,l),o.on("mouse:down",()=>{document.querySelectorAll("[data-bs-toggle='dropdown']").forEach(ie=>new ys(ie).hide())}),o.on("object:moving",j=>{j.target&&j.target.left!==void 0&&j.target.top!==void 0&&j.target.set({left:Math.round(j.target.left/vr)*vr,top:Math.round(j.target.top/vr)*vr})}),o.on("object:modified",()=>{_.push(o,l)}),o.on("object:removed",()=>{_.push(o,l)}),o.on("selection:created",j=>{var ie,se;n(6,d=((ie=j.selected)==null?void 0:ie.length)??0),n(5,u=((se=j.selected)==null?void 0:se.length)===1?j.selected[0]:void 0)}),o.on("selection:updated",j=>{var ie,se;n(6,d=((ie=j.selected)==null?void 0:ie.length)??0),n(5,u=((se=j.selected)==null?void 0:se.length)===1?j.selected[0]:void 0)}),o.on("selection:cleared",()=>{n(5,u=void 0),n(6,d=0)}),o.on("drop",j=>{var se;const ie=j.e;ie.preventDefault(),(se=ie.dataTransfer)!=null&&se.files&&[...ie.dataTransfer.files].forEach(fe=>{Mn.addImageFile(o,fe),_.push(o,l)})}),o.on("object:scaling",j=>{j.target&&j.target instanceof jn&&j.target.width!==void 0&&j.target.height!==void 0&&j.target.set({width:Math.round(j.target.width*(j.target.scaleX??1)),height:Math.round(j.target.height*(j.target.scaleY??1)),scaleX:1,scaleY:1})}),r!==void 0){if(r.loadLabelTemplate!==void 0)try{B(r.loadLabelTemplate)}catch(j){ht.error(j)}if(r.startPrint!==void 0){if(r.startPrint==="immediately")q();else if(r.startPrint==="after_connect"){const j=sr.subscribe(ie=>{ie==="connected"&&(ou().then(()=>j()),W())})}}}}),Ys(()=>{o.dispose()});function V(F){Pr[F?"unshift":"push"](()=>{s=F,n(1,s)})}const $=()=>_.undo(),z=()=>_.redo();return[et.fabric,s,o,l,c,u,d,h,b,p,_,g,i,a,S,E,T,P,O,B,k,A,I,M,q,W,D,x,R,Q,H,V,$,z]}class Wm extends yt{constructor(e){super(),vt(this,e,zm,Vm,_t,{},null,[-1,-1])}}function dc(t,e,n){const r=t.slice();return r[26]=e[n][0],r[27]=e[n][1],r}function fc(t,e,n){const r=t.slice();return r[26]=e[n][0],r[27]=e[n][1],r}function pc(t,e,n){const r=t.slice();return r[26]=e[n][0],r[27]=e[n][1],r}function hc(t,e,n){const r=t.slice();return r[26]=e[n][0],r[27]=e[n][1],r}function qm(t){let e,n,r,i,a=t[2].webBluetooth&&_c(t),s=t[2].webSerial&&mc(t),o=t[2].capacitorBle&&bc(t);return{c(){a&&a.c(),e=C(),s&&s.c(),n=C(),o&&o.c(),r=er()},m(l,c){a&&a.m(l,c),Z(l,e,c),s&&s.m(l,c),Z(l,n,c),o&&o.m(l,c),Z(l,r,c),i=!0},p(l,c){l[2].webBluetooth?a?(a.p(l,c),c[0]&4&&N(a,1)):(a=_c(l),a.c(),N(a,1),a.m(e.parentNode,e)):a&&(Qe(),U(a,1,1,()=>{a=null}),Je()),l[2].webSerial?s?(s.p(l,c),c[0]&4&&N(s,1)):(s=mc(l),s.c(),N(s,1),s.m(n.parentNode,n)):s&&(Qe(),U(s,1,1,()=>{s=null}),Je()),l[2].capacitorBle?o?(o.p(l,c),c[0]&4&&N(o,1)):(o=bc(l),o.c(),N(o,1),o.m(r.parentNode,r)):o&&(Qe(),U(o,1,1,()=>{o=null}),Je())},i(l){i||(N(a),N(s),N(o),i=!0)},o(l){U(a),U(s),U(o),i=!1},d(l){l&&(G(e),G(n),G(r)),a&&a.d(l),s&&s.d(l),o&&o.d(l)}}}function Fm(t){var $;let e,n,r,i,a,s,o,l,c,u,d,h,b,p,_,g,v,w,S,E,L,T,P,O,B,k=((($=t[5])==null?void 0:$.model)??t[8])+"",A,I,M,q,W,D;n=new de({props:{icon:"settings"}});let x=t[4]&&gc(t),R=t[5]&&yc(t),Q=t[1]&&kc(t),H=t[6]&&Pc(t),V=t[6]&&Sc(t);return{c(){e=y("button"),te(n.$$.fragment),r=C(),i=y("div"),x&&x.c(),a=C(),R&&R.c(),s=C(),Q&&Q.c(),o=C(),H&&H.c(),l=C(),c=y("div"),c.textContent="Tests",u=C(),d=y("button"),d.textContent="Rfid",h=C(),b=y("button"),b.textContent="Heartbeat on",p=C(),_=y("button"),_.textContent="Heartbeat off",g=C(),v=y("button"),v.textContent="Sound on",w=C(),S=y("button"),S.textContent="Sound off",E=C(),L=y("button"),L.textContent="Fetch info again",T=C(),P=y("button"),P.textContent="Reset",O=C(),B=y("span"),A=Y(k),I=C(),V&&V.c(),m(e,"class","btn btn-secondary"),m(e,"data-bs-toggle","dropdown"),m(e,"data-bs-auto-close","outside"),m(d,"class","btn btn-sm btn-primary"),m(b,"class","btn btn-sm btn-primary"),m(_,"class","btn btn-sm btn-primary"),m(v,"class","btn btn-sm btn-primary"),m(S,"class","btn btn-sm btn-primary"),m(L,"class","btn btn-sm btn-primary"),m(P,"class","btn btn-sm btn-primary"),m(i,"class","dropdown-menu p-1 svelte-1rf5goi"),m(B,"class",M="input-group-text "+(t[7]>0?"text-warning":""))},m(z,F){Z(z,e,F),X(n,e,null),Z(z,r,F),Z(z,i,F),x&&x.m(i,null),f(i,a),R&&R.m(i,null),f(i,s),Q&&Q.m(i,null),f(i,o),H&&H.m(i,null),f(i,l),f(i,c),f(i,u),f(i,d),f(i,h),f(i,b),f(i,p),f(i,_),f(i,g),f(i,v),f(i,w),f(i,S),f(i,E),f(i,L),f(i,T),f(i,P),Z(z,O,F),Z(z,B,F),f(B,A),f(B,I),V&&V.m(B,null),q=!0,W||(D=[K(d,"click",t[12]),K(b,"click",t[13]),K(_,"click",t[14]),K(v,"click",t[15]),K(S,"click",t[16]),K(L,"click",t[17]),K(P,"click",t[18])],W=!0)},p(z,F){var j;z[4]?x?x.p(z,F):(x=gc(z),x.c(),x.m(i,a)):x&&(x.d(1),x=null),z[5]?R?R.p(z,F):(R=yc(z),R.c(),R.m(i,s)):R&&(R.d(1),R=null),z[1]?Q?Q.p(z,F):(Q=kc(z),Q.c(),Q.m(i,o)):Q&&(Q.d(1),Q=null),z[6]?H?H.p(z,F):(H=Pc(z),H.c(),H.m(i,l)):H&&(H.d(1),H=null),(!q||F[0]&288)&&k!==(k=(((j=z[5])==null?void 0:j.model)??z[8])+"")&&re(A,k),z[6]?V?(V.p(z,F),F[0]&64&&N(V,1)):(V=Sc(z),V.c(),N(V,1),V.m(B,null)):V&&(Qe(),U(V,1,1,()=>{V=null}),Je()),(!q||F[0]&128&&M!==(M="input-group-text "+(z[7]>0?"text-warning":"")))&&m(B,"class",M)},i(z){q||(N(n.$$.fragment,z),N(V),q=!0)},o(z){U(n.$$.fragment,z),U(V),q=!1},d(z){z&&(G(e),G(r),G(i),G(O),G(B)),ee(n),x&&x.d(),R&&R.d(),Q&&Q.d(),H&&H.d(),V&&V.d(),W=!1,st(D)}}}function _c(t){let e,n,r,i=t[9]("connector.bluetooth")+"",a,s,o,l,c;return n=new de({props:{icon:"bluetooth"}}),{c(){e=y("button"),te(n.$$.fragment),r=C(),a=Y(i),m(e,"class",s="btn text-nowrap "+(t[0]==="bluetooth"?"btn-light":"btn-outline-secondary"))},m(u,d){Z(u,e,d),X(n,e,null),f(e,r),f(e,a),o=!0,l||(c=K(e,"click",t[21]),l=!0)},p(u,d){(!o||d[0]&512)&&i!==(i=u[9]("connector.bluetooth")+"")&&re(a,i),(!o||d[0]&1&&s!==(s="btn text-nowrap "+(u[0]==="bluetooth"?"btn-light":"btn-outline-secondary")))&&m(e,"class",s)},i(u){o||(N(n.$$.fragment,u),o=!0)},o(u){U(n.$$.fragment,u),o=!1},d(u){u&&G(e),ee(n),l=!1,c()}}}function mc(t){let e,n,r,i=t[9]("connector.serial")+"",a,s,o,l,c;return n=new de({props:{icon:"usb"}}),{c(){e=y("button"),te(n.$$.fragment),r=C(),a=Y(i),m(e,"class",s="btn text-nowrap "+(t[0]==="serial"?"btn-light":"btn-outline-secondary"))},m(u,d){Z(u,e,d),X(n,e,null),f(e,r),f(e,a),o=!0,l||(c=K(e,"click",t[22]),l=!0)},p(u,d){(!o||d[0]&512)&&i!==(i=u[9]("connector.serial")+"")&&re(a,i),(!o||d[0]&1&&s!==(s="btn text-nowrap "+(u[0]==="serial"?"btn-light":"btn-outline-secondary")))&&m(e,"class",s)},i(u){o||(N(n.$$.fragment,u),o=!0)},o(u){U(n.$$.fragment,u),o=!1},d(u){u&&G(e),ee(n),l=!1,c()}}}function bc(t){let e,n,r,i,a,s,o;return n=new de({props:{icon:"usb"}}),{c(){e=y("button"),te(n.$$.fragment),r=Y(`\r
        Capacitor BLE`),m(e,"class",i="btn text-nowrap "+(t[0]==="capacitor-ble"?"btn-light":"btn-outline-secondary"))},m(l,c){Z(l,e,c),X(n,e,null),f(e,r),a=!0,s||(o=K(e,"click",t[23]),s=!0)},p(l,c){(!a||c[0]&1&&i!==(i="btn text-nowrap "+(l[0]==="capacitor-ble"?"btn-light":"btn-outline-secondary")))&&m(e,"class",i)},i(l){a||(N(n.$$.fragment,l),a=!0)},o(l){U(n.$$.fragment,l),a=!1},d(l){l&&G(e),ee(n),s=!1,o()}}}function gc(t){let e,n,r,i=lt(Object.entries(t[4])),a=[];for(let s=0;s<i.length;s+=1)a[s]=vc(hc(t,i,s));return{c(){e=y("div"),n=Y(`Printer info:\r
          `),r=y("ul");for(let s=0;s<a.length;s+=1)a[s].c()},m(s,o){Z(s,e,o),f(e,n),f(e,r);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,null)},p(s,o){if(o[0]&16){i=lt(Object.entries(s[4]));let l;for(l=0;l<i.length;l+=1){const c=hc(s,i,l);a[l]?a[l].p(c,o):(a[l]=vc(c),a[l].c(),a[l].m(r,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(s){s&&G(e),kn(a,s)}}}function vc(t){let e,n=t[26]+"",r,i,a,s=(t[27]??"-")+"",o;return{c(){e=y("li"),r=Y(n),i=Y(": "),a=y("strong"),o=Y(s)},m(l,c){Z(l,e,c),f(e,r),f(e,i),f(e,a),f(a,o)},p(l,c){c[0]&16&&n!==(n=l[26]+"")&&re(r,n),c[0]&16&&s!==(s=(l[27]??"-")+"")&&re(o,s)},d(l){l&&G(e)}}}function yc(t){let e,n,r,i=lt(Object.entries(t[5])),a=[];for(let s=0;s<i.length;s+=1)a[s]=wc(pc(t,i,s));return{c(){e=y("div"),n=Y(`Model metadata:\r
          `),r=y("ul");for(let s=0;s<a.length;s+=1)a[s].c()},m(s,o){Z(s,e,o),f(e,n),f(e,r);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,null)},p(s,o){if(o[0]&32){i=lt(Object.entries(s[5]));let l;for(l=0;l<i.length;l+=1){const c=pc(s,i,l);a[l]?a[l].p(c,o):(a[l]=wc(c),a[l].c(),a[l].m(r,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(s){s&&G(e),kn(a,s)}}}function wc(t){let e,n=t[26]+"",r,i,a,s=(t[27]??"-")+"",o;return{c(){e=y("li"),r=Y(n),i=Y(": "),a=y("strong"),o=Y(s)},m(l,c){Z(l,e,c),f(e,r),f(e,i),f(e,a),f(a,o)},p(l,c){c[0]&32&&n!==(n=l[26]+"")&&re(r,n),c[0]&32&&s!==(s=(l[27]??"-")+"")&&re(o,s)},d(l){l&&G(e)}}}function kc(t){let e,n,r,i=lt(Object.entries(t[1])),a=[];for(let s=0;s<i.length;s+=1)a[s]=Tc(fc(t,i,s));return{c(){e=y("div"),n=Y(`Rfid info:\r
          `),r=y("ul");for(let s=0;s<a.length;s+=1)a[s].c()},m(s,o){Z(s,e,o),f(e,n),f(e,r);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,null)},p(s,o){if(o[0]&2){i=lt(Object.entries(s[1]));let l;for(l=0;l<i.length;l+=1){const c=fc(s,i,l);a[l]?a[l].p(c,o):(a[l]=Tc(c),a[l].c(),a[l].m(r,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(s){s&&G(e),kn(a,s)}}}function Tc(t){let e,n=t[26]+"",r,i,a,s=(t[27]??"-")+"",o;return{c(){e=y("li"),r=Y(n),i=Y(": "),a=y("strong"),o=Y(s)},m(l,c){Z(l,e,c),f(e,r),f(e,i),f(e,a),f(a,o)},p(l,c){c[0]&2&&n!==(n=l[26]+"")&&re(r,n),c[0]&2&&s!==(s=(l[27]??"-")+"")&&re(o,s)},d(l){l&&G(e)}}}function Pc(t){let e,n,r,i=lt(Object.entries(t[6])),a=[];for(let s=0;s<i.length;s+=1)a[s]=Ec(dc(t,i,s));return{c(){e=y("div"),n=Y(`Heartbeat data:\r
          `),r=y("ul");for(let s=0;s<a.length;s+=1)a[s].c()},m(s,o){Z(s,e,o),f(e,n),f(e,r);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,null)},p(s,o){if(o[0]&64){i=lt(Object.entries(s[6]));let l;for(l=0;l<i.length;l+=1){const c=dc(s,i,l);a[l]?a[l].p(c,o):(a[l]=Ec(c),a[l].c(),a[l].m(r,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(s){s&&G(e),kn(a,s)}}}function Ec(t){let e,n=t[26]+"",r,i,a,s=(t[27]??"-")+"",o;return{c(){e=y("li"),r=Y(n),i=Y(": "),a=y("strong"),o=Y(s)},m(l,c){Z(l,e,c),f(e,r),f(e,i),f(e,a),f(a,o)},p(l,c){c[0]&64&&n!==(n=l[26]+"")&&re(r,n),c[0]&64&&s!==(s=(l[27]??"-")+"")&&re(o,s)},d(l){l&&G(e)}}}function Sc(t){let e,n;return e=new de({props:{icon:t[20](t[6].powerLevel),class:"r-90"}}),{c(){te(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p(r,i){const a={};i[0]&64&&(a.icon=r[20](r[6].powerLevel)),e.$set(a)},i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){U(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}function Ac(t){let e,n,r,i,a,s;return n=new de({props:{icon:"power"}}),{c(){e=y("button"),te(n.$$.fragment),m(e,"class","btn btn-primary"),e.disabled=r=t[3]==="connecting"||!t[2].capacitorBle&&!t[2].webBluetooth&&!t[2].webSerial},m(o,l){Z(o,e,l),X(n,e,null),i=!0,a||(s=K(e,"click",t[10]),a=!0)},p(o,l){(!i||l[0]&12&&r!==(r=o[3]==="connecting"||!o[2].capacitorBle&&!o[2].webBluetooth&&!o[2].webSerial))&&(e.disabled=r)},i(o){i||(N(n.$$.fragment,o),i=!0)},o(o){U(n.$$.fragment,o),i=!1},d(o){o&&G(e),ee(n),a=!1,s()}}}function Dc(t){let e,n,r,i,a;return n=new de({props:{icon:"power_off"}}),{c(){e=y("button"),te(n.$$.fragment),m(e,"class","btn btn-danger")},m(s,o){Z(s,e,o),X(n,e,null),r=!0,i||(a=K(e,"click",t[11]),i=!0)},p:gt,i(s){r||(N(n.$$.fragment,s),r=!0)},o(s){U(n.$$.fragment,s),r=!1},d(s){s&&G(e),ee(n),i=!1,a()}}}function Hm(t){let e,n,r,i,a,s;const o=[Fm,qm],l=[];function c(h,b){return h[3]==="connected"?0:1}n=c(t),r=l[n]=o[n](t);let u=t[3]!=="connected"&&Ac(t),d=t[3]==="connected"&&Dc(t);return{c(){e=y("div"),r.c(),i=C(),u&&u.c(),a=C(),d&&d.c(),m(e,"class","input-group w-auto input-group-sm flex-nowrap justify-content-end")},m(h,b){Z(h,e,b),l[n].m(e,null),f(e,i),u&&u.m(e,null),f(e,a),d&&d.m(e,null),s=!0},p(h,b){let p=n;n=c(h),n===p?l[n].p(h,b):(Qe(),U(l[p],1,1,()=>{l[p]=null}),Je(),r=l[n],r?r.p(h,b):(r=l[n]=o[n](h),r.c()),N(r,1),r.m(e,i)),h[3]!=="connected"?u?(u.p(h,b),b[0]&8&&N(u,1)):(u=Ac(h),u.c(),N(u,1),u.m(e,a)):u&&(Qe(),U(u,1,1,()=>{u=null}),Je()),h[3]==="connected"?d?(d.p(h,b),b[0]&8&&N(d,1)):(d=Dc(h),d.c(),N(d,1),d.m(e,null)):d&&(Qe(),U(d,1,1,()=>{d=null}),Je())},i(h){s||(N(r),N(u),N(d),s=!0)},o(h){U(r),U(u),U(d),s=!1},d(h){h&&G(e),l[n].d(),u&&u.d(),d&&d.d()}}}function Gm(t,e,n){let r,i,a,s,o,l,c,u,d;Ke(t,Ma,M=>n(24,r=M)),Ke(t,ao,M=>n(25,i=M)),Ke(t,sr,M=>n(3,a=M)),Ke(t,Is,M=>n(4,s=M)),Ke(t,Wi,M=>n(5,o=M)),Ke(t,nd,M=>n(6,l=M)),Ke(t,ca,M=>n(7,c=M)),Ke(t,Cs,M=>n(8,u=M)),Ke(t,Mt,M=>n(9,d=M));let h="bluetooth",b,p={webBluetooth:!1,webSerial:!1,capacitorBle:!1};const _=async()=>{a_(h),sr.set("connecting");try{i instanceof at.NiimbotCapacitorBleClient&&(r==null?void 0:r.autoConnectDeviceId)!==void 0?await i.connect({deviceId:r.autoConnectDeviceId}):await i.connect()}catch(M){sr.set("disconnected"),ht.error(M)}},g=()=>{i.disconnect()},v=async()=>{n(1,b=await i.abstraction.rfidInfo())},w=async()=>{i.startHeartbeat()},S=async()=>{i.stopHeartbeat()},E=async()=>{await i.abstraction.setSoundEnabled(at.SoundSettingsItemType.BluetoothConnectionSound,!0),await i.abstraction.setSoundEnabled(at.SoundSettingsItemType.PowerSound,!0)},L=async()=>{await i.abstraction.setSoundEnabled(at.SoundSettingsItemType.BluetoothConnectionSound,!1),await i.abstraction.setSoundEnabled(at.SoundSettingsItemType.PowerSound,!1)},T=async()=>{await i.fetchPrinterInfo()},P=async()=>{await i.abstraction.printerReset()},O=M=>{Dt.saveLastConnectionType(M),n(0,h=M)},B=M=>M===4?"battery_full":M===3?"battery_5_bar":M===2?"battery_3_bar":M===1?"battery_2_bar":"battery_0_bar";return Xr(()=>{n(2,p=at.Utils.getAvailableTransports()),n(0,h=Dt.loadLastConnectionType()??"bluetooth"),!p.capacitorBle&&h==="capacitor-ble"&&n(0,h="bluetooth"),!p.webSerial&&h==="serial"&&n(0,h="bluetooth"),!p.webBluetooth&&h==="bluetooth"&&p.capacitorBle&&n(0,h="capacitor-ble"),r!==void 0&&r.autoConnect&&h==="capacitor-ble"&&_()}),[h,b,p,a,s,o,l,c,u,d,_,g,v,w,S,E,L,T,P,O,B,()=>O("bluetooth"),()=>O(n(0,h="serial")),()=>O(n(0,h="capacitor-ble"))]}class Zm extends yt{constructor(e){super(),vt(this,e,Gm,Hm,_t,{},null,[-1,-1])}}function Oc(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function Lc(t){let e,n=t[5]+"",r;return{c(){e=y("option"),r=Y(n),e.__value=t[4],Ee(e,e.__value)},m(i,a){Z(i,e,a),f(e,r)},p:gt,d(i){i&&G(e)}}}function Ym(t){let e,n,r,i,a,s,o,l,c,u,d,h,b,p,_,g,v,w,S,E,L,T,P,O,B=t[1]("main.built")+"",k,A,I,M,q,W,D=t[1]("main.code")+"",x,R,Q,H;c=new Zm({}),b=new Up({}),v=new Wm({});let V=lt(Object.entries(fl)),$=[];for(let z=0;z<V.length;z+=1)$[z]=Lc(Oc(t,V,z));return{c(){e=y("div"),n=y("div"),r=y("div"),i=y("h1"),a=y("span"),a.textContent="Niim",s=y("span"),s.textContent=`Blue${t[2]?"s":""}`,o=C(),l=y("div"),te(c.$$.fragment),u=C(),d=y("div"),h=y("div"),te(b.$$.fragment),p=C(),_=y("div"),g=y("div"),te(v.$$.fragment),w=C(),S=y("div"),E=y("div"),L=y("select");for(let z=0;z<$.length;z+=1)$[z].c();T=C(),P=y("div"),O=C(),k=Y(B),A=C(),I=Y("2024-11-21"),M=C(),q=y("div"),W=y("a"),x=Y(D),m(a,"class","niim svelte-1b0ps5k"),m(s,"class","blue svelte-1b0ps5k"),m(i,"class","title"),m(r,"class","col"),m(l,"class","col-md-3"),m(n,"class","row align-items-center mb-3"),m(h,"class","col"),m(d,"class","row"),m(g,"class","col"),m(_,"class","row"),m(e,"class","container my-2"),m(L,"class","form-select form-select-sm text-secondary d-inline-block w-auto"),t[0]===void 0&&dn(()=>t[3].call(L)),m(W,"class","text-secondary"),m(W,"href","https://github.com/MultiMote/niimblue"),m(S,"class","footer text-end text-secondary p-3 svelte-1b0ps5k")},m(z,F){Z(z,e,F),f(e,n),f(n,r),f(r,i),f(i,a),f(i,s),f(n,o),f(n,l),X(c,l,null),f(e,u),f(e,d),f(d,h),X(b,h,null),f(e,p),f(e,_),f(_,g),X(v,g,null),Z(z,w,F),Z(z,S,F),f(S,E),f(E,L);for(let j=0;j<$.length;j+=1)$[j]&&$[j].m(L,null);Pt(L,t[0],!0),f(S,T),f(S,P),f(P,O),f(P,k),f(P,A),f(P,I),f(S,M),f(S,q),f(q,W),f(W,x),R=!0,Q||(H=K(L,"change",t[3]),Q=!0)},p(z,[F]){if(F&0){V=lt(Object.entries(fl));let j;for(j=0;j<V.length;j+=1){const ie=Oc(z,V,j);$[j]?$[j].p(ie,F):($[j]=Lc(ie),$[j].c(),$[j].m(L,null))}for(;j<$.length;j+=1)$[j].d(1);$.length=V.length}F&1&&Pt(L,z[0]),(!R||F&2)&&B!==(B=z[1]("main.built")+"")&&re(k,B),(!R||F&2)&&D!==(D=z[1]("main.code")+"")&&re(x,D)},i(z){R||(N(c.$$.fragment,z),N(b.$$.fragment,z),N(v.$$.fragment,z),R=!0)},o(z){U(c.$$.fragment,z),U(b.$$.fragment,z),U(v.$$.fragment,z),R=!1},d(z){z&&(G(e),G(w),G(S)),ee(c),ee(b),ee(v),kn($,z),Q=!1,H()}}}function Km(t,e,n){let r,i;Ke(t,pa,o=>n(0,r=o)),Ke(t,Mt,o=>n(1,i=o));let a=at.Utils.getAvailableTransports().capacitorBle;function s(){r=xn(this),pa.set(r)}return[r,i,a,s]}class Qm extends yt{constructor(e){super(),vt(this,e,Km,Ym,_t,{})}}function Jm(t){let e,n;return e=new Qm({}),{c(){te(e.$$.fragment)},m(r,i){X(e,r,i),n=!0},p:gt,i(r){n||(N(e.$$.fragment,r),n=!0)},o(r){U(e.$$.fragment,r),n=!1},d(r){ee(e,r)}}}class Xm extends yt{constructor(e){super(),vt(this,e,null,Jm,_t,{})}}new Xm({target:document.getElementById("app")});export{Xs as W,$u as h,bp as m,mp as w};
