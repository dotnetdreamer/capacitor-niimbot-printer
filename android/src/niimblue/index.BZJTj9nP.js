const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/niimblue/web.DynCiotf.js","assets/niimblue/fabric.Ccexr4Dr.js","assets/niimblue/web.B3QWYT1y.js"])))=>i.map(i=>d[i]);
var Td=Object.defineProperty;var Pd=(t,e,n)=>e in t?Td(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Fa=(t,e,n)=>Pd(t,typeof e!="symbol"?e+"":e,n);import{g as Ea,c as ht,a as qi,f as it,r as Ed}from"./fabric.Ccexr4Dr.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Jt="top",_n="bottom",mn="right",Xt="left",Sa="auto",Jr=[Jt,_n,mn,Xt],Er="start",Vr="end",Wc="clippingParents",Bs="viewport",jr="popper",qc="reference",bs=Jr.reduce(function(t,e){return t.concat([e+"-"+Er,e+"-"+Vr])},[]),Ms=[].concat(Jr,[Sa]).reduce(function(t,e){return t.concat([e,e+"-"+Er,e+"-"+Vr])},[]),Fc="beforeRead",Hc="read",Gc="afterRead",Zc="beforeMain",Yc="main",Kc="afterMain",Qc="beforeWrite",Jc="write",Xc="afterWrite",eu=[Fc,Hc,Gc,Zc,Yc,Kc,Qc,Jc,Xc];function $n(t){return t?(t.nodeName||"").toLowerCase():null}function bn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Sr(t){var e=bn(t).Element;return t instanceof e||t instanceof Element}function kn(t){var e=bn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Ns(t){if(typeof ShadowRoot>"u")return!1;var e=bn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Sd(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},a=e.elements[n];!kn(a)||!$n(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(s){var o=i[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function Ad(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),o=s.reduce(function(l,c){return l[c]="",l},{});!kn(i)||!$n(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}const js={name:"applyStyles",enabled:!0,phase:"write",fn:Sd,effect:Ad,requires:["computeStyles"]};function xn(t){return t.split("-")[0]}var Tr=Math.max,fa=Math.min,Wr=Math.round;function gs(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function tu(){return!/^((?!chrome|android).)*safari/i.test(gs())}function qr(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,a=1;e&&kn(t)&&(i=t.offsetWidth>0&&Wr(r.width)/t.offsetWidth||1,a=t.offsetHeight>0&&Wr(r.height)/t.offsetHeight||1);var s=Sr(t)?bn(t):window,o=s.visualViewport,l=!tu()&&n,c=(r.left+(l&&o?o.offsetLeft:0))/i,u=(r.top+(l&&o?o.offsetTop:0))/a,d=r.width/i,m=r.height/a;return{width:d,height:m,top:u,right:c+d,bottom:u+m,left:c,x:c,y:u}}function xs(t){var e=qr(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function nu(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ns(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Qn(t){return bn(t).getComputedStyle(t)}function Dd(t){return["table","td","th"].indexOf($n(t))>=0}function fr(t){return((Sr(t)?t.ownerDocument:t.document)||window.document).documentElement}function Aa(t){return $n(t)==="html"?t:t.assignedSlot||t.parentNode||(Ns(t)?t.host:null)||fr(t)}function po(t){return!kn(t)||Qn(t).position==="fixed"?null:t.offsetParent}function Od(t){var e=/firefox/i.test(gs()),n=/Trident/i.test(gs());if(n&&kn(t)){var r=Qn(t);if(r.position==="fixed")return null}var i=Aa(t);for(Ns(i)&&(i=i.host);kn(i)&&["html","body"].indexOf($n(i))<0;){var a=Qn(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function Fi(t){for(var e=bn(t),n=po(t);n&&Dd(n)&&Qn(n).position==="static";)n=po(n);return n&&($n(n)==="html"||$n(n)==="body"&&Qn(n).position==="static")?e:n||Od(t)||e}function Rs(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ti(t,e,n){return Tr(t,fa(e,n))}function Ld(t,e,n){var r=Ti(t,e,n);return r>n?n:r}function ru(){return{top:0,right:0,bottom:0,left:0}}function iu(t){return Object.assign({},ru(),t)}function au(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var Cd=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,iu(typeof e!="number"?e:au(e,Jr))};function Id(t){var e,n=t.state,r=t.name,i=t.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,o=xn(n.placement),l=Rs(o),c=[Xt,mn].indexOf(o)>=0,u=c?"height":"width";if(!(!a||!s)){var d=Cd(i.padding,n),m=xs(a),g=l==="y"?Jt:Xt,p=l==="y"?_n:mn,_=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],b=s[l]-n.rects.reference[l],v=Fi(a),w=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,S=_/2-b/2,P=d[g],O=w-m[u]-d[p],k=w/2-m[u]/2+S,E=Ti(P,k,O),D=l;n.modifiersData[r]=(e={},e[D]=E,e.centerOffset=E-k,e)}}function Bd(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||nu(e.elements.popper,i)&&(e.elements.arrow=i))}const su={name:"arrow",enabled:!0,phase:"main",fn:Id,effect:Bd,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fr(t){return t.split("-")[1]}var Md={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nd(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Wr(n*i)/i||0,y:Wr(r*i)/i||0}}function ho(t){var e,n=t.popper,r=t.popperRect,i=t.placement,a=t.variation,s=t.offsets,o=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,m=s.x,g=m===void 0?0:m,p=s.y,_=p===void 0?0:p,b=typeof u=="function"?u({x:g,y:_}):{x:g,y:_};g=b.x,_=b.y;var v=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),S=Xt,P=Jt,O=window;if(c){var k=Fi(n),E="clientHeight",D="clientWidth";if(k===bn(n)&&(k=fr(n),Qn(k).position!=="static"&&o==="absolute"&&(E="scrollHeight",D="scrollWidth")),k=k,i===Jt||(i===Xt||i===mn)&&a===Vr){P=_n;var I=d&&k===O&&O.visualViewport?O.visualViewport.height:k[E];_-=I-r.height,_*=l?1:-1}if(i===Xt||(i===Jt||i===_n)&&a===Vr){S=mn;var A=d&&k===O&&O.visualViewport?O.visualViewport.width:k[D];g-=A-r.width,g*=l?1:-1}}var C=Object.assign({position:o},c&&Md),T=u===!0?Nd({x:g,y:_},bn(n)):{x:g,y:_};if(g=T.x,_=T.y,l){var M;return Object.assign({},C,(M={},M[P]=w?"0":"",M[S]=v?"0":"",M.transform=(O.devicePixelRatio||1)<=1?"translate("+g+"px, "+_+"px)":"translate3d("+g+"px, "+_+"px, 0)",M))}return Object.assign({},C,(e={},e[P]=w?_+"px":"",e[S]=v?g+"px":"",e.transform="",e))}function jd(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,a=n.adaptive,s=a===void 0?!0:a,o=n.roundOffsets,l=o===void 0?!0:o,c={placement:xn(e.placement),variation:Fr(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,ho(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,ho(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const $s={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:jd,data:{}};var Ji={passive:!0};function xd(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,a=i===void 0?!0:i,s=r.resize,o=s===void 0?!0:s,l=bn(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(u){u.addEventListener("scroll",n.update,Ji)}),o&&l.addEventListener("resize",n.update,Ji),function(){a&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Ji)}),o&&l.removeEventListener("resize",n.update,Ji)}}const Us={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xd,data:{}};var Rd={left:"right",right:"left",bottom:"top",top:"bottom"};function aa(t){return t.replace(/left|right|bottom|top/g,function(e){return Rd[e]})}var $d={start:"end",end:"start"};function _o(t){return t.replace(/start|end/g,function(e){return $d[e]})}function zs(t){var e=bn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Vs(t){return qr(fr(t)).left+zs(t).scrollLeft}function Ud(t,e){var n=bn(t),r=fr(t),i=n.visualViewport,a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;var c=tu();(c||!c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o+Vs(t),y:l}}function zd(t){var e,n=fr(t),r=zs(t),i=(e=t.ownerDocument)==null?void 0:e.body,a=Tr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Tr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+Vs(t),l=-r.scrollTop;return Qn(i||n).direction==="rtl"&&(o+=Tr(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}function Ws(t){var e=Qn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ou(t){return["html","body","#document"].indexOf($n(t))>=0?t.ownerDocument.body:kn(t)&&Ws(t)?t:ou(Aa(t))}function Pi(t,e){var n;e===void 0&&(e=[]);var r=ou(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),a=bn(r),s=i?[a].concat(a.visualViewport||[],Ws(r)?r:[]):r,o=e.concat(s);return i?o:o.concat(Pi(Aa(s)))}function vs(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Vd(t,e){var n=qr(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function mo(t,e,n){return e===Bs?vs(Ud(t,n)):Sr(e)?Vd(e,n):vs(zd(fr(t)))}function Wd(t){var e=Pi(Aa(t)),n=["absolute","fixed"].indexOf(Qn(t).position)>=0,r=n&&kn(t)?Fi(t):t;return Sr(r)?e.filter(function(i){return Sr(i)&&nu(i,r)&&$n(i)!=="body"}):[]}function qd(t,e,n,r){var i=e==="clippingParents"?Wd(t):[].concat(e),a=[].concat(i,[n]),s=a[0],o=a.reduce(function(l,c){var u=mo(t,c,r);return l.top=Tr(u.top,l.top),l.right=fa(u.right,l.right),l.bottom=fa(u.bottom,l.bottom),l.left=Tr(u.left,l.left),l},mo(t,s,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function lu(t){var e=t.reference,n=t.element,r=t.placement,i=r?xn(r):null,a=r?Fr(r):null,s=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,l;switch(i){case Jt:l={x:s,y:e.y-n.height};break;case _n:l={x:s,y:e.y+e.height};break;case mn:l={x:e.x+e.width,y:o};break;case Xt:l={x:e.x-n.width,y:o};break;default:l={x:e.x,y:e.y}}var c=i?Rs(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(a){case Er:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Vr:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Hr(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,a=n.strategy,s=a===void 0?t.strategy:a,o=n.boundary,l=o===void 0?Wc:o,c=n.rootBoundary,u=c===void 0?Bs:c,d=n.elementContext,m=d===void 0?jr:d,g=n.altBoundary,p=g===void 0?!1:g,_=n.padding,b=_===void 0?0:_,v=iu(typeof b!="number"?b:au(b,Jr)),w=m===jr?qc:jr,S=t.rects.popper,P=t.elements[p?w:m],O=qd(Sr(P)?P:P.contextElement||fr(t.elements.popper),l,u,s),k=qr(t.elements.reference),E=lu({reference:k,element:S,strategy:"absolute",placement:i}),D=vs(Object.assign({},S,E)),I=m===jr?D:k,A={top:O.top-I.top+v.top,bottom:I.bottom-O.bottom+v.bottom,left:O.left-I.left+v.left,right:I.right-O.right+v.right},C=t.modifiersData.offset;if(m===jr&&C){var T=C[i];Object.keys(A).forEach(function(M){var N=[mn,_n].indexOf(M)>=0?1:-1,x=[Jt,_n].indexOf(M)>=0?"y":"x";A[M]+=T[x]*N})}return A}function Fd(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,a=n.rootBoundary,s=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?Ms:l,u=Fr(r),d=u?o?bs:bs.filter(function(p){return Fr(p)===u}):Jr,m=d.filter(function(p){return c.indexOf(p)>=0});m.length===0&&(m=d);var g=m.reduce(function(p,_){return p[_]=Hr(t,{placement:_,boundary:i,rootBoundary:a,padding:s})[xn(_)],p},{});return Object.keys(g).sort(function(p,_){return g[p]-g[_]})}function Hd(t){if(xn(t)===Sa)return[];var e=aa(t);return[_o(t),e,_o(e)]}function Gd(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,o=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,m=n.altBoundary,g=n.flipVariations,p=g===void 0?!0:g,_=n.allowedAutoPlacements,b=e.options.placement,v=xn(b),w=v===b,S=l||(w||!p?[aa(b)]:Hd(b)),P=[b].concat(S).reduce(function(F,Z){return F.concat(xn(Z)===Sa?Fd(e,{placement:Z,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:_}):Z)},[]),O=e.rects.reference,k=e.rects.popper,E=new Map,D=!0,I=P[0],A=0;A<P.length;A++){var C=P[A],T=xn(C),M=Fr(C)===Er,N=[Jt,_n].indexOf(T)>=0,x=N?"width":"height",B=Hr(e,{placement:C,boundary:u,rootBoundary:d,altBoundary:m,padding:c}),H=N?M?mn:Xt:M?_n:Jt;O[x]>k[x]&&(H=aa(H));var V=aa(H),Q=[];if(a&&Q.push(B[T]<=0),o&&Q.push(B[H]<=0,B[V]<=0),Q.every(function(F){return F})){I=C,D=!1;break}E.set(C,Q)}if(D)for(var G=p?3:1,U=function(Z){var J=P.find(function(oe){var _e=E.get(oe);if(_e)return _e.slice(0,Z).every(function(Le){return Le})});if(J)return I=J,"break"},$=G;$>0;$--){var z=U($);if(z==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const cu={name:"flip",enabled:!0,phase:"main",fn:Gd,requiresIfExists:["offset"],data:{_skip:!1}};function bo(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function go(t){return[Jt,mn,_n,Xt].some(function(e){return t[e]>=0})}function Zd(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,s=Hr(e,{elementContext:"reference"}),o=Hr(e,{altBoundary:!0}),l=bo(s,r),c=bo(o,i,a),u=go(l),d=go(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const uu={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zd};function Yd(t,e,n){var r=xn(t),i=[Xt,Jt].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[Xt,mn].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function Kd(t){var e=t.state,n=t.options,r=t.name,i=n.offset,a=i===void 0?[0,0]:i,s=Ms.reduce(function(u,d){return u[d]=Yd(d,e.rects,a),u},{}),o=s[e.placement],l=o.x,c=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const du={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kd};function Qd(t){var e=t.state,n=t.name;e.modifiersData[n]=lu({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const qs={name:"popperOffsets",enabled:!0,phase:"read",fn:Qd,data:{}};function Jd(t){return t==="x"?"y":"x"}function Xd(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,a=i===void 0?!0:i,s=n.altAxis,o=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,m=n.tether,g=m===void 0?!0:m,p=n.tetherOffset,_=p===void 0?0:p,b=Hr(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=xn(e.placement),w=Fr(e.placement),S=!w,P=Rs(v),O=Jd(P),k=e.modifiersData.popperOffsets,E=e.rects.reference,D=e.rects.popper,I=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,A=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),C=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,T={x:0,y:0};if(k){if(a){var M,N=P==="y"?Jt:Xt,x=P==="y"?_n:mn,B=P==="y"?"height":"width",H=k[P],V=H+b[N],Q=H-b[x],G=g?-D[B]/2:0,U=w===Er?E[B]:D[B],$=w===Er?-D[B]:-E[B],z=e.elements.arrow,F=g&&z?xs(z):{width:0,height:0},Z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ru(),J=Z[N],oe=Z[x],_e=Ti(0,E[B],F[B]),Le=S?E[B]/2-G-_e-J-A.mainAxis:U-_e-J-A.mainAxis,be=S?-E[B]/2+G+_e+oe+A.mainAxis:$+_e+oe+A.mainAxis,xe=e.elements.arrow&&Fi(e.elements.arrow),ae=xe?P==="y"?xe.clientTop||0:xe.clientLeft||0:0,de=(M=C==null?void 0:C[P])!=null?M:0,X=H+Le-de-ae,Ee=H+be-de,Ne=Ti(g?fa(V,X):V,H,g?Tr(Q,Ee):Q);k[P]=Ne,T[P]=Ne-H}if(o){var we,Ve=P==="x"?Jt:Xt,Me=P==="x"?_n:mn,ve=k[O],Oe=O==="y"?"height":"width",We=ve+b[Ve],ue=ve-b[Me],Pe=[Jt,Xt].indexOf(v)!==-1,je=(we=C==null?void 0:C[O])!=null?we:0,De=Pe?We:ve-E[Oe]-D[Oe]-je+A.altAxis,se=Pe?ve+E[Oe]+D[Oe]-je-A.altAxis:ue,le=g&&Pe?Ld(De,ve,se):Ti(g?De:We,ve,g?se:ue);k[O]=le,T[O]=le-ve}e.modifiersData[r]=T}}const fu={name:"preventOverflow",enabled:!0,phase:"main",fn:Xd,requiresIfExists:["offset"]};function ef(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function tf(t){return t===bn(t)||!kn(t)?zs(t):ef(t)}function nf(t){var e=t.getBoundingClientRect(),n=Wr(e.width)/t.offsetWidth||1,r=Wr(e.height)/t.offsetHeight||1;return n!==1||r!==1}function rf(t,e,n){n===void 0&&(n=!1);var r=kn(e),i=kn(e)&&nf(e),a=fr(e),s=qr(t,i,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(($n(e)!=="body"||Ws(a))&&(o=tf(e)),kn(e)?(l=qr(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=Vs(a))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function af(t){var e=new Map,n=new Set,r=[];t.forEach(function(a){e.set(a.name,a)});function i(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!n.has(o)){var l=e.get(o);l&&i(l)}}),r.push(a)}return t.forEach(function(a){n.has(a.name)||i(a)}),r}function sf(t){var e=af(t);return eu.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function of(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function lf(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var vo={placement:"bottom",modifiers:[],strategy:"absolute"};function yo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Da(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,a=i===void 0?vo:i;return function(o,l,c){c===void 0&&(c=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},vo,a),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},d=[],m=!1,g={state:u,setOptions:function(v){var w=typeof v=="function"?v(u.options):v;_(),u.options=Object.assign({},a,u.options,w),u.scrollParents={reference:Sr(o)?Pi(o):o.contextElement?Pi(o.contextElement):[],popper:Pi(l)};var S=sf(lf([].concat(r,u.options.modifiers)));return u.orderedModifiers=S.filter(function(P){return P.enabled}),p(),g.update()},forceUpdate:function(){if(!m){var v=u.elements,w=v.reference,S=v.popper;if(yo(w,S)){u.rects={reference:rf(w,Fi(S),u.options.strategy==="fixed"),popper:xs(S)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(A){return u.modifiersData[A.name]=Object.assign({},A.data)});for(var P=0;P<u.orderedModifiers.length;P++){if(u.reset===!0){u.reset=!1,P=-1;continue}var O=u.orderedModifiers[P],k=O.fn,E=O.options,D=E===void 0?{}:E,I=O.name;typeof k=="function"&&(u=k({state:u,options:D,name:I,instance:g})||u)}}}},update:of(function(){return new Promise(function(b){g.forceUpdate(),b(u)})}),destroy:function(){_(),m=!0}};if(!yo(o,l))return g;g.setOptions(c).then(function(b){!m&&c.onFirstUpdate&&c.onFirstUpdate(b)});function p(){u.orderedModifiers.forEach(function(b){var v=b.name,w=b.options,S=w===void 0?{}:w,P=b.effect;if(typeof P=="function"){var O=P({state:u,name:v,instance:g,options:S}),k=function(){};d.push(O||k)}})}function _(){d.forEach(function(b){return b()}),d=[]}return g}}var cf=Da(),uf=[Us,qs,$s,js],df=Da({defaultModifiers:uf}),ff=[Us,qs,$s,js,du,cu,fu,su,uu],pf=Da({defaultModifiers:ff});const hf=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Kc,afterRead:Gc,afterWrite:Xc,applyStyles:js,arrow:su,auto:Sa,basePlacements:Jr,beforeMain:Zc,beforeRead:Fc,beforeWrite:Qc,bottom:_n,clippingParents:Wc,computeStyles:$s,createPopper:pf,createPopperBase:cf,createPopperLite:df,detectOverflow:Hr,end:Vr,eventListeners:Us,flip:cu,hide:uu,left:Xt,main:Yc,modifierPhases:eu,offset:du,placements:Ms,popper:jr,popperGenerator:Da,popperOffsets:qs,preventOverflow:fu,read:Hc,reference:qc,right:mn,start:Er,top:Jt,variationPlacements:bs,viewport:Bs,write:Jc},Symbol.toStringTag,{value:"Module"}));var pu={exports:{}};const _f=Ea(hf);var Ha={exports:{}},Ga={exports:{}};/*!
  * Bootstrap data.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var wo;function mf(){return wo||(wo=1,function(t,e){(function(n,r){t.exports=r()})(ht,function(){const n=new Map;return{set(i,a,s){n.has(i)||n.set(i,new Map);const o=n.get(i);if(!o.has(a)&&o.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(o.keys())[0]}.`);return}o.set(a,s)},get(i,a){return n.has(i)&&n.get(i).get(a)||null},remove(i,a){if(!n.has(i))return;const s=n.get(i);s.delete(a),s.size===0&&n.delete(i)}}})}(Ga)),Ga.exports}var Za={exports:{}},Xi={exports:{}};/*!
  * Bootstrap index.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var ko;function Xn(){return ko||(ko=1,function(t,e){(function(n,r){r(e)})(ht,function(n){const a="transitionend",s=A=>(A&&window.CSS&&window.CSS.escape&&(A=A.replace(/#([^\s"#']+)/g,(C,T)=>`#${CSS.escape(T)}`)),A),o=A=>A==null?`${A}`:Object.prototype.toString.call(A).match(/\s([a-z]+)/i)[1].toLowerCase(),l=A=>{do A+=Math.floor(Math.random()*1e6);while(document.getElementById(A));return A},c=A=>{if(!A)return 0;let{transitionDuration:C,transitionDelay:T}=window.getComputedStyle(A);const M=Number.parseFloat(C),N=Number.parseFloat(T);return!M&&!N?0:(C=C.split(",")[0],T=T.split(",")[0],(Number.parseFloat(C)+Number.parseFloat(T))*1e3)},u=A=>{A.dispatchEvent(new Event(a))},d=A=>!A||typeof A!="object"?!1:(typeof A.jquery<"u"&&(A=A[0]),typeof A.nodeType<"u"),m=A=>d(A)?A.jquery?A[0]:A:typeof A=="string"&&A.length>0?document.querySelector(s(A)):null,g=A=>{if(!d(A)||A.getClientRects().length===0)return!1;const C=getComputedStyle(A).getPropertyValue("visibility")==="visible",T=A.closest("details:not([open])");if(!T)return C;if(T!==A){const M=A.closest("summary");if(M&&M.parentNode!==T||M===null)return!1}return C},p=A=>!A||A.nodeType!==Node.ELEMENT_NODE||A.classList.contains("disabled")?!0:typeof A.disabled<"u"?A.disabled:A.hasAttribute("disabled")&&A.getAttribute("disabled")!=="false",_=A=>{if(!document.documentElement.attachShadow)return null;if(typeof A.getRootNode=="function"){const C=A.getRootNode();return C instanceof ShadowRoot?C:null}return A instanceof ShadowRoot?A:A.parentNode?_(A.parentNode):null},b=()=>{},v=A=>{A.offsetHeight},w=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,S=[],P=A=>{document.readyState==="loading"?(S.length||document.addEventListener("DOMContentLoaded",()=>{for(const C of S)C()}),S.push(A)):A()},O=()=>document.documentElement.dir==="rtl",k=A=>{P(()=>{const C=w();if(C){const T=A.NAME,M=C.fn[T];C.fn[T]=A.jQueryInterface,C.fn[T].Constructor=A,C.fn[T].noConflict=()=>(C.fn[T]=M,A.jQueryInterface)}})},E=(A,C=[],T=A)=>typeof A=="function"?A(...C):T,D=(A,C,T=!0)=>{if(!T){E(A);return}const N=c(C)+5;let x=!1;const B=({target:H})=>{H===C&&(x=!0,C.removeEventListener(a,B),E(A))};C.addEventListener(a,B),setTimeout(()=>{x||u(C)},N)},I=(A,C,T,M)=>{const N=A.length;let x=A.indexOf(C);return x===-1?!T&&M?A[N-1]:A[0]:(x+=T?1:-1,M&&(x=(x+N)%N),A[Math.max(0,Math.min(x,N-1))])};n.defineJQueryPlugin=k,n.execute=E,n.executeAfterTransition=D,n.findShadowRoot=_,n.getElement=m,n.getNextActiveElement=I,n.getTransitionDurationFromElement=c,n.getUID=l,n.getjQuery=w,n.isDisabled=p,n.isElement=d,n.isRTL=O,n.isVisible=g,n.noop=b,n.onDOMContentLoaded=P,n.parseSelector=s,n.reflow=v,n.toType=o,n.triggerTransitionEnd=u,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})})}(Xi,Xi.exports)),Xi.exports}/*!
  * Bootstrap event-handler.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var To;function Xr(){return To||(To=1,function(t,e){(function(n,r){t.exports=r(Xn())})(ht,function(n){const r=/[^.]*(?=\..*)\.|.*/,i=/\..*/,a=/::\d+$/,s={};let o=1;const l={mouseenter:"mouseover",mouseleave:"mouseout"},c=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function u(k,E){return E&&`${E}::${o++}`||k.uidEvent||o++}function d(k){const E=u(k);return k.uidEvent=E,s[E]=s[E]||{},s[E]}function m(k,E){return function D(I){return O(I,{delegateTarget:k}),D.oneOff&&P.off(k,I.type,E),E.apply(k,[I])}}function g(k,E,D){return function I(A){const C=k.querySelectorAll(E);for(let{target:T}=A;T&&T!==this;T=T.parentNode)for(const M of C)if(M===T)return O(A,{delegateTarget:T}),I.oneOff&&P.off(k,A.type,E,D),D.apply(T,[A])}}function p(k,E,D=null){return Object.values(k).find(I=>I.callable===E&&I.delegationSelector===D)}function _(k,E,D){const I=typeof E=="string",A=I?D:E||D;let C=S(k);return c.has(C)||(C=k),[I,A,C]}function b(k,E,D,I,A){if(typeof E!="string"||!k)return;let[C,T,M]=_(E,D,I);E in l&&(T=(G=>function(U){if(!U.relatedTarget||U.relatedTarget!==U.delegateTarget&&!U.delegateTarget.contains(U.relatedTarget))return G.call(this,U)})(T));const N=d(k),x=N[M]||(N[M]={}),B=p(x,T,C?D:null);if(B){B.oneOff=B.oneOff&&A;return}const H=u(T,E.replace(r,"")),V=C?g(k,D,T):m(k,T);V.delegationSelector=C?D:null,V.callable=T,V.oneOff=A,V.uidEvent=H,x[H]=V,k.addEventListener(M,V,C)}function v(k,E,D,I,A){const C=p(E[D],I,A);C&&(k.removeEventListener(D,C,!!A),delete E[D][C.uidEvent])}function w(k,E,D,I){const A=E[D]||{};for(const[C,T]of Object.entries(A))C.includes(I)&&v(k,E,D,T.callable,T.delegationSelector)}function S(k){return k=k.replace(i,""),l[k]||k}const P={on(k,E,D,I){b(k,E,D,I,!1)},one(k,E,D,I){b(k,E,D,I,!0)},off(k,E,D,I){if(typeof E!="string"||!k)return;const[A,C,T]=_(E,D,I),M=T!==E,N=d(k),x=N[T]||{},B=E.startsWith(".");if(typeof C<"u"){if(!Object.keys(x).length)return;v(k,N,T,C,A?D:null);return}if(B)for(const H of Object.keys(N))w(k,N,H,E.slice(1));for(const[H,V]of Object.entries(x)){const Q=H.replace(a,"");(!M||E.includes(Q))&&v(k,N,T,V.callable,V.delegationSelector)}},trigger(k,E,D){if(typeof E!="string"||!k)return null;const I=n.getjQuery(),A=S(E),C=E!==A;let T=null,M=!0,N=!0,x=!1;C&&I&&(T=I.Event(E,D),I(k).trigger(T),M=!T.isPropagationStopped(),N=!T.isImmediatePropagationStopped(),x=T.isDefaultPrevented());const B=O(new Event(E,{bubbles:M,cancelable:!0}),D);return x&&B.preventDefault(),N&&k.dispatchEvent(B),B.defaultPrevented&&T&&T.preventDefault(),B}};function O(k,E={}){for(const[D,I]of Object.entries(E))try{k[D]=I}catch{Object.defineProperty(k,D,{configurable:!0,get(){return I}})}return k}return P})}(Za)),Za.exports}var Ya={exports:{}},Ka={exports:{}};/*!
  * Bootstrap manipulator.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Po;function Fs(){return Po||(Po=1,function(t,e){(function(n,r){t.exports=r()})(ht,function(){function n(a){if(a==="true")return!0;if(a==="false")return!1;if(a===Number(a).toString())return Number(a);if(a===""||a==="null")return null;if(typeof a!="string")return a;try{return JSON.parse(decodeURIComponent(a))}catch{return a}}function r(a){return a.replace(/[A-Z]/g,s=>`-${s.toLowerCase()}`)}return{setDataAttribute(a,s,o){a.setAttribute(`data-bs-${r(s)}`,o)},removeDataAttribute(a,s){a.removeAttribute(`data-bs-${r(s)}`)},getDataAttributes(a){if(!a)return{};const s={},o=Object.keys(a.dataset).filter(l=>l.startsWith("bs")&&!l.startsWith("bsConfig"));for(const l of o){let c=l.replace(/^bs/,"");c=c.charAt(0).toLowerCase()+c.slice(1,c.length),s[c]=n(a.dataset[l])}return s},getDataAttribute(a,s){return n(a.getAttribute(`data-bs-${r(s)}`))}}})}(Ka)),Ka.exports}/*!
  * Bootstrap config.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Eo;function Hs(){return Eo||(Eo=1,function(t,e){(function(n,r){t.exports=r(Fs(),Xn())})(ht,function(n,r){class i{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(s){return s=this._mergeConfigObj(s),s=this._configAfterMerge(s),this._typeCheckConfig(s),s}_configAfterMerge(s){return s}_mergeConfigObj(s,o){const l=r.isElement(o)?n.getDataAttribute(o,"config"):{};return{...this.constructor.Default,...typeof l=="object"?l:{},...r.isElement(o)?n.getDataAttributes(o):{},...typeof s=="object"?s:{}}}_typeCheckConfig(s,o=this.constructor.DefaultType){for(const[l,c]of Object.entries(o)){const u=s[l],d=r.isElement(u)?"element":r.toType(u);if(!new RegExp(c).test(d))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${l}" provided type "${d}" but expected type "${c}".`)}}}return i})}(Ya)),Ya.exports}/*!
  * Bootstrap base-component.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var So;function hu(){return So||(So=1,function(t,e){(function(n,r){t.exports=r(mf(),Xr(),Hs(),Xn())})(ht,function(n,r,i,a){const s="5.3.3";class o extends i{constructor(c,u){super(),c=a.getElement(c),c&&(this._element=c,this._config=this._getConfig(u),n.set(this._element,this.constructor.DATA_KEY,this))}dispose(){n.remove(this._element,this.constructor.DATA_KEY),r.off(this._element,this.constructor.EVENT_KEY);for(const c of Object.getOwnPropertyNames(this))this[c]=null}_queueCallback(c,u,d=!0){a.executeAfterTransition(c,u,d)}_getConfig(c){return c=this._mergeConfigObj(c,this._element),c=this._configAfterMerge(c),this._typeCheckConfig(c),c}static getInstance(c){return n.get(a.getElement(c),this.DATA_KEY)}static getOrCreateInstance(c,u={}){return this.getInstance(c)||new this(c,typeof u=="object"?u:null)}static get VERSION(){return s}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(c){return`${c}${this.EVENT_KEY}`}}return o})}(Ha)),Ha.exports}var Qa={exports:{}};/*!
  * Bootstrap selector-engine.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Ao;function Hi(){return Ao||(Ao=1,function(t,e){(function(n,r){t.exports=r(Xn())})(ht,function(n){const r=a=>{let s=a.getAttribute("data-bs-target");if(!s||s==="#"){let o=a.getAttribute("href");if(!o||!o.includes("#")&&!o.startsWith("."))return null;o.includes("#")&&!o.startsWith("#")&&(o=`#${o.split("#")[1]}`),s=o&&o!=="#"?o.trim():null}return s?s.split(",").map(o=>n.parseSelector(o)).join(","):null},i={find(a,s=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(s,a))},findOne(a,s=document.documentElement){return Element.prototype.querySelector.call(s,a)},children(a,s){return[].concat(...a.children).filter(o=>o.matches(s))},parents(a,s){const o=[];let l=a.parentNode.closest(s);for(;l;)o.push(l),l=l.parentNode.closest(s);return o},prev(a,s){let o=a.previousElementSibling;for(;o;){if(o.matches(s))return[o];o=o.previousElementSibling}return[]},next(a,s){let o=a.nextElementSibling;for(;o;){if(o.matches(s))return[o];o=o.nextElementSibling}return[]},focusableChildren(a){const s=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(o=>`${o}:not([tabindex^="-"])`).join(",");return this.find(s,a).filter(o=>!n.isDisabled(o)&&n.isVisible(o))},getSelectorFromElement(a){const s=r(a);return s&&i.findOne(s)?s:null},getElementFromSelector(a){const s=r(a);return s?i.findOne(s):null},getMultipleElementsFromSelector(a){const s=r(a);return s?i.find(s):[]}};return i})}(Qa)),Qa.exports}/*!
  * Bootstrap dropdown.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r(_f,hu(),Xr(),Fs(),Hi(),Xn())})(ht,function(n,r,i,a,s,o){function l(de){const X=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(de){for(const Ee in de)if(Ee!=="default"){const Ne=Object.getOwnPropertyDescriptor(de,Ee);Object.defineProperty(X,Ee,Ne.get?Ne:{enumerable:!0,get:()=>de[Ee]})}}return X.default=de,Object.freeze(X)}const c=l(n),u="dropdown",m=".bs.dropdown",g=".data-api",p="Escape",_="Tab",b="ArrowUp",v="ArrowDown",w=2,S=`hide${m}`,P=`hidden${m}`,O=`show${m}`,k=`shown${m}`,E=`click${m}${g}`,D=`keydown${m}${g}`,I=`keyup${m}${g}`,A="show",C="dropup",T="dropend",M="dropstart",N="dropup-center",x="dropdown-center",B='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',H=`${B}.${A}`,V=".dropdown-menu",Q=".navbar",G=".navbar-nav",U=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",$=o.isRTL()?"top-end":"top-start",z=o.isRTL()?"top-start":"top-end",F=o.isRTL()?"bottom-end":"bottom-start",Z=o.isRTL()?"bottom-start":"bottom-end",J=o.isRTL()?"left-start":"right-start",oe=o.isRTL()?"right-start":"left-start",_e="top",Le="bottom",be={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},xe={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class ae extends r{constructor(X,Ee){super(X,Ee),this._popper=null,this._parent=this._element.parentNode,this._menu=s.next(this._element,V)[0]||s.prev(this._element,V)[0]||s.findOne(V,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return be}static get DefaultType(){return xe}static get NAME(){return u}toggle(){return this._isShown()?this.hide():this.show()}show(){if(o.isDisabled(this._element)||this._isShown())return;const X={relatedTarget:this._element};if(!i.trigger(this._element,O,X).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(G))for(const Ne of[].concat(...document.body.children))i.on(Ne,"mouseover",o.noop);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(A),this._element.classList.add(A),i.trigger(this._element,k,X)}}hide(){if(o.isDisabled(this._element)||!this._isShown())return;const X={relatedTarget:this._element};this._completeHide(X)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(X){if(!i.trigger(this._element,S,X).defaultPrevented){if("ontouchstart"in document.documentElement)for(const Ne of[].concat(...document.body.children))i.off(Ne,"mouseover",o.noop);this._popper&&this._popper.destroy(),this._menu.classList.remove(A),this._element.classList.remove(A),this._element.setAttribute("aria-expanded","false"),a.removeDataAttribute(this._menu,"popper"),i.trigger(this._element,P,X)}}_getConfig(X){if(X=super._getConfig(X),typeof X.reference=="object"&&!o.isElement(X.reference)&&typeof X.reference.getBoundingClientRect!="function")throw new TypeError(`${u.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return X}_createPopper(){if(typeof c>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let X=this._element;this._config.reference==="parent"?X=this._parent:o.isElement(this._config.reference)?X=o.getElement(this._config.reference):typeof this._config.reference=="object"&&(X=this._config.reference);const Ee=this._getPopperConfig();this._popper=c.createPopper(X,this._menu,Ee)}_isShown(){return this._menu.classList.contains(A)}_getPlacement(){const X=this._parent;if(X.classList.contains(T))return J;if(X.classList.contains(M))return oe;if(X.classList.contains(N))return _e;if(X.classList.contains(x))return Le;const Ee=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return X.classList.contains(C)?Ee?z:$:Ee?Z:F}_detectNavbar(){return this._element.closest(Q)!==null}_getOffset(){const{offset:X}=this._config;return typeof X=="string"?X.split(",").map(Ee=>Number.parseInt(Ee,10)):typeof X=="function"?Ee=>X(Ee,this._element):X}_getPopperConfig(){const X={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(a.setDataAttribute(this._menu,"popper","static"),X.modifiers=[{name:"applyStyles",enabled:!1}]),{...X,...o.execute(this._config.popperConfig,[X])}}_selectMenuItem({key:X,target:Ee}){const Ne=s.find(U,this._menu).filter(we=>o.isVisible(we));Ne.length&&o.getNextActiveElement(Ne,Ee,X===v,!Ne.includes(Ee)).focus()}static jQueryInterface(X){return this.each(function(){const Ee=ae.getOrCreateInstance(this,X);if(typeof X=="string"){if(typeof Ee[X]>"u")throw new TypeError(`No method named "${X}"`);Ee[X]()}})}static clearMenus(X){if(X.button===w||X.type==="keyup"&&X.key!==_)return;const Ee=s.find(H);for(const Ne of Ee){const we=ae.getInstance(Ne);if(!we||we._config.autoClose===!1)continue;const Ve=X.composedPath(),Me=Ve.includes(we._menu);if(Ve.includes(we._element)||we._config.autoClose==="inside"&&!Me||we._config.autoClose==="outside"&&Me||we._menu.contains(X.target)&&(X.type==="keyup"&&X.key===_||/input|select|option|textarea|form/i.test(X.target.tagName)))continue;const ve={relatedTarget:we._element};X.type==="click"&&(ve.clickEvent=X),we._completeHide(ve)}}static dataApiKeydownHandler(X){const Ee=/input|textarea/i.test(X.target.tagName),Ne=X.key===p,we=[b,v].includes(X.key);if(!we&&!Ne||Ee&&!Ne)return;X.preventDefault();const Ve=this.matches(B)?this:s.prev(this,B)[0]||s.next(this,B)[0]||s.findOne(B,X.delegateTarget.parentNode),Me=ae.getOrCreateInstance(Ve);if(we){X.stopPropagation(),Me.show(),Me._selectMenuItem(X);return}Me._isShown()&&(X.stopPropagation(),Me.hide(),Ve.focus())}}return i.on(document,D,B,ae.dataApiKeydownHandler),i.on(document,D,V,ae.dataApiKeydownHandler),i.on(document,E,ae.clearMenus),i.on(document,I,ae.clearMenus),i.on(document,E,B,function(de){de.preventDefault(),ae.getOrCreateInstance(this).toggle()}),o.defineJQueryPlugin(ae),ae})})(pu);var bf=pu.exports;const ys=qi(bf);function yt(){}function Gr(t,e){for(const n in e)t[n]=e[n];return t}function _u(t){return t()}function Do(){return Object.create(null)}function ct(t){t.forEach(_u)}function Gs(t){return typeof t=="function"}function wt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ea;function Oo(t,e){return t===e?!0:(ea||(ea=document.createElement("a")),ea.href=e,t===ea.href)}function gf(t){return Object.keys(t).length===0}function Zs(t,...e){if(t==null){for(const r of e)r(void 0);return yt}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function vf(t){let e;return Zs(t,n=>e=n)(),e}function nt(t,e,n){t.$$.on_destroy.push(Zs(e,n))}function Si(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Lo(t,e){const n={};e=new Set(e);for(const r in t)!e.has(r)&&r[0]!=="$"&&(n[r]=t[r]);return n}function f(t,e){t.appendChild(e)}function q(t,e,n){t.insertBefore(e,n||null)}function W(t){t.parentNode&&t.parentNode.removeChild(t)}function zt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function K(t){return document.createTextNode(t)}function L(){return K(" ")}function er(){return K("")}function Y(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function h(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Gi(t){let e;return{p(...n){e=n,e.forEach(r=>t.push(r))},r(){e.forEach(n=>t.splice(t.indexOf(n),1))}}}function dt(t){return t===""?null:+t}function yf(t){return Array.from(t.childNodes)}function ie(t,e){e=""+e,t.data!==e&&(t.data=e)}function ke(t,e){t.value=e??""}function yn(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function xt(t,e,n){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Zn(t){const e=t.querySelector(":checked");return e&&e.__value}let Ai;function Ei(t){Ai=t}function mu(){if(!Ai)throw new Error("Function called outside component initialization");return Ai}function ei(t){mu().$$.on_mount.push(t)}function Ys(t){mu().$$.on_destroy.push(t)}const xr=[],Ar=[];let Ur=[];const Co=[],bu=Promise.resolve();let ws=!1;function gu(){ws||(ws=!0,bu.then(yu))}function vu(){return gu(),bu}function wn(t){Ur.push(t)}const Ja=new Set;let Mr=0;function yu(){if(Mr!==0)return;const t=Ai;do{try{for(;Mr<xr.length;){const e=xr[Mr];Mr++,Ei(e),wf(e.$$)}}catch(e){throw xr.length=0,Mr=0,e}for(Ei(null),xr.length=0,Mr=0;Ar.length;)Ar.pop()();for(let e=0;e<Ur.length;e+=1){const n=Ur[e];Ja.has(n)||(Ja.add(n),n())}Ur.length=0}while(xr.length);for(;Co.length;)Co.pop()();ws=!1,Ja.clear(),Ei(t)}function wf(t){if(t.fragment!==null){t.update(),ct(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(wn)}}function kf(t){const e=[],n=[];Ur.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Ur=e}const sa=new Set;let wr;function Xe(){wr={r:0,c:[],p:wr}}function et(){wr.r||ct(wr.c),wr=wr.p}function j(t,e){t&&t.i&&(sa.delete(t),t.i(e))}function R(t,e,n,r){if(t&&t.o){if(sa.has(t))return;sa.add(t),wr.c.push(()=>{sa.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function Qe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function re(t){t&&t.c()}function te(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),wn(()=>{const a=t.$$.on_mount.map(_u).filter(Gs);t.$$.on_destroy?t.$$.on_destroy.push(...a):ct(a),t.$$.on_mount=[]}),i.forEach(wn)}function ne(t,e){const n=t.$$;n.fragment!==null&&(kf(n.after_update),ct(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Tf(t,e){t.$$.dirty[0]===-1&&(xr.push(t),gu(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Tt(t,e,n,r,i,a,s=null,o=[-1]){const l=Ai;Ei(t);const c=t.$$={fragment:null,ctx:[],props:a,update:yt,not_equal:i,bound:Do(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Do(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};s&&s(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(d,m,...g)=>{const p=g.length?g[0]:m;return c.ctx&&i(c.ctx[d],c.ctx[d]=p)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](p),u&&Tf(t,d)),m}):[],c.update(),u=!0,ct(c.before_update),c.fragment=r?r(c.ctx):!1,e.target){if(e.hydrate){const d=yf(e.target);c.fragment&&c.fragment.l(d),d.forEach(W)}else c.fragment&&c.fragment.c();e.intro&&j(t.$$.fragment),te(t,e.target,e.anchor),yu()}Ei(l)}class Pt{constructor(){Fa(this,"$$");Fa(this,"$$set")}$destroy(){ne(this,1),this.$destroy=yt}$on(e,n){if(!Gs(n))return yt;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!gf(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Pf="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Pf);var Xa={},es={},si={},wu={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,d,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var g=new i(u,d||l,m),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],g]:l._events[p].push(g):(l._events[p]=g,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var m=0,g=d.length,p=new Array(g);m<g;m++)p[m]=d[m].fn;return p},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,m,g,p){var _=n?n+c:c;if(!this._events[_])return!1;var b=this._events[_],v=arguments.length,w,S;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,d),!0;case 4:return b.fn.call(b.context,u,d,m),!0;case 5:return b.fn.call(b.context,u,d,m,g),!0;case 6:return b.fn.call(b.context,u,d,m,g,p),!0}for(S=1,w=new Array(v-1);S<v;S++)w[S-1]=arguments[S];b.fn.apply(b.context,w)}else{var P=b.length,O;for(S=0;S<P;S++)switch(b[S].once&&this.removeListener(c,b[S].fn,void 0,!0),v){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,u);break;case 3:b[S].fn.call(b[S].context,u,d);break;case 4:b[S].fn.call(b[S].context,u,d,m);break;default:if(!w)for(O=1,w=new Array(v-1);O<v;O++)w[O-1]=arguments[O];b[S].fn.apply(b[S].context,w)}}return!0},o.prototype.on=function(c,u,d){return a(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return a(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,m){var g=n?n+c:c;if(!this._events[g])return this;if(!u)return s(this,g),this;var p=this._events[g];if(p.fn)p.fn===u&&(!m||p.once)&&(!d||p.context===d)&&s(this,g);else{for(var _=0,b=[],v=p.length;_<v;_++)(p[_].fn!==u||m&&!p[_].once||d&&p[_].context!==d)&&b.push(p[_]);b.length?this._events[g]=b.length===1?b[0]:b:s(this,g)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&s(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(wu);var Ef=wu.exports,ku={},ks=function(t,e){return ks=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ks(t,e)};function Tu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ks(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var pa=function(){return pa=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},pa.apply(this,arguments)};function Pu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Eu(t,e,n,r){var i=arguments.length,a=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(s=t[o])&&(a=(i<3?s(a):i>3?s(e,n,a):s(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function Su(t,e){return function(n,r){e(n,r,t)}}function Sf(t,e,n,r,i,a){function s(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var o=r.kind,l=o==="getter"?"get":o==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,m=!1,g=n.length-1;g>=0;g--){var p={};for(var _ in r)p[_]=_==="access"?{}:r[_];for(var _ in r.access)p.access[_]=r.access[_];p.addInitializer=function(v){if(m)throw new TypeError("Cannot add initializers after decoration has completed");a.push(s(v||null))};var b=(0,n[g])(o==="accessor"?{get:u.get,set:u.set}:u[l],p);if(o==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(d=s(b.get))&&(u.get=d),(d=s(b.set))&&(u.set=d),(d=s(b.init))&&i.unshift(d)}else(d=s(b))&&(o==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),m=!0}function Af(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function Df(t){return typeof t=="symbol"?t:"".concat(t)}function Of(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Au(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Du(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?a(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})}function Ou(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=o(0),s.throw=o(1),s.return=o(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Oa=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function Lu(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Oa(e,t,n)}function ha(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ks(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,a=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return a}function Cu(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ks(arguments[e]));return t}function Iu(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r}function Bu(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function Zr(t){return this instanceof Zr?(this.v=t,this):new Zr(t)}function Mu(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(p){return Promise.resolve(p).then(g,d)}}function o(g,p){r[g]&&(i[g]=function(_){return new Promise(function(b,v){a.push([g,_,b,v])>1||l(g,_)})},p&&(i[g]=p(i[g])))}function l(g,p){try{c(r[g](p))}catch(_){m(a[0][3],_)}}function c(g){g.value instanceof Zr?Promise.resolve(g.value.v).then(u,d):m(a[0][2],g)}function u(g){l("next",g)}function d(g){l("throw",g)}function m(g,p){g(p),a.shift(),a.length&&l(a[0][0],a[0][1])}}function Nu(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,a){e[i]=t[i]?function(s){return(n=!n)?{value:Zr(t[i](s)),done:!1}:a?a(s):s}:a}}function ju(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof ha=="function"?ha(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(o,l){s=t[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(c){a({value:c,done:o})},s)}}function xu(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Lf=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function Ru(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Oa(e,t,n);return Lf(e,t),e}function $u(t){return t&&t.__esModule?t:{default:t}}function Uu(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function zu(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function Vu(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Wu(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var Cf=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function qu(t){function e(a){t.error=t.hasError?new Cf(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(a).then(i,function(s){return e(s),i()})}else r|=1}catch(s){e(s)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}const If={__extends:Tu,__assign:pa,__rest:Pu,__decorate:Eu,__param:Su,__metadata:Au,__awaiter:Du,__generator:Ou,__createBinding:Oa,__exportStar:Lu,__values:ha,__read:Ks,__spread:Cu,__spreadArrays:Iu,__spreadArray:Bu,__await:Zr,__asyncGenerator:Mu,__asyncDelegator:Nu,__asyncValues:ju,__makeTemplateObject:xu,__importStar:Ru,__importDefault:$u,__classPrivateFieldGet:Uu,__classPrivateFieldSet:zu,__classPrivateFieldIn:Vu,__addDisposableResource:Wu,__disposeResources:qu},Bf=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Wu,get __assign(){return pa},__asyncDelegator:Nu,__asyncGenerator:Mu,__asyncValues:ju,__await:Zr,__awaiter:Du,__classPrivateFieldGet:Uu,__classPrivateFieldIn:Vu,__classPrivateFieldSet:zu,__createBinding:Oa,__decorate:Eu,__disposeResources:qu,__esDecorate:Sf,__exportStar:Lu,__extends:Tu,__generator:Ou,__importDefault:$u,__importStar:Ru,__makeTemplateObject:xu,__metadata:Au,__param:Su,__propKey:Df,__read:Ks,__rest:Pu,__runInitializers:Af,__setFunctionName:Of,__spread:Cu,__spreadArray:Bu,__spreadArrays:Iu,__values:ha,default:If},Symbol.toStringTag,{value:"Module"})),La=Ea(Bf);var Qs={},Ca={},An={};Object.defineProperty(An,"__esModule",{value:!0});An.E_CANCELED=An.E_ALREADY_LOCKED=An.E_TIMEOUT=void 0;An.E_TIMEOUT=new Error("timeout while waiting for mutex to become available");An.E_ALREADY_LOCKED=new Error("mutex already locked");An.E_CANCELED=new Error("request for lock canceled");Object.defineProperty(Ca,"__esModule",{value:!0});var Io=La,Mf=An,Nf=function(){function t(e,n){n===void 0&&(n=Mf.E_CANCELED),this._value=e,this._cancelError=n,this._queue=[],this._weightedWaiters=[]}return t.prototype.acquire=function(e,n){var r=this;if(e===void 0&&(e=1),n===void 0&&(n=0),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));return new Promise(function(i,a){var s={resolve:i,reject:a,weight:e,priority:n},o=Fu(r._queue,function(l){return n<=l.priority});o===-1&&e<=r._value?r._dispatchItem(s):r._queue.splice(o+1,0,s)})},t.prototype.runExclusive=function(e){return Io.__awaiter(this,arguments,void 0,function(n,r,i){var a,s,o;return r===void 0&&(r=1),i===void 0&&(i=0),Io.__generator(this,function(l){switch(l.label){case 0:return[4,this.acquire(r,i)];case 1:a=l.sent(),s=a[0],o=a[1],l.label=2;case 2:return l.trys.push([2,,4,5]),[4,n(s)];case 3:return[2,l.sent()];case 4:return o(),[7];case 5:return[2]}})})},t.prototype.waitForUnlock=function(e,n){var r=this;if(e===void 0&&(e=1),n===void 0&&(n=0),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));return this._couldLockImmediately(e,n)?Promise.resolve():new Promise(function(i){r._weightedWaiters[e-1]||(r._weightedWaiters[e-1]=[]),jf(r._weightedWaiters[e-1],{resolve:i,priority:n})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.getValue=function(){return this._value},t.prototype.setValue=function(e){this._value=e,this._dispatchQueue()},t.prototype.release=function(e){if(e===void 0&&(e=1),e<=0)throw new Error("invalid weight ".concat(e,": must be positive"));this._value+=e,this._dispatchQueue()},t.prototype.cancel=function(){var e=this;this._queue.forEach(function(n){return n.reject(e._cancelError)}),this._queue=[]},t.prototype._dispatchQueue=function(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()},t.prototype._dispatchItem=function(e){var n=this._value;this._value-=e.weight,e.resolve([n,this._newReleaser(e.weight)])},t.prototype._newReleaser=function(e){var n=this,r=!1;return function(){r||(r=!0,n.release(e))}},t.prototype._drainUnlockWaiters=function(){if(this._queue.length===0)for(var e=this._value;e>0;e--){var n=this._weightedWaiters[e-1];n&&(n.forEach(function(a){return a.resolve()}),this._weightedWaiters[e-1]=[])}else for(var r=this._queue[0].priority,e=this._value;e>0;e--){var n=this._weightedWaiters[e-1];if(n){var i=n.findIndex(function(o){return o.priority<=r});(i===-1?n:n.splice(0,i)).forEach(function(o){return o.resolve()})}}},t.prototype._couldLockImmediately=function(e,n){return(this._queue.length===0||this._queue[0].priority<n)&&e<=this._value},t}();function jf(t,e){var n=Fu(t,function(r){return e.priority<=r.priority});t.splice(n+1,0,e)}function Fu(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n]))return n;return-1}Ca.default=Nf;Object.defineProperty(Qs,"__esModule",{value:!0});var Bo=La,xf=Ca,Rf=function(){function t(e){this._semaphore=new xf.default(1,e)}return t.prototype.acquire=function(){return Bo.__awaiter(this,arguments,void 0,function(e){var n,r;return e===void 0&&(e=0),Bo.__generator(this,function(i){switch(i.label){case 0:return[4,this._semaphore.acquire(1,e)];case 1:return n=i.sent(),r=n[1],[2,r]}})})},t.prototype.runExclusive=function(e,n){return n===void 0&&(n=0),this._semaphore.runExclusive(function(){return e()},1,n)},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.waitForUnlock=function(e){return e===void 0&&(e=0),this._semaphore.waitForUnlock(1,e)},t.prototype.release=function(){this._semaphore.isLocked()&&this._semaphore.release()},t.prototype.cancel=function(){return this._semaphore.cancel()},t}();Qs.default=Rf;var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.withTimeout=void 0;var ta=La,$f=An;function Uf(t,e,n){var r=this;return n===void 0&&(n=$f.E_TIMEOUT),{acquire:function(i,a){var s;if(na(t)?s=i:(s=void 0,a=i),s!==void 0&&s<=0)throw new Error("invalid weight ".concat(s,": must be positive"));return new Promise(function(o,l){return ta.__awaiter(r,void 0,void 0,function(){var c,u,d,m,g;return ta.__generator(this,function(p){switch(p.label){case 0:c=!1,u=setTimeout(function(){c=!0,l(n)},e),p.label=1;case 1:return p.trys.push([1,3,,4]),[4,na(t)?t.acquire(s,a):t.acquire(a)];case 2:return d=p.sent(),c?(m=Array.isArray(d)?d[1]:d,m()):(clearTimeout(u),o(d)),[3,4];case 3:return g=p.sent(),c||(clearTimeout(u),l(g)),[3,4];case 4:return[2]}})})})},runExclusive:function(i,a,s){return ta.__awaiter(this,void 0,void 0,function(){var o,l;return ta.__generator(this,function(c){switch(c.label){case 0:o=function(){},c.label=1;case 1:return c.trys.push([1,,7,8]),[4,this.acquire(a,s)];case 2:return l=c.sent(),Array.isArray(l)?(o=l[1],[4,i(l[0])]):[3,4];case 3:return[2,c.sent()];case 4:return o=l,[4,i()];case 5:return[2,c.sent()];case 6:return[3,8];case 7:return o(),[7];case 8:return[2]}})})},release:function(i){t.release(i)},cancel:function(){return t.cancel()},waitForUnlock:function(i,a){var s;if(na(t)?s=i:(s=void 0,a=i),s!==void 0&&s<=0)throw new Error("invalid weight ".concat(s,": must be positive"));return new Promise(function(o,l){var c=setTimeout(function(){return l(n)},e);(na(t)?t.waitForUnlock(s,a):t.waitForUnlock(a)).then(function(){clearTimeout(c),o()})})},isLocked:function(){return t.isLocked()},getValue:function(){return t.getValue()},setValue:function(i){return t.setValue(i)}}}Zi.withTimeout=Uf;function na(t){return t.getValue!==void 0}var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.tryAcquire=void 0;var zf=An,Vf=Zi;function Wf(t,e){return e===void 0&&(e=zf.E_ALREADY_LOCKED),(0,Vf.withTimeout)(t,0,e)}Ia.tryAcquire=Wf;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.tryAcquire=t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=La,n=Qs;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return n.default}});var r=Ca;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var i=Zi;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return i.withTimeout}});var a=Ia;Object.defineProperty(t,"tryAcquire",{enumerable:!0,get:function(){return a.tryAcquire}}),e.__exportStar(An,t)})(ku);var ts={},oi={},un={};/*! Capacitor: https://capacitorjs.com/ - MIT License */const qf=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},r=(a,s)=>{n.platforms.set(a,s)},i=a=>{n.platforms.has(a)&&(n.currentPlatform=n.platforms.get(a))};return n.addPlatform=r,n.setPlatform=i,n},Ff=t=>t.CapacitorPlatforms=qf(t),Js=Ff(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Hf=Js.addPlatform,Gf=Js.setPlatform,Zf=(t,e)=>{var n;const r=e.config,i=t.Plugins;if(!(r!=null&&r.name))throw new Error('Capacitor WebPlugin is using the deprecated "registerWebPlugin()" function, but without the config. Please use "registerPlugin()" instead to register this web plugin."');console.warn(`Capacitor plugin "${r.name}" is using the deprecated "registerWebPlugin()" function`),(!i[r.name]||!((n=r==null?void 0:r.platforms)===null||n===void 0)&&n.includes(t.getPlatform()))&&(i[r.name]=e)};var Dr;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Dr||(Dr={}));class oa extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const Yf=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Kf=t=>{var e,n,r,i,a;const s=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},l=o.Plugins=o.Plugins||{},c=t.CapacitorPlatforms,u=()=>s!==null?s.name:Yf(t),d=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||u,m=()=>d()!=="web",g=((n=c==null?void 0:c.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||m,p=E=>{const D=P.get(E);return!!(D!=null&&D.platforms.has(d())||v(E))},_=((r=c==null?void 0:c.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||p,b=E=>{var D;return(D=o.PluginHeaders)===null||D===void 0?void 0:D.find(I=>I.name===E)},v=((i=c==null?void 0:c.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||b,w=E=>t.console.error(E),S=(E,D,I)=>Promise.reject(`${I} does not have an implementation of "${D}".`),P=new Map,O=(E,D={})=>{const I=P.get(E);if(I)return console.warn(`Capacitor plugin "${E}" already registered. Cannot register plugins twice.`),I.proxy;const A=d(),C=v(E);let T;const M=async()=>(!T&&A in D?T=typeof D[A]=="function"?T=await D[A]():T=D[A]:s!==null&&!T&&"web"in D&&(T=typeof D.web=="function"?T=await D.web():T=D.web),T),N=(G,U)=>{var $,z;if(C){const F=C==null?void 0:C.methods.find(Z=>U===Z.name);if(F)return F.rtype==="promise"?Z=>o.nativePromise(E,U.toString(),Z):(Z,J)=>o.nativeCallback(E,U.toString(),Z,J);if(G)return($=G[U])===null||$===void 0?void 0:$.bind(G)}else{if(G)return(z=G[U])===null||z===void 0?void 0:z.bind(G);throw new oa(`"${E}" plugin is not implemented on ${A}`,Dr.Unimplemented)}},x=G=>{let U;const $=(...z)=>{const F=M().then(Z=>{const J=N(Z,G);if(J){const oe=J(...z);return U=oe==null?void 0:oe.remove,oe}else throw new oa(`"${E}.${G}()" is not implemented on ${A}`,Dr.Unimplemented)});return G==="addListener"&&(F.remove=async()=>U()),F};return $.toString=()=>`${G.toString()}() { [capacitor code] }`,Object.defineProperty($,"name",{value:G,writable:!1,configurable:!1}),$},B=x("addListener"),H=x("removeListener"),V=(G,U)=>{const $=B({eventName:G},U),z=async()=>{const Z=await $;H({eventName:G,callbackId:Z},U)},F=new Promise(Z=>$.then(()=>Z({remove:z})));return F.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await z()},F},Q=new Proxy({},{get(G,U){switch(U){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return C?V:B;case"removeListener":return H;default:return x(U)}}});return l[E]=Q,P.set(E,{name:E,proxy:Q,platforms:new Set([...Object.keys(D),...C?[A]:[]])}),Q},k=((a=c==null?void 0:c.currentPlatform)===null||a===void 0?void 0:a.registerPlugin)||O;return o.convertFileSrc||(o.convertFileSrc=E=>E),o.getPlatform=d,o.handleError=w,o.isNativePlatform=g,o.isPluginAvailable=_,o.pluginMethodNoop=S,o.registerPlugin=k,o.Exception=oa,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},Qf=t=>t.Capacitor=Kf(t),Kn=Qf(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ti=Kn.registerPlugin,Jf=Kn.Plugins,Xf=t=>Zf(Kn,t);class Xs{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const a=this.windowListeners[e];a&&!a.registered&&this.addWindowListener(a),r&&this.sendRetainedArgumentsForEvent(e);const s=async()=>this.removeListener(e,n);return Promise.resolve({remove:s})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const i=this.listeners[e];if(!i){if(r){let a=this.retainedEventArguments[e];a||(a=[]),a.push(n),this.retainedEventArguments[e]=a}return}i.forEach(a=>a(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Kn.Exception(e,Dr.Unimplemented)}unavailable(e="not available"){return new Kn.Exception(e,Dr.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const i=r.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const ep=ti("WebView"),Mo=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),No=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class tp extends Xs{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,a]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=No(i).trim(),a=No(a).trim(),n[i]=a}),n}async setCookie(e){try{const n=Mo(e.key),r=Mo(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,a=(e.path||"/").replace("path=",""),s=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${a}; ${s};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}const np=ti("CapacitorCookies",{web:()=>new tp}),rp=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(t)}),ip=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,a,s)=>(i[a]=t[e[s]],i),{})},ap=(t,e=!0)=>t?Object.entries(t).reduce((r,i)=>{const[a,s]=i;let o,l;return Array.isArray(s)?(l="",s.forEach(c=>{o=e?encodeURIComponent(c):c,l+=`${a}=${o}&`}),l.slice(0,-1)):(o=e?encodeURIComponent(s):s,l=`${a}=${o}`),`${r}&${l}`},"").substr(1):null,Hu=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=ip(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const a=new URLSearchParams;for(const[s,o]of Object.entries(t.data||{}))a.set(s,o);n.body=a.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const a=new FormData;if(t.data instanceof FormData)t.data.forEach((o,l)=>{a.append(l,o)});else for(const o of Object.keys(t.data))a.append(o,t.data[o]);n.body=a;const s=new Headers(n.headers);s.delete("content-type"),n.headers=s}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class sp extends Xs{async request(e){const n=Hu(e,e.webFetchExtra),r=ap(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,a=await fetch(i,n),s=a.headers.get("content-type")||"";let{responseType:o="text"}=a.ok?e:{};s.includes("application/json")&&(o="json");let l,c;switch(o){case"arraybuffer":case"blob":c=await a.blob(),l=await rp(c);break;case"json":l=await a.json();break;case"document":case"text":default:l=await a.text()}const u={};return a.headers.forEach((d,m)=>{u[m]=d}),{data:l,headers:u,status:a.status,url:a.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}const op=ti("CapacitorHttp",{web:()=>new sp}),lp=Object.freeze(Object.defineProperty({__proto__:null,Capacitor:Kn,CapacitorCookies:np,CapacitorException:oa,CapacitorHttp:op,CapacitorPlatforms:Js,get ExceptionCode(){return Dr},Plugins:Jf,WebPlugin:Xs,WebView:ep,addPlatform:Hf,buildRequestInit:Hu,registerPlugin:ti,registerWebPlugin:Xf,setPlatform:Gf},Symbol.toStringTag,{value:"Module"})),cp=Ea(lp);Object.defineProperty(un,"__esModule",{value:!0});un.Validators=un.Utils=void 0;const up=cp;class Ba{static numberToHex(e){const n=e.toString(16);return n.length===1?`0${n}`:n}static bufToHex(e,n=" "){return(e instanceof DataView?this.dataViewToNumberArray(e):Array.from(e)).map(i=>Ba.numberToHex(i)).join(n)}static hexToBuf(e){const n=e.match(/[\da-f]{2}/gi);return n?new Uint8Array(n.map(r=>parseInt(r,16))):new Uint8Array}static dataViewToNumberArray(e){const n=[];for(let r=0;r<e.byteLength;r++)n.push(e.getUint8(r));return n}static dataViewToU8Array(e){return Uint8Array.from(this.dataViewToNumberArray(e))}static u8ArrayToString(e){return new TextDecoder().decode(e)}static countPixelsForBitmapPacket(e,n){let r=0,i=0,a=0,s=0,o=0;const l=n/3;return e.forEach(c=>{for(let u=7;u>=0;u--)(c&1<<u)!==0&&(o<l?i++:o<l*2?a++:s++,r++),o++}),{total:r,a:i,b:a,c:s}}static u16ToBytes(e){const n=e>>8&255,r=e%256&255;return[n,r]}static bytesToI16(e){return Gu.u8ArrayLengthEquals(e,2),e[0]*256+e[1]}static u8ArraysEqual(e,n){return e.length===n.length&&e.every((r,i)=>r===n[i])}static u8ArrayAppend(e,n){const r=new Uint8Array(e.length+n.length);return r.set(e,0),r.set(n,e.length),r}static sleep(e){return new Promise(n=>setTimeout(n,e))}static isBluetoothSupported(){var e;return typeof((e=navigator.bluetooth)==null?void 0:e.requestDevice)<"u"}static isSerialSupported(){var e;return typeof((e=navigator.serial)==null?void 0:e.requestPort)<"u"}static getAvailableTransports(){var e,n;return{capacitorBle:up.Capacitor.getPlatform()!=="web",webBluetooth:typeof((e=navigator.bluetooth)==null?void 0:e.requestDevice)<"u",webSerial:typeof((n=navigator.serial)==null?void 0:n.requestPort)<"u"}}}un.Utils=Ba;class Gu{static u8ArraysEqual(e,n,r){if(!Ba.u8ArraysEqual(e,n))throw new Error(r??"Arrays must be equal")}static u8ArrayLengthEquals(e,n,r){if(e.length!==n)throw new Error(r??`Array length must be ${n}`)}static u8ArrayLengthAtLeast(e,n,r){if(e.length<n)throw new Error(r??`Array length must be at least ${n}`)}}un.Validators=Gu;var jo;function Ma(){if(jo)return oi;jo=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.NiimbotPacket=void 0;const t=un,e=tn();class n{constructor(i,a,s=[]){this._command=i,this._data=a instanceof Uint8Array?a:new Uint8Array(a),this._validResponseIds=s,this._oneWay=!1}get dataLength(){return this._data.length}get length(){return n.HEAD.length+1+1+this.dataLength+1+n.TAIL.length}set oneWay(i){this._oneWay=i}get oneWay(){return this._oneWay}get validResponseIds(){return this._validResponseIds}get command(){return this._command}get data(){return this._data}get checksum(){let i=0;return i^=this._command,i^=this._data.length,this._data.forEach(a=>i^=a),i}toBytes(){const i=new ArrayBuffer(n.HEAD.length+1+1+this._data.length+1+n.TAIL.length),a=new Uint8Array(i);let s=0;return a.set(n.HEAD,s),s+=n.HEAD.length,a[s]=this._command,s+=1,a[s]=this._data.length,s+=1,a.set(this._data,s),s+=this._data.length,a[s]=this.checksum,s+=1,a.set(n.TAIL,s),this._command===e.RequestCommandId.Connect?new Uint8Array([3,...a]):a}static fromBytes(i){const a=new Uint8Array(i.slice(0,2)),s=new Uint8Array(i.slice(i.length-2)),o=n.HEAD.length+1+1+1+n.TAIL.length;if(i.length<o)throw new Error(`Packet is too small (${i.length} < ${o})`);t.Validators.u8ArraysEqual(a,n.HEAD,"Invalid packet head"),t.Validators.u8ArraysEqual(s,n.TAIL,"Invalid packet tail");const l=i[2],c=i[3];if(i.length!==o+c)throw new Error(`Invalid packet size (${i.length} < ${o+c})`);const u=new Uint8Array(i.slice(4,4+c)),d=i[4+c],m=new n(l,u);if(m.checksum!==d)throw new Error("Invalid packet checksum");return m}static fromBytesMultiPacket(i){const a=[];let s=-1,o=-1,l=-1,c=-1;for(let d=0;d<i.length;d++){const m=i[d];m===n.HEAD[0]?s===-1?(s=d,o=-1):o=d:m===n.TAIL[0]&&s!==-1&&o!==-1&&(l===-1?(l=d,c=-1):c=d),s!==-1&&o!==-1&&l!==-1&&c!==-1&&(a.push(i.slice(s,c+1)),s=-1,o=-1,l=-1,c=-1)}const u=a.reduce((d,m)=>d+m.length,0);if(i.length!==u)throw new Error("Splitted chunks data length not equals buffer length");return a.map(d=>this.fromBytes(d))}}return oi.NiimbotPacket=n,n.HEAD=new Uint8Array([85,85]),n.TAIL=new Uint8Array([170,170]),oi}var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.commandsMap=sr.ResponseCommandId=sr.RequestCommandId=void 0;var Ts;(function(t){t[t.Invalid=-1]="Invalid",t[t.Connect=193]="Connect",t[t.CancelPrint=218]="CancelPrint",t[t.CalibrateHeight=89]="CalibrateHeight",t[t.Heartbeat=220]="Heartbeat",t[t.LabelPositioningCalibration=142]="LabelPositioningCalibration",t[t.PageEnd=227]="PageEnd",t[t.PrinterLog=5]="PrinterLog",t[t.PageStart=3]="PageStart",t[t.PrintBitmapRow=133]="PrintBitmapRow",t[t.PrintBitmapRowIndexed=131]="PrintBitmapRowIndexed",t[t.PrintClear=32]="PrintClear",t[t.PrintEmptyRow=132]="PrintEmptyRow",t[t.PrintEnd=243]="PrintEnd",t[t.PrinterInfo=64]="PrinterInfo",t[t.PrinterConfig=175]="PrinterConfig",t[t.PrinterStatusData=165]="PrinterStatusData",t[t.PrinterReset=40]="PrinterReset",t[t.PrintQuantity=21]="PrintQuantity",t[t.PrintStart=1]="PrintStart",t[t.PrintStatus=163]="PrintStatus",t[t.RfidInfo=26]="RfidInfo",t[t.RfidInfo2=28]="RfidInfo2",t[t.RfidSuccessTimes=84]="RfidSuccessTimes",t[t.SetAutoShutdownTime=39]="SetAutoShutdownTime",t[t.SetDensity=33]="SetDensity",t[t.SetLabelType=35]="SetLabelType",t[t.SetPageSize=19]="SetPageSize",t[t.SoundSettings=88]="SoundSettings",t[t.AntiFake=11]="AntiFake",t[t.WriteRFID=112]="WriteRFID",t[t.PrintTestPage=90]="PrintTestPage"})(Ts||(sr.RequestCommandId=Ts={}));var Ps;(function(t){t[t.Invalid=-1]="Invalid",t[t.In_NotSupported=0]="In_NotSupported",t[t.In_Connect=194]="In_Connect",t[t.In_CalibrateHeight=105]="In_CalibrateHeight",t[t.In_CancelPrint=208]="In_CancelPrint",t[t.In_AntiFake=12]="In_AntiFake",t[t.In_HeartbeatAdvanced1=221]="In_HeartbeatAdvanced1",t[t.In_HeartbeatBasic=222]="In_HeartbeatBasic",t[t.In_HeartbeatUnknown=223]="In_HeartbeatUnknown",t[t.In_HeartbeatAdvanced2=217]="In_HeartbeatAdvanced2",t[t.In_LabelPositioningCalibration=143]="In_LabelPositioningCalibration",t[t.In_PageStart=4]="In_PageStart",t[t.In_PrintClear=48]="In_PrintClear",t[t.In_PrinterCheckLine=211]="In_PrinterCheckLine",t[t.In_PrintEnd=244]="In_PrintEnd",t[t.In_PrinterConfig=191]="In_PrinterConfig",t[t.In_PrinterLog=6]="In_PrinterLog",t[t.In_PrinterInfoAutoShutDownTime=71]="In_PrinterInfoAutoShutDownTime",t[t.In_PrinterInfoBluetoothAddress=77]="In_PrinterInfoBluetoothAddress",t[t.In_PrinterInfoSpeed=66]="In_PrinterInfoSpeed",t[t.In_PrinterInfoDensity=65]="In_PrinterInfoDensity",t[t.In_PrinterInfoLanguage=70]="In_PrinterInfoLanguage",t[t.In_PrinterInfoChargeLevel=74]="In_PrinterInfoChargeLevel",t[t.In_PrinterInfoHardWareVersion=76]="In_PrinterInfoHardWareVersion",t[t.In_PrinterInfoLabelType=67]="In_PrinterInfoLabelType",t[t.In_PrinterInfoPrinterCode=72]="In_PrinterInfoPrinterCode",t[t.In_PrinterInfoSerialNumber=75]="In_PrinterInfoSerialNumber",t[t.In_PrinterInfoSoftWareVersion=73]="In_PrinterInfoSoftWareVersion",t[t.In_PrinterInfoArea=79]="In_PrinterInfoArea",t[t.In_PrinterStatusData=181]="In_PrinterStatusData",t[t.In_PrinterReset=56]="In_PrinterReset",t[t.In_PrintStatus=179]="In_PrintStatus",t[t.In_PrintError=219]="In_PrintError",t[t.In_PrintQuantity=22]="In_PrintQuantity",t[t.In_PrintStart=2]="In_PrintStart",t[t.In_RfidInfo=27]="In_RfidInfo",t[t.In_RfidInfo2=29]="In_RfidInfo2",t[t.In_RfidSuccessTimes=100]="In_RfidSuccessTimes",t[t.In_SetAutoShutdownTime=55]="In_SetAutoShutdownTime",t[t.In_SetDensity=49]="In_SetDensity",t[t.In_SetLabelType=51]="In_SetLabelType",t[t.In_SetPageSize=20]="In_SetPageSize",t[t.In_SoundSettings=104]="In_SoundSettings",t[t.In_PageEnd=228]="In_PageEnd",t[t.In_PrinterPageIndex=224]="In_PrinterPageIndex",t[t.In_PrintTestPage=106]="In_PrintTestPage",t[t.In_WriteRFID=113]="In_WriteRFID"})(Ps||(sr.ResponseCommandId=Ps={}));var tt=Ts,Ue=Ps;sr.commandsMap={[tt.Invalid]:null,[tt.PrintBitmapRow]:null,[tt.PrintBitmapRowIndexed]:null,[tt.PrintEmptyRow]:null,[tt.Connect]:[Ue.In_Connect],[tt.CancelPrint]:[Ue.In_CancelPrint],[tt.CalibrateHeight]:[Ue.In_CalibrateHeight],[tt.Heartbeat]:[Ue.In_HeartbeatBasic,Ue.In_HeartbeatUnknown,Ue.In_HeartbeatAdvanced1,Ue.In_HeartbeatAdvanced2],[tt.LabelPositioningCalibration]:[Ue.In_LabelPositioningCalibration],[tt.PageEnd]:[Ue.In_PageEnd],[tt.PrinterLog]:[Ue.In_PrinterLog],[tt.PageStart]:[Ue.In_PageStart],[tt.PrintClear]:[Ue.In_PrintClear],[tt.PrintEnd]:[Ue.In_PrintEnd],[tt.PrinterInfo]:[Ue.In_PrinterInfoArea,Ue.In_PrinterInfoAutoShutDownTime,Ue.In_PrinterInfoBluetoothAddress,Ue.In_PrinterInfoChargeLevel,Ue.In_PrinterInfoDensity,Ue.In_PrinterInfoHardWareVersion,Ue.In_PrinterInfoLabelType,Ue.In_PrinterInfoLanguage,Ue.In_PrinterInfoPrinterCode,Ue.In_PrinterInfoSerialNumber,Ue.In_PrinterInfoSoftWareVersion,Ue.In_PrinterInfoSpeed],[tt.PrinterConfig]:[Ue.In_PrinterConfig],[tt.PrinterStatusData]:[Ue.In_PrinterStatusData],[tt.PrinterReset]:[Ue.In_PrinterReset],[tt.PrintQuantity]:[Ue.In_PrintQuantity],[tt.PrintStart]:[Ue.In_PrintStart],[tt.PrintStatus]:[Ue.In_PrintStatus],[tt.RfidInfo]:[Ue.In_RfidInfo],[tt.RfidInfo2]:[Ue.In_RfidInfo2],[tt.RfidSuccessTimes]:[Ue.In_RfidSuccessTimes],[tt.SetAutoShutdownTime]:[Ue.In_SetAutoShutdownTime],[tt.SetDensity]:[Ue.In_SetDensity],[tt.SetLabelType]:[Ue.In_SetLabelType],[tt.SetPageSize]:[Ue.In_SetPageSize],[tt.SoundSettings]:[Ue.In_SoundSettings],[tt.AntiFake]:[Ue.In_AntiFake],[tt.WriteRFID]:[Ue.In_WriteRFID],[tt.PrintTestPage]:[Ue.In_PrintTestPage]};var St={};Object.defineProperty(St,"__esModule",{value:!0});St.PrinterErrorCode=St.ConnectResult=St.BatteryChargeLevel=St.AutoShutdownTime=St.HeartbeatType=St.LabelType=St.SoundSettingsItemType=St.SoundSettingsType=St.PrinterInfoType=void 0;var xo;(function(t){t[t.Density=1]="Density",t[t.Speed=2]="Speed",t[t.LabelType=3]="LabelType",t[t.Language=6]="Language",t[t.AutoShutdownTime=7]="AutoShutdownTime",t[t.PrinterModelId=8]="PrinterModelId",t[t.SoftWareVersion=9]="SoftWareVersion",t[t.BatteryChargeLevel=10]="BatteryChargeLevel",t[t.SerialNumber=11]="SerialNumber",t[t.HardWareVersion=12]="HardWareVersion",t[t.BluetoothAddress=13]="BluetoothAddress",t[t.PrintMode=14]="PrintMode",t[t.Area=15]="Area"})(xo||(St.PrinterInfoType=xo={}));var Ro;(function(t){t[t.SetSound=1]="SetSound",t[t.GetSoundState=2]="GetSoundState"})(Ro||(St.SoundSettingsType=Ro={}));var $o;(function(t){t[t.BluetoothConnectionSound=1]="BluetoothConnectionSound",t[t.PowerSound=2]="PowerSound"})($o||(St.SoundSettingsItemType=$o={}));var Uo;(function(t){t[t.Invalid=0]="Invalid",t[t.WithGaps=1]="WithGaps",t[t.Black=2]="Black",t[t.Continuous=3]="Continuous",t[t.Perforated=4]="Perforated",t[t.Transparent=5]="Transparent",t[t.PvcTag=6]="PvcTag",t[t.BlackMarkGap=10]="BlackMarkGap",t[t.HeatShrinkTube=11]="HeatShrinkTube"})(Uo||(St.LabelType=Uo={}));var zo;(function(t){t[t.Advanced1=1]="Advanced1",t[t.Basic=2]="Basic",t[t.Unknown=3]="Unknown",t[t.Advanced2=4]="Advanced2"})(zo||(St.HeartbeatType=zo={}));var Vo;(function(t){t[t.ShutdownTime1=1]="ShutdownTime1",t[t.ShutdownTime2=2]="ShutdownTime2",t[t.ShutdownTime3=3]="ShutdownTime3",t[t.ShutdownTime4=4]="ShutdownTime4"})(Vo||(St.AutoShutdownTime=Vo={}));var Wo;(function(t){t[t.Charge0=0]="Charge0",t[t.Charge25=1]="Charge25",t[t.Charge50=2]="Charge50",t[t.Charge75=3]="Charge75",t[t.Charge100=4]="Charge100"})(Wo||(St.BatteryChargeLevel=Wo={}));var qo;(function(t){t[t.Disconnect=0]="Disconnect",t[t.Connected=1]="Connected",t[t.ConnectedNew=2]="ConnectedNew",t[t.ConnectedV3=3]="ConnectedV3",t[t.FirmwareErrors=90]="FirmwareErrors"})(qo||(St.ConnectResult=qo={}));var Fo;(function(t){t[t.CoverOpen=1]="CoverOpen",t[t.LackPaper=2]="LackPaper",t[t.LowBattery=3]="LowBattery",t[t.BatteryException=4]="BatteryException",t[t.UserCancel=5]="UserCancel",t[t.DataError=6]="DataError",t[t.Overheat=7]="Overheat",t[t.PaperOutException=8]="PaperOutException",t[t.PrinterBusy=9]="PrinterBusy",t[t.NoPrinterHead=10]="NoPrinterHead",t[t.TemperatureLow=11]="TemperatureLow",t[t.PrinterHeadLoose=12]="PrinterHeadLoose",t[t.NoRibbon=13]="NoRibbon",t[t.WrongRibbon=14]="WrongRibbon",t[t.UsedRibbon=15]="UsedRibbon",t[t.WrongPaper=16]="WrongPaper",t[t.SetPaperFail=17]="SetPaperFail",t[t.SetPrintModeFail=18]="SetPrintModeFail",t[t.SetPrintDensityFail=19]="SetPrintDensityFail",t[t.WriteRfidFail=20]="WriteRfidFail",t[t.SetMarginFail=21]="SetMarginFail",t[t.CommunicationException=22]="CommunicationException",t[t.Disconnect=23]="Disconnect",t[t.CanvasParameterError=24]="CanvasParameterError",t[t.RotationParameterException=25]="RotationParameterException",t[t.JsonParameterException=26]="JsonParameterException",t[t.B3sAbnormalPaperOutput=27]="B3sAbnormalPaperOutput",t[t.ECheckPaper=28]="ECheckPaper",t[t.RfidTagNotWritten=29]="RfidTagNotWritten",t[t.SetPrintDensityNoSupport=30]="SetPrintDensityNoSupport",t[t.SetPrintModeNoSupport=31]="SetPrintModeNoSupport",t[t.SetPrintLabelMaterialError=32]="SetPrintLabelMaterialError",t[t.SetPrintLabelMaterialNoSupport=33]="SetPrintLabelMaterialNoSupport",t[t.NotSupportWrittenRfid=34]="NotSupportWrittenRfid",t[t.IllegalPage=50]="IllegalPage",t[t.IllegalRibbonPage=51]="IllegalRibbonPage",t[t.ReceiveDataTimeout=52]="ReceiveDataTimeout",t[t.NonDedicatedRibbon=53]="NonDedicatedRibbon"})(Fo||(St.PrinterErrorCode=Fo={}));var li={},ci={},Ho;function Zu(){if(Ho)return ci;Ho=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.ImageEncoder=void 0;const t=Xu();class e{static encodeCanvas(r,i="left"){const s=r.getContext("2d").getImageData(0,0,r.width,r.height),o=[];let l=r.width,c=r.height;if(i==="left"&&(l=r.height,c=r.width),l%8!==0)throw new Error("Column count must be multiple of 8");for(let u=0;u<c;u++){let d=!0,m=0;const g=new Uint8Array(l/8);for(let _=0;_<l/8;_++){let b=0;for(let v=0;v<8;v++)e.isPixelNonWhite(s,_*8+v,u,i)&&(b|=1<<7-v,d=!1,m++);g[_]=b}const p={dataType:d?"void":"pixels",rowNumber:u,repeat:1,rowData:d?void 0:g,blackPixelsCount:m};if(o.length===0)o.push(p);else{const _=o[o.length-1];let b=p.dataType===_.dataType;b&&p.dataType==="pixels"&&(b=t.Utils.u8ArraysEqual(p.rowData,_.rowData)),b?_.repeat++:o.push(p)}}return{cols:l,rows:c,rowsData:o}}static isPixelNonWhite(r,i,a,s="left"){let o=a*r.width+i;return s==="left"&&(o=(r.height-1-i)*r.width+a),o*=4,r.data[o]!==255||r.data[o+1]!==255||r.data[o+2]!==255}static indexPixels(r){const i=[];for(let a=0;a<r.byteLength;a++){const s=r[a];for(let o=0;o<8;o++)s&1<<7-o&&i.push(...t.Utils.u16ToBytes(a*8+o))}return new Uint8Array(i)}}return ci.ImageEncoder=e,ci}var Go;function Yu(){if(Go)return li;Go=1,Object.defineProperty(li,"__esModule",{value:!0}),li.PacketGenerator=void 0;const t=tn(),e=Zu(),n=un;class r{static mapped(a,s=[1]){const o=t.commandsMap[a];if(o===null){const l=new t.NiimbotPacket(a,s);return l.oneWay=!0,l}return new t.NiimbotPacket(a,s,o)}static connect(){return this.mapped(t.RequestCommandId.Connect)}static getPrinterStatusData(){return this.mapped(t.RequestCommandId.PrinterStatusData)}static rfidInfo(){return this.mapped(t.RequestCommandId.RfidInfo)}static setAutoShutDownTime(a){return this.mapped(t.RequestCommandId.SetAutoShutdownTime,[a])}static getPrinterInfo(a){return this.mapped(t.RequestCommandId.PrinterInfo,[a])}static setSoundSettings(a,s){return this.mapped(t.RequestCommandId.SoundSettings,[t.SoundSettingsType.SetSound,a,s?1:0])}static getSoundSettings(a){return this.mapped(t.RequestCommandId.SoundSettings,[t.SoundSettingsType.GetSoundState,a,1])}static heartbeat(a){return this.mapped(t.RequestCommandId.Heartbeat,[a])}static setDensity(a){return this.mapped(t.RequestCommandId.SetDensity,[a])}static setLabelType(a){return this.mapped(t.RequestCommandId.SetLabelType,[a])}static setPageSizeV1(a){return this.mapped(t.RequestCommandId.SetPageSize,[...n.Utils.u16ToBytes(a)])}static setPageSizeV2(a,s){return this.mapped(t.RequestCommandId.SetPageSize,[...n.Utils.u16ToBytes(a),...n.Utils.u16ToBytes(s)])}static setPageSizeV3(a,s,o){return this.mapped(t.RequestCommandId.SetPageSize,[...n.Utils.u16ToBytes(a),...n.Utils.u16ToBytes(s),...n.Utils.u16ToBytes(o)])}static setPageSizeV4(a,s,o,l,c){return this.mapped(t.RequestCommandId.SetPageSize,[...n.Utils.u16ToBytes(a),...n.Utils.u16ToBytes(s),...n.Utils.u16ToBytes(o),...n.Utils.u16ToBytes(l),c?1:0])}static setPrintQuantity(a){return this.mapped(t.RequestCommandId.PrintQuantity,[...n.Utils.u16ToBytes(a)])}static printStatus(){return this.mapped(t.RequestCommandId.PrintStatus)}static printerReset(){return this.mapped(t.RequestCommandId.PrinterReset)}static printStart(){return this.mapped(t.RequestCommandId.PrintStart)}static printStartV3(a){return this.mapped(t.RequestCommandId.PrintStart,[...n.Utils.u16ToBytes(a)])}static printStartV4(a,s=0){return this.mapped(t.RequestCommandId.PrintStart,[...n.Utils.u16ToBytes(a),0,0,0,0,s])}static printStartV5(a,s=0,o=0){return this.mapped(t.RequestCommandId.PrintStart,[...n.Utils.u16ToBytes(a),0,0,0,0,s,o])}static printEnd(){return this.mapped(t.RequestCommandId.PrintEnd)}static pageStart(){return this.mapped(t.RequestCommandId.PageStart)}static pageEnd(){return this.mapped(t.RequestCommandId.PageEnd)}static printEmptySpace(a,s){return this.mapped(t.RequestCommandId.PrintEmptyRow,[...n.Utils.u16ToBytes(a),s])}static printBitmapRow(a,s,o,l){const{total:c,a:u,b:d,c:m}=n.Utils.countPixelsForBitmapPacket(o,l??0);let g=[0,...n.Utils.u16ToBytes(c)];return l!==void 0&&(g=[u,d,m]),this.mapped(t.RequestCommandId.PrintBitmapRow,[...n.Utils.u16ToBytes(a),...g,s,...o])}static printBitmapRowIndexed(a,s,o,l){const{total:c,a:u,b:d,c:m}=n.Utils.countPixelsForBitmapPacket(o,l??0),g=e.ImageEncoder.indexPixels(o);if(c>6)throw new Error(`Black pixel count > 6 (${c})`);let p=[0,...n.Utils.u16ToBytes(c)];return l!==void 0&&(p=[u,d,m]),this.mapped(t.RequestCommandId.PrintBitmapRowIndexed,[...n.Utils.u16ToBytes(a),...p,s,...g])}static printClear(){return this.mapped(t.RequestCommandId.PrintClear)}static writeRfid(a){return this.mapped(t.RequestCommandId.WriteRFID,a)}static writeImageData(a,s){return a.rowsData.map(o=>o.dataType==="pixels"?o.blackPixelsCount>6?this.printBitmapRow(o.rowNumber,o.repeat,o.rowData,s):this.printBitmapRowIndexed(o.rowNumber,o.repeat,o.rowData,s):this.printEmptySpace(o.rowNumber,o.repeat))}static printTestPage(){return this.mapped(t.RequestCommandId.PrintTestPage)}static labelPositioningCalibration(a){return this.mapped(t.RequestCommandId.LabelPositioningCalibration,[a])}}return li.PacketGenerator=r,li}var br={},rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.PrintProgressEvent=rt.PrinterInfoFetchedEvent=rt.HeartbeatFailedEvent=rt.HeartbeatEvent=rt.RawPacketReceivedEvent=rt.RawPacketSentEvent=rt.PacketSentEvent=rt.PacketReceivedEvent=rt.DisconnectEvent=rt.ConnectEvent=rt.NiimbotEvent=void 0;class Ln{constructor(e){this.type=e}}rt.NiimbotEvent=Ln;class dp extends Ln{constructor(e){super("connect"),this.info=e}}rt.ConnectEvent=dp;class fp extends Ln{constructor(){super("disconnect")}}rt.DisconnectEvent=fp;class pp extends Ln{constructor(e){super("packetreceived"),this.packet=e}}rt.PacketReceivedEvent=pp;class hp extends Ln{constructor(e){super("packetsent"),this.packet=e}}rt.PacketSentEvent=hp;class _p extends Ln{constructor(e){super("rawpacketsent"),this.data=e}}rt.RawPacketSentEvent=_p;class mp extends Ln{constructor(e){super("rawpacketreceived"),this.data=e}}rt.RawPacketReceivedEvent=mp;class bp extends Ln{constructor(e){super("heartbeat"),this.data=e}}rt.HeartbeatEvent=bp;class gp extends Ln{constructor(e){super("heartbeatfailed"),this.failedAttempts=e}}rt.HeartbeatFailedEvent=gp;class vp extends Ln{constructor(e){super("printerinfofetched"),this.info=e}}rt.PrinterInfoFetchedEvent=vp;class yp extends Ln{constructor(e,n,r,i){super("printprogress"),this.page=e,this.pagesTotal=n,this.pagePrintProgress=r,this.pageFeedProgress=i}}rt.PrintProgressEvent=yp;var ns={},rs={},Zo;function eo(){return Zo||(Zo=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getPrinterMetaByModel=t.getPrinterMetaById=t.modelsLibrary=t.PrinterModel=void 0;const e=tn();var n;(function(a){a.UNKNOWN="UNKNOWN",a.A20="A20",a.A203="A203",a.A63="A63",a.A8="A8",a.A8_P="A8_P",a.B1="B1",a.B11="B11",a.B16="B16",a.B18="B18",a.B18S="B18S",a.B203="B203",a.B21="B21",a.B21_PRO="B21_PRO",a.B21_C2B="B21_C2B",a.B21_L2B="B21_L2B",a.B21S="B21S",a.B21S_C2B="B21S_C2B",a.B3="B3",a.B31="B31",a.B32="B32",a.B32R="B32R",a.B3S="B3S",a.B3S_P="B3S_P",a.B50="B50",a.B50W="B50W",a.BETTY="BETTY",a.D101="D101",a.D11="D11",a.D11_H="D11_H",a.D110="D110",a.D110_M="D110_M",a.D11S="D11S",a.D41="D41",a.D61="D61",a.DXX="DXX",a.ET10="ET10",a.FUST="FUST",a.HI_D110="HI_D110",a.HI_NB_D11="HI_NB_D11",a.JC_M90="JC_M90",a.JCB3S="JCB3S",a.K3="K3",a.K3_W="K3_W",a.M2_H="M2_H",a.MP3K="MP3K",a.MP3K_W="MP3K_W",a.N1="N1",a.P1="P1",a.P18="P18",a.P1S="P1S",a.S1="S1",a.S3="S3",a.S6="S6",a.S6_P="S6_P",a.T2S="T2S",a.T6="T6",a.T7="T7",a.T8="T8",a.T8S="T8S",a.TP2M_H="TP2M_H",a.Z401="Z401"})(n||(t.PrinterModel=n={})),t.modelsLibrary=[{model:n.A20,id:[2817],dpi:203,printDirection:"top",printheadPixels:400,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.A203,id:[2818],dpi:203,printDirection:"top",printheadPixels:400,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.A63,id:[2054],dpi:300,printDirection:"top",printheadPixels:851,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent,e.LabelType.Black],densityMin:1,densityMax:15,densityDefault:10},{model:n.A8,id:[256],dpi:203,printDirection:"top",printheadPixels:600,paperTypes:[e.LabelType.Black,e.LabelType.WithGaps,e.LabelType.Continuous],densityMin:1,densityMax:5,densityDefault:3},{model:n.A8_P,id:[273],dpi:203,printDirection:"top",printheadPixels:616,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B1,id:[4096],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B11,id:[51457],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated,e.LabelType.Transparent],densityMin:6,densityMax:15,densityDefault:10},{model:n.B16,id:[1792],dpi:203,printDirection:"left",printheadPixels:96,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:2},{model:n.B18,id:[3584],dpi:203,printDirection:"left",printheadPixels:120,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent,e.LabelType.BlackMarkGap,e.LabelType.HeatShrinkTube],densityMin:1,densityMax:3,densityDefault:2},{model:n.B18S,id:[3585],dpi:203,printDirection:"left",printheadPixels:120,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent,e.LabelType.BlackMarkGap,e.LabelType.HeatShrinkTube],densityMin:1,densityMax:3,densityDefault:2},{model:n.B203,id:[2816],dpi:203,printDirection:"top",printheadPixels:400,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B21,id:[768],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B21_PRO,id:[785],dpi:300,printDirection:"top",printheadPixels:591,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B21_C2B,id:[771,775],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Continuous,e.LabelType.Transparent,e.LabelType.Black],densityMin:1,densityMax:5,densityDefault:3},{model:n.B21_L2B,id:[769],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B21S,id:[777],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B21S_C2B,id:[776],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B3,id:[52993],dpi:203,printDirection:"top",printheadPixels:600,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B31,id:[5632],dpi:203,printDirection:"top",printheadPixels:600,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B32,id:[2049],dpi:300,printDirection:"top",printheadPixels:851,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:15,densityDefault:10},{model:n.B32R,id:[2050],dpi:300,printDirection:"top",printheadPixels:851,paperTypes:[e.LabelType.WithGaps],densityMin:1,densityMax:15,densityDefault:10},{model:n.B3S,id:[256,260,262],dpi:203,printDirection:"top",printheadPixels:576,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B3S_P,id:[272],dpi:203,printDirection:"top",printheadPixels:576,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.B50,id:[51713],dpi:203,printDirection:"top",printheadPixels:400,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.B50W,id:[51714],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.BETTY,id:[2561],dpi:203,printDirection:"left",printheadPixels:192,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:2},{model:n.D101,id:[2560],dpi:203,printDirection:"left",printheadPixels:192,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:2},{model:n.D11,id:[512],dpi:203,printDirection:"left",printheadPixels:96,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:2},{model:n.D11_H,id:[528],dpi:300,printDirection:"left",printheadPixels:178,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.D110,id:[2304,2305],dpi:203,printDirection:"left",printheadPixels:96,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:2},{model:n.D110_M,id:[2320],dpi:203,printDirection:"left",printheadPixels:120,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.D11S,id:[514],dpi:203,printDirection:"left",printheadPixels:96,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:2},{model:n.ET10,id:[5376],dpi:203,printDirection:"top",printheadPixels:1600,paperTypes:[e.LabelType.Continuous],densityMin:3,densityMax:3,densityDefault:3},{model:n.FUST,id:[513],dpi:203,printDirection:"left",printheadPixels:96,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.HI_D110,id:[2305],dpi:203,printDirection:"left",printheadPixels:120,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:3},{model:n.HI_NB_D11,id:[512],dpi:203,printDirection:"left",printheadPixels:120,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:3,densityDefault:2},{model:n.JC_M90,id:[51461],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.JCB3S,id:[256],dpi:203,printDirection:"top",printheadPixels:576,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:2},{model:n.K3,id:[4864],dpi:203,printDirection:"top",printheadPixels:656,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.K3_W,id:[4865],dpi:203,printDirection:"top",printheadPixels:656,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.M2_H,id:[4608],dpi:300,printDirection:"top",printheadPixels:591,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent,e.LabelType.Black,e.LabelType.BlackMarkGap],densityMin:1,densityMax:5,densityDefault:3},{model:n.MP3K,id:[4866],dpi:203,printDirection:"top",printheadPixels:656,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.MP3K_W,id:[4867],dpi:203,printDirection:"top",printheadPixels:656,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.N1,id:[3586],dpi:203,printDirection:"left",printheadPixels:120,paperTypes:[e.LabelType.WithGaps,e.LabelType.HeatShrinkTube,e.LabelType.Transparent,e.LabelType.BlackMarkGap],densityMin:1,densityMax:3,densityDefault:2},{model:n.P1,id:[1024],dpi:300,printDirection:"left",printheadPixels:697,paperTypes:[e.LabelType.PvcTag],densityMin:1,densityMax:5,densityDefault:3},{model:n.P18,id:[1026],dpi:300,printDirection:"left",printheadPixels:662,paperTypes:[e.LabelType.PvcTag],densityMin:1,densityMax:5,densityDefault:3},{model:n.P1S,id:[1025],dpi:300,printDirection:"left",printheadPixels:662,paperTypes:[e.LabelType.PvcTag],densityMin:1,densityMax:5,densityDefault:3},{model:n.S1,id:[51458],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.S3,id:[51460],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.S6,id:[261,259,258,257],dpi:203,printDirection:"top",printheadPixels:576,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.S6_P,id:[274],dpi:203,printDirection:"top",printheadPixels:600,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.T2S,id:[53250],dpi:203,printDirection:"top",printheadPixels:832,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black],densityMin:1,densityMax:20,densityDefault:15},{model:n.T6,id:[51715],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.T7,id:[51717],dpi:203,printDirection:"top",printheadPixels:384,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.T8,id:[51718],dpi:300,printDirection:"top",printheadPixels:567,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Continuous,e.LabelType.Perforated],densityMin:6,densityMax:15,densityDefault:10},{model:n.T8S,id:[2053],dpi:300,printDirection:"top",printheadPixels:851,paperTypes:[e.LabelType.WithGaps],densityMin:1,densityMax:15,densityDefault:10},{model:n.TP2M_H,id:[4609],dpi:300,printDirection:"top",printheadPixels:591,paperTypes:[e.LabelType.WithGaps,e.LabelType.Black,e.LabelType.Transparent],densityMin:1,densityMax:5,densityDefault:3},{model:n.Z401,id:[2051],dpi:300,printDirection:"top",printheadPixels:851,paperTypes:[e.LabelType.WithGaps,e.LabelType.Transparent],densityMin:1,densityMax:15,densityDefault:10}];const r=a=>t.modelsLibrary.find(s=>s.id.includes(a));t.getPrinterMetaById=r;const i=a=>t.modelsLibrary.find(s=>s.model===a);t.getPrinterMetaByModel=i}(rs)),rs}var ui={},di={},Yo;function ni(){if(Yo)return di;Yo=1,Object.defineProperty(di,"__esModule",{value:!0}),di.AbstractPrintTask=void 0;const e={labelType:tn().LabelType.WithGaps,density:2,totalPages:1,statusPollIntervalMs:300,statusTimeoutMs:5e3,pageTimeoutMs:1e4};let n=class{constructor(i,a){this.abstraction=i,this.pagesPrinted=0,this.printOptions={...e,...a}}checkAddPage(i){if(this.pagesPrinted+i>(this.printOptions.totalPages??1))throw new Error("Trying to print too many pages (task totalPages may not be set correctly)")}printheadPixels(){var i;return(i=this.abstraction.getClient().getModelMetadata())==null?void 0:i.printheadPixels}};return di.AbstractPrintTask=n,di}var Ko;function wp(){if(Ko)return ui;Ko=1,Object.defineProperty(ui,"__esModule",{value:!0}),ui.B1PrintTask=void 0;const t=tn(),e=ni();let n=class extends e.AbstractPrintTask{printInit(){return this.abstraction.sendAll([t.PacketGenerator.setDensity(this.printOptions.density),t.PacketGenerator.setLabelType(this.printOptions.labelType),t.PacketGenerator.printStartV4(this.printOptions.totalPages)])}printPage(i,a){return this.checkAddPage(a??1),this.abstraction.sendAll([t.PacketGenerator.pageStart(),t.PacketGenerator.setPageSizeV3(i.rows,i.cols,a??1),...t.PacketGenerator.writeImageData(i,this.printheadPixels()),t.PacketGenerator.pageEnd()],this.printOptions.pageTimeoutMs)}waitForFinished(){return this.abstraction.setPacketTimeout(this.printOptions.statusTimeoutMs),this.abstraction.waitUntilPrintFinishedByStatusPoll(this.printOptions.totalPages,this.printOptions.statusPollIntervalMs).finally(()=>this.abstraction.setDefaultPacketTimeout())}};return ui.B1PrintTask=n,ui}var fi={},Qo;function kp(){if(Qo)return fi;Qo=1,Object.defineProperty(fi,"__esModule",{value:!0}),fi.B21V1PrintTask=void 0;const t=tn(),e=ni();let n=class extends e.AbstractPrintTask{printInit(){return this.abstraction.sendAll([t.PacketGenerator.setDensity(this.printOptions.density),t.PacketGenerator.setLabelType(this.printOptions.labelType),t.PacketGenerator.printStart()])}async printPage(i,a){this.checkAddPage(a??1);for(let s=0;s<(a??1);s++)await this.abstraction.sendAll([t.PacketGenerator.pageStart(),t.PacketGenerator.setPageSizeV2(i.rows,i.cols),...t.PacketGenerator.writeImageData(i,this.printheadPixels()),t.PacketGenerator.pageEnd()],this.printOptions.pageTimeoutMs)}waitForFinished(){return this.abstraction.setPacketTimeout(this.printOptions.statusTimeoutMs),this.abstraction.waitUntilPrintFinishedByPrintEndPoll(this.printOptions.totalPages,this.printOptions.statusPollIntervalMs).finally(()=>this.abstraction.setDefaultPacketTimeout())}};return fi.B21V1PrintTask=n,fi}var pi={},Jo;function Tp(){if(Jo)return pi;Jo=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.D110PrintTask=void 0;const t=tn(),e=ni();let n=class extends e.AbstractPrintTask{printInit(){return this.abstraction.sendAll([t.PacketGenerator.setDensity(this.printOptions.density),t.PacketGenerator.setLabelType(this.printOptions.labelType),t.PacketGenerator.printStart()])}printPage(i,a){return this.checkAddPage(a??1),this.abstraction.sendAll([t.PacketGenerator.pageStart(),t.PacketGenerator.setPageSizeV2(i.rows,i.cols),t.PacketGenerator.setPrintQuantity(a??1),...t.PacketGenerator.writeImageData(i,this.printheadPixels()),t.PacketGenerator.pageEnd()],this.printOptions.pageTimeoutMs)}waitForFinished(){return this.abstraction.setPacketTimeout(this.printOptions.statusTimeoutMs),this.abstraction.waitUntilPrintFinishedByStatusPoll(this.printOptions.totalPages,this.printOptions.statusPollIntervalMs).finally(()=>this.abstraction.setDefaultPacketTimeout())}};return pi.D110PrintTask=n,pi}var hi={},Xo;function Pp(){if(Xo)return hi;Xo=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.OldD11PrintTask=void 0;const t=tn(),e=ni();let n=class extends e.AbstractPrintTask{printInit(){return this.abstraction.sendAll([t.PacketGenerator.setDensity(this.printOptions.density),t.PacketGenerator.setLabelType(this.printOptions.labelType),t.PacketGenerator.printStart()])}printPage(i,a){return this.checkAddPage(a??1),this.abstraction.sendAll([t.PacketGenerator.printClear(),t.PacketGenerator.pageStart(),t.PacketGenerator.setPageSizeV1(i.rows),t.PacketGenerator.setPrintQuantity(a??1),...t.PacketGenerator.writeImageData(i,this.printheadPixels()),t.PacketGenerator.pageEnd()],this.printOptions.pageTimeoutMs)}waitForFinished(){return this.abstraction.waitUntilPrintFinishedByPageIndex(this.printOptions.totalPages??1,this.printOptions.statusTimeoutMs)}};return hi.OldD11PrintTask=n,hi}var _i={},el;function Ep(){if(el)return _i;el=1,Object.defineProperty(_i,"__esModule",{value:!0}),_i.V5PrintTask=void 0;const t=tn(),e=ni();let n=class extends e.AbstractPrintTask{printInit(){return this.abstraction.sendAll([t.PacketGenerator.setDensity(this.printOptions.density),t.PacketGenerator.setLabelType(this.printOptions.labelType),t.PacketGenerator.printStartV5(this.printOptions.totalPages,0,0)])}printPage(i,a){return this.checkAddPage(a??1),this.abstraction.sendAll([t.PacketGenerator.pageStart(),t.PacketGenerator.setPageSizeV4(i.rows,i.cols,a??1,0,!1),...t.PacketGenerator.writeImageData(i,this.printheadPixels()),t.PacketGenerator.pageEnd()],this.printOptions.pageTimeoutMs)}waitForFinished(){return this.abstraction.setPacketTimeout(this.printOptions.statusTimeoutMs),this.abstraction.waitUntilPrintFinishedByStatusPoll(this.printOptions.totalPages??1,this.printOptions.statusPollIntervalMs).finally(()=>this.abstraction.setDefaultPacketTimeout())}};return _i.V5PrintTask=n,_i}var tl;function to(){return tl||(tl=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.V5PrintTask=t.OldD11PrintTask=t.D110PrintTask=t.B21V1PrintTask=t.B1PrintTask=t.AbstractPrintTask=t.findPrintTask=t.modelPrintTasks=t.printTaskNames=t.printTasks=void 0;const e=eo(),n=wp();Object.defineProperty(t,"B1PrintTask",{enumerable:!0,get:function(){return n.B1PrintTask}});const r=kp();Object.defineProperty(t,"B21V1PrintTask",{enumerable:!0,get:function(){return r.B21V1PrintTask}});const i=Tp();Object.defineProperty(t,"D110PrintTask",{enumerable:!0,get:function(){return i.D110PrintTask}});const a=Pp();Object.defineProperty(t,"OldD11PrintTask",{enumerable:!0,get:function(){return a.OldD11PrintTask}});const s=Ep();Object.defineProperty(t,"V5PrintTask",{enumerable:!0,get:function(){return s.V5PrintTask}}),t.printTasks={D11_V1:a.OldD11PrintTask,D110:i.D110PrintTask,B1:n.B1PrintTask,B21_V1:r.B21V1PrintTask,V5:s.V5PrintTask},t.printTaskNames=Object.keys(t.printTasks),t.modelPrintTasks={D11_V1:[e.PrinterModel.D11,e.PrinterModel.D11S],B21_V1:[e.PrinterModel.B21,e.PrinterModel.B21_L2B,e.PrinterModel.B21_C2B],D110:[e.PrinterModel.B21S,e.PrinterModel.B21S_C2B,e.PrinterModel.D110,{m:e.PrinterModel.D11,v:1},{m:e.PrinterModel.D11,v:2}],B1:[e.PrinterModel.D11_H,e.PrinterModel.D110_M,e.PrinterModel.B1]};const o=(c,u)=>{const d=Object.keys(t.modelPrintTasks);return d.find(g=>{var p;return(p=t.modelPrintTasks[g])==null?void 0:p.find(_=>typeof _=="object"&&_.v===u&&_.m===c)})??d.find(g=>{var p;return(p=t.modelPrintTasks[g])==null?void 0:p.includes(c)})};t.findPrintTask=o;var l=ni();Object.defineProperty(t,"AbstractPrintTask",{enumerable:!0,get:function(){return l.AbstractPrintTask}})}(ns)),ns}var Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.SequentialDataReader=void 0;const nl=un;class Sp{constructor(e){this.bytes=e,this.offset=0}willRead(e){if(this.offset+e>this.bytes.length)throw new Error("Tried to read too much data")}skip(e){this.willRead(e),this.offset+=e}readBytes(e){this.willRead(e);const n=this.bytes.slice(this.offset,this.offset+e);return this.offset+=e,n}readVBytes(){const e=this.readI8();return this.readBytes(e)}readVString(){const e=this.readVBytes();return nl.Utils.u8ArrayToString(e)}readI8(){this.willRead(1);const e=this.bytes[this.offset];return this.offset+=1,e}readBool(){return this.readI8()>0}readI16(){this.willRead(2);const e=this.bytes.slice(this.offset,this.offset+2);return this.offset+=2,nl.Utils.bytesToI16(e)}end(){if(this.offset!=this.bytes.length)throw new Error("Extra data left")}}Yi.SequentialDataReader=Sp;var rl;function Ap(){if(rl)return br;rl=1,Object.defineProperty(br,"__esModule",{value:!0}),br.Abstraction=br.PrintError=void 0;const t=tn(),e=rt,n=to(),r=un,i=Yi,a=Yu();class s extends Error{constructor(c,u){super(c),this.reasonId=u}}br.PrintError=s;class o{constructor(c){this.DEFAULT_PACKET_TIMEOUT=1e3,this.packetTimeout=this.DEFAULT_PACKET_TIMEOUT,this.client=c}getClient(){return this.client}getPacketTimeout(){return this.packetTimeout}setPacketTimeout(c){this.packetTimeout=c}setDefaultPacketTimeout(){this.packetTimeout=this.DEFAULT_PACKET_TIMEOUT}async send(c,u){return this.client.sendPacketWaitResponse(c,u??this.packetTimeout)}async sendAll(c,u){for(const d of c)await this.send(d,u)}async getPrintStatus(){const c=await this.send(a.PacketGenerator.printStatus());r.Validators.u8ArrayLengthAtLeast(c.data,4);const u=new i.SequentialDataReader(c.data),d=u.readI16(),m=u.readI8(),g=u.readI8();if(c.dataLength===10){u.skip(2);const p=u.readI8();if(p!==0)throw new s(`Print error (${t.ResponseCommandId[c.command]} packet flag)`,p)}return{page:d,pagePrintProgress:m,pageFeedProgress:g}}async connectResult(){const c=await this.send(a.PacketGenerator.connect());return r.Validators.u8ArrayLengthAtLeast(c.data,1),c.data[0]}async getPrinterStatusData(){let c=0;const u=await this.send(a.PacketGenerator.getPrinterStatusData());let d=0;if(u.dataLength>12){d=u.data[10];const m=u.data[11]*100+u.data[12];m>=204&&m<300&&(c=3),m>=301&&(c=4)}return{supportColor:d,protocolVersion:c}}async getPrinterModel(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.PrinterModelId));return r.Validators.u8ArrayLengthAtLeast(c.data,1),c.data.length===1?c.data[0]<<8:(r.Validators.u8ArrayLengthEquals(c.data,2),r.Utils.bytesToI16(c.data))}async rfidInfo(){const c=await this.send(a.PacketGenerator.rfidInfo()),u={tagPresent:!1,uuid:"",barCode:"",serialNumber:"",allPaper:-1,usedPaper:-1,consumablesType:t.LabelType.Invalid};if(c.dataLength===1)return u;const d=new i.SequentialDataReader(c.data);return u.tagPresent=!0,u.uuid=r.Utils.bufToHex(d.readBytes(8),""),u.barCode=d.readVString(),u.serialNumber=d.readVString(),u.allPaper=d.readI16(),u.usedPaper=d.readI16(),u.consumablesType=d.readI8(),d.end(),u}async heartbeat(){const c=await this.send(a.PacketGenerator.heartbeat(t.HeartbeatType.Advanced1),500),u={paperState:-1,rfidReadState:-1,lidClosed:!1,powerLevel:t.BatteryChargeLevel.Charge0},d=c.dataLength,m=new i.SequentialDataReader(c.data);if(d===10)m.skip(8),u.lidClosed=m.readBool(),u.powerLevel=m.readI8();else if(d===20)m.skip(18),u.paperState=m.readI8(),u.rfidReadState=m.readI8();else if(d===19)m.skip(15),u.lidClosed=m.readBool(),u.powerLevel=m.readI8(),u.paperState=m.readI8(),u.rfidReadState=m.readI8();else if(d===13)m.skip(9),u.lidClosed=m.readBool(),u.powerLevel=m.readI8(),u.paperState=m.readI8(),u.rfidReadState=m.readI8();else throw new Error("Invalid heartbeat length");m.end();const g=this.client.getPrinterInfo().modelId;return g!==void 0&&![512,514,513,2304,1792,3584,5120,2560,3840,4352,272].includes(g)&&(u.lidClosed=!u.lidClosed),u}async getBatteryChargeLevel(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.BatteryChargeLevel));return r.Validators.u8ArrayLengthEquals(c.data,1),c.data[0]}async getAutoShutDownTime(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.AutoShutdownTime));return r.Validators.u8ArrayLengthEquals(c.data,1),c.data[0]}async getSoftwareVersion(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.SoftWareVersion));return r.Validators.u8ArrayLengthEquals(c.data,2),`0x${r.Utils.bufToHex(c.data,"")}`}async getHardwareVersion(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.HardWareVersion));return r.Validators.u8ArrayLengthEquals(c.data,2),`0x${r.Utils.bufToHex(c.data,"")}`}async setAutoShutDownTime(c){await this.send(a.PacketGenerator.setAutoShutDownTime(c))}async getLabelType(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.LabelType));return r.Validators.u8ArrayLengthEquals(c.data,1),c.data[0]}async getPrinterSerialNumber(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.SerialNumber));return r.Validators.u8ArrayLengthAtLeast(c.data,1),c.data.length<4?"-1":c.data.length>=8?r.Utils.u8ArrayToString(c.data):r.Utils.bufToHex(c.data.slice(0,4),"").toUpperCase()}async getPrinterBluetoothMacAddress(){const c=await this.send(a.PacketGenerator.getPrinterInfo(t.PrinterInfoType.BluetoothAddress));return r.Validators.u8ArrayLengthAtLeast(c.data,1),r.Utils.bufToHex(c.data.reverse(),":")}async isSoundEnabled(c){const u=await this.send(a.PacketGenerator.getSoundSettings(c));return r.Validators.u8ArrayLengthEquals(u.data,3),!!u.data[2]}async setSoundEnabled(c,u){await this.send(a.PacketGenerator.setSoundSettings(c,u))}async printerReset(){await this.send(a.PacketGenerator.printerReset())}async waitUntilPrintFinishedByPageIndex(c,u=5e3){return new Promise((d,m)=>{const g=p=>{if(p.packet.command===t.ResponseCommandId.In_PrinterPageIndex){r.Validators.u8ArrayLengthEquals(p.packet.data,2);const _=r.Utils.bytesToI16(p.packet.data);this.client.emit("printprogress",new e.PrintProgressEvent(_,c,100,100)),clearTimeout(this.statusTimeoutTimer),this.statusTimeoutTimer=setTimeout(()=>{this.client.off("packetreceived",g),m(new Error("Timeout waiting print status"))},u??5e3),_===c&&(clearTimeout(this.statusTimeoutTimer),this.client.off("packetreceived",g),d())}};clearTimeout(this.statusTimeoutTimer),this.statusTimeoutTimer=setTimeout(()=>{this.client.off("packetreceived",g),m(new Error("Timeout waiting print status"))},u),this.client.emit("printprogress",new e.PrintProgressEvent(1,c,0,0)),this.client.on("packetreceived",g)})}async waitUntilPrintFinishedByStatusPoll(c,u=300){return new Promise((d,m)=>{this.client.emit("printprogress",new e.PrintProgressEvent(1,c,0,0)),this.statusPollTimer=setInterval(()=>{this.getPrintStatus().then(g=>{this.client.emit("printprogress",new e.PrintProgressEvent(g.page,c,g.pagePrintProgress,g.pageFeedProgress)),g.page===c&&g.pagePrintProgress===100&&g.pageFeedProgress===100&&(clearInterval(this.statusPollTimer),d())}).catch(g=>{clearInterval(this.statusPollTimer),m(g)})},u??300)})}async waitUntilPrintFinishedByPrintEndPoll(c,u=500){return new Promise((d,m)=>{this.client.emit("printprogress",new e.PrintProgressEvent(1,c,0,0)),this.statusPollTimer=setInterval(()=>{this.printEnd().then(g=>{g?(this.client.emit("printprogress",new e.PrintProgressEvent(c,c,100,100)),clearInterval(this.statusPollTimer),d()):this.client.emit("printprogress",new e.PrintProgressEvent(1,c,0,0))}).catch(g=>{clearInterval(this.statusPollTimer),m(g)})},u??500)})}async printEnd(){const c=await this.send(a.PacketGenerator.printEnd());return r.Validators.u8ArrayLengthEquals(c.data,1),c.data[0]===1}async labelPositioningCalibration(c){const u=await this.send(a.PacketGenerator.labelPositioningCalibration(c));return r.Validators.u8ArrayLengthEquals(u.data,1),u.data[0]===1}newPrintTask(c,u){return new n.printTasks[c](this,u)}}return br.Abstraction=o,br}var il;function tn(){return il||(il=1,function(t){var e=ht&&ht.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=ht&&ht.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(Ma(),t),n(sr,t),n(St,t),n(Yu(),t),n(Ap(),t),n(Yi,t)}(ts)),ts}var al;function Dp(){if(al)return si;al=1,Object.defineProperty(si,"__esModule",{value:!0}),si.NiimbotAbstractClient=void 0;const t=Ef,e=ku,n=tn(),r=eo(),i=rt,a=to(),s=un;class o extends t.EventEmitter{constructor(){super(),this.info={},this.heartbeatFails=0,this.heartbeatIntervalMs=2e3,this.mutex=new e.Mutex,this.debug=!1,this.packetIntervalMs=10,this.abstraction=new n.Abstraction(this),this.on("connect",()=>this.startHeartbeat()),this.on("disconnect",()=>this.stopHeartbeat())}async sendPacketWaitResponse(c,u=1e3){return this.mutex.runExclusive(async()=>(await this.sendPacket(c,!0),c.oneWay?new n.NiimbotPacket(n.ResponseCommandId.Invalid,[]):new Promise((d,m)=>{let g;const p=_=>{const b=_.packet,v=b.command;if(c.validResponseIds.length===0||c.validResponseIds.includes(v)||[n.ResponseCommandId.In_PrintError,n.ResponseCommandId.In_NotSupported].includes(v))if(clearTimeout(g),this.off("packetreceived",p),v===n.ResponseCommandId.In_PrintError){s.Validators.u8ArrayLengthEquals(b.data,1);const w=n.PrinterErrorCode[b.data[0]]??"unknown";m(new n.PrintError(`Print error ${b.data[0]}: ${w}`,b.data[0]))}else v===n.ResponseCommandId.In_NotSupported?m(new n.PrintError("Feature not supported",0)):d(b)};g=setTimeout(()=>{this.off("packetreceived",p),m(new Error(`Timeout waiting response (waited for ${s.Utils.bufToHex(c.validResponseIds,", ")})`))},u??1e3),this.on("packetreceived",p)})))}async sendPacket(c,u){await this.sendRaw(c.toBytes(),u),this.emit("packetsent",new i.PacketSentEvent(c))}async initialNegotiate(){const c=this.info;if(c.connectResult=await this.abstraction.connectResult(),c.protocolVersion=0,c.connectResult===n.ConnectResult.ConnectedNew)c.protocolVersion=1;else if(c.connectResult===n.ConnectResult.ConnectedV3){const u=await this.abstraction.getPrinterStatusData();c.protocolVersion=u.protocolVersion}}async fetchPrinterInfo(){return this.info.modelId=await this.abstraction.getPrinterModel(),this.info.serial=await this.abstraction.getPrinterSerialNumber().catch(console.error)??void 0,this.info.mac=await this.abstraction.getPrinterBluetoothMacAddress().catch(console.error)??void 0,this.info.charge=await this.abstraction.getBatteryChargeLevel().catch(console.error)??void 0,this.info.autoShutdownTime=await this.abstraction.getAutoShutDownTime().catch(console.error)??void 0,this.info.labelType=await this.abstraction.getLabelType().catch(console.error)??void 0,this.info.hardwareVersion=await this.abstraction.getHardwareVersion().catch(console.error)??void 0,this.info.softwareVersion=await this.abstraction.getSoftwareVersion().catch(console.error)??void 0,this.emit("printerinfofetched",new i.PrinterInfoFetchedEvent(this.info)),this.info}getPrinterInfo(){return this.info}setHeartbeatInterval(c){this.heartbeatIntervalMs=c}startHeartbeat(){this.heartbeatFails=0,this.stopHeartbeat(),this.heartbeatTimer=setInterval(()=>{this.abstraction.heartbeat().then(c=>{this.heartbeatFails=0,this.emit("heartbeat",new i.HeartbeatEvent(c))}).catch(c=>{console.error(c),this.heartbeatFails++,this.emit("heartbeatfailed",new i.HeartbeatFailedEvent(this.heartbeatFails))})},this.heartbeatIntervalMs)}stopHeartbeat(){clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0}isHeartbeatStarted(){return this.heartbeatTimer===void 0}getModelMetadata(){if(this.info.modelId!==void 0)return(0,r.getPrinterMetaById)(this.info.modelId)}getPrintTaskType(){const c=this.getModelMetadata();if(c!==void 0)return(0,a.findPrintTask)(c.model,this.getPrinterInfo().protocolVersion)}setPacketInterval(c){this.packetIntervalMs=c}setDebug(c){this.debug=c}}return si.NiimbotAbstractClient=o,si}var mi={},sl;function Op(){if(sl)return mi;sl=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.NiimbotBluetoothClient=void 0;const t=rt,e=Na(),n=Ma(),r=tn(),i=un;class a{}a.SERVICE="e7810a71-73ae-499d-8c15-faa9aef0c3f2",a.CHARACTERISTIC="bef8d6c9-9c21-4c9e-b632-bd58c1009f9f",a.FILTER=[{namePrefix:"A"},{namePrefix:"B"},{namePrefix:"D"},{namePrefix:"E"},{namePrefix:"F"},{namePrefix:"H"},{namePrefix:"J"},{namePrefix:"K"},{namePrefix:"M"},{namePrefix:"N"},{namePrefix:"P"},{namePrefix:"S"},{namePrefix:"T"},{namePrefix:"Z"},{services:[a.SERVICE]}];class s extends e.NiimbotAbstractClient{constructor(){super(...arguments),this.gattServer=void 0,this.channel=void 0}async connect(){await this.disconnect();const l={filters:a.FILTER},c=await navigator.bluetooth.requestDevice(l);if(c.gatt===void 0)throw new Error("Device has no Bluetooth Generic Attribute Profile");const u=()=>{this.gattServer=void 0,this.channel=void 0,this.info={},this.emit("disconnect",new t.DisconnectEvent),c.removeEventListener("gattserverdisconnected",u)};c.addEventListener("gattserverdisconnected",u);const d=await c.gatt.connect(),g=await(await d.getPrimaryService(a.SERVICE)).getCharacteristic(a.CHARACTERISTIC);g.addEventListener("characteristicvaluechanged",_=>{const b=_.target,v=new Uint8Array(b.value.buffer);this.emit("rawpacketreceived",new t.RawPacketReceivedEvent(v));const w=n.NiimbotPacket.fromBytes(v);this.emit("packetreceived",new t.PacketReceivedEvent(w)),w.command in r.ResponseCommandId||console.warn(`Unknown response command: 0x${i.Utils.numberToHex(w.command)}`)}),await g.startNotifications(),this.gattServer=d,this.channel=g;try{await this.initialNegotiate(),await this.fetchPrinterInfo()}catch(_){console.error("Unable to fetch printer info."),console.error(_)}const p={deviceName:c.name,result:this.info.connectResult??r.ConnectResult.FirmwareErrors};return this.emit("connect",new t.ConnectEvent(p)),p}isConnected(){return this.gattServer!==void 0&&this.channel!==void 0}async disconnect(){var l;this.stopHeartbeat(),(l=this.gattServer)==null||l.disconnect(),this.gattServer=void 0,this.channel=void 0,this.info={}}async sendRaw(l,c){const u=async()=>{if(this.channel===void 0)throw new Error("Channel is closed");await i.Utils.sleep(this.packetIntervalMs),await this.channel.writeValueWithoutResponse(l),this.emit("rawpacketsent",new t.RawPacketSentEvent(l))};c?await u():await this.mutex.runExclusive(u)}}return mi.NiimbotBluetoothClient=s,mi}var bi={},Es;(function(t){t[t.SCAN_MODE_LOW_POWER=0]="SCAN_MODE_LOW_POWER",t[t.SCAN_MODE_BALANCED=1]="SCAN_MODE_BALANCED",t[t.SCAN_MODE_LOW_LATENCY=2]="SCAN_MODE_LOW_LATENCY"})(Es||(Es={}));var Ss;(function(t){t[t.CONNECTION_PRIORITY_BALANCED=0]="CONNECTION_PRIORITY_BALANCED",t[t.CONNECTION_PRIORITY_HIGH=1]="CONNECTION_PRIORITY_HIGH",t[t.CONNECTION_PRIORITY_LOW_POWER=2]="CONNECTION_PRIORITY_LOW_POWER"})(Ss||(Ss={}));function no(t){return new DataView(Uint8Array.from(t).buffer)}function ro(t){return Array.from(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Lp(t){return no(t.split("").map(e=>e.charCodeAt(0)))}function Cp(t){return String.fromCharCode(...ro(t))}function Ku(t){return`0000${t.toString(16).padStart(4,"0")}-0000-1000-8000-00805f9b34fb`}function Qu(t){const e=[];let n,r,i=1,a=0;for(n=0;n<t.length;n++)r=t.charCodeAt(n),(r>47&&r<58||r>64&&r<71||r>96&&r<103)&&(a=a<<4^(r>64?r+9:r)&15,(i^=1)&&e.push(a&255));return no(e)}function la(t){return ro(t).map(e=>{let n=e.toString(16);return n.length==1&&(n="0"+n),n}).join(" ")}function Ip(t){if(typeof t=="string")return t;if(typeof t=="number")return Ku(t);throw new Error("Invalid UUID")}function Bp(t){const e={};if(t)return t.forEach((n,r)=>{e[r.toString()]=n}),e}const Mp="modulepreload",Np=function(t){return"/"+t},ol={},Ju=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Np(l),l in ol)return;ol[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Mp,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((m,g)=>{d.addEventListener("load",m),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},Ge=ti("BluetoothLe",{web:()=>Ju(()=>import("./web.DynCiotf.js"),__vite__mapDeps([0,1])).then(t=>new t.BluetoothLeWeb)}),jp=()=>{let t=Promise.resolve();return e=>new Promise((n,r)=>{t=t.then(()=>e()).then(n).catch(r)})};function is(t){return t?jp():e=>e()}function Lt(t){if(typeof t!="string")throw new Error(`Invalid UUID type ${typeof t}. Expected string.`);if(t=t.toLowerCase(),!(t.search(/^[0-9a-f]{8}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{4}\b-[0-9a-f]{12}$/)>=0))throw new Error(`Invalid UUID format ${t}. Expected 128 bit string (e.g. "0000180d-0000-1000-8000-00805f9b34fb").`);return t}class xp{constructor(){this.scanListener=null,this.eventListeners=new Map,this.queue=is(!0)}enableQueue(){this.queue=is(!0)}disableQueue(){this.queue=is(!1)}async initialize(e){await this.queue(async()=>{await Ge.initialize(e)})}async isEnabled(){return await this.queue(async()=>(await Ge.isEnabled()).value)}async requestEnable(){await this.queue(async()=>{await Ge.requestEnable()})}async enable(){await this.queue(async()=>{await Ge.enable()})}async disable(){await this.queue(async()=>{await Ge.disable()})}async startEnabledNotifications(e){await this.queue(async()=>{var n;const r="onEnabledChanged";await((n=this.eventListeners.get(r))===null||n===void 0?void 0:n.remove());const i=await Ge.addListener(r,a=>{e(a.value)});this.eventListeners.set(r,i),await Ge.startEnabledNotifications()})}async stopEnabledNotifications(){await this.queue(async()=>{var e;const n="onEnabledChanged";await((e=this.eventListeners.get(n))===null||e===void 0?void 0:e.remove()),this.eventListeners.delete(n),await Ge.stopEnabledNotifications()})}async isLocationEnabled(){return await this.queue(async()=>(await Ge.isLocationEnabled()).value)}async openLocationSettings(){await this.queue(async()=>{await Ge.openLocationSettings()})}async openBluetoothSettings(){await this.queue(async()=>{await Ge.openBluetoothSettings()})}async openAppSettings(){await this.queue(async()=>{await Ge.openAppSettings()})}async setDisplayStrings(e){await this.queue(async()=>{await Ge.setDisplayStrings(e)})}async requestDevice(e){return e=e?this.validateRequestBleDeviceOptions(e):void 0,await this.queue(async()=>await Ge.requestDevice(e))}async requestLEScan(e,n){e=this.validateRequestBleDeviceOptions(e),await this.queue(async()=>{var r;await((r=this.scanListener)===null||r===void 0?void 0:r.remove()),this.scanListener=await Ge.addListener("onScanResult",i=>{const a=Object.assign(Object.assign({},i),{manufacturerData:this.convertObject(i.manufacturerData),serviceData:this.convertObject(i.serviceData),rawAdvertisement:i.rawAdvertisement?this.convertValue(i.rawAdvertisement):void 0});n(a)}),await Ge.requestLEScan(e)})}async stopLEScan(){await this.queue(async()=>{var e;await((e=this.scanListener)===null||e===void 0?void 0:e.remove()),this.scanListener=null,await Ge.stopLEScan()})}async getDevices(e){if(!Array.isArray(e))throw new Error("deviceIds must be an array");return this.queue(async()=>(await Ge.getDevices({deviceIds:e})).devices)}async getConnectedDevices(e){if(!Array.isArray(e))throw new Error("services must be an array");return e=e.map(Lt),this.queue(async()=>(await Ge.getConnectedDevices({services:e})).devices)}async connect(e,n,r){await this.queue(async()=>{var i;if(n){const a=`disconnected|${e}`;await((i=this.eventListeners.get(a))===null||i===void 0?void 0:i.remove());const s=await Ge.addListener(a,()=>{n(e)});this.eventListeners.set(a,s)}await Ge.connect(Object.assign({deviceId:e},r))})}async createBond(e,n){await this.queue(async()=>{await Ge.createBond(Object.assign({deviceId:e},n))})}async isBonded(e){return await this.queue(async()=>(await Ge.isBonded({deviceId:e})).value)}async disconnect(e){await this.queue(async()=>{await Ge.disconnect({deviceId:e})})}async getServices(e){return await this.queue(async()=>(await Ge.getServices({deviceId:e})).services)}async discoverServices(e){await this.queue(async()=>{await Ge.discoverServices({deviceId:e})})}async getMtu(e){return await this.queue(async()=>(await Ge.getMtu({deviceId:e})).value)}async requestConnectionPriority(e,n){await this.queue(async()=>{await Ge.requestConnectionPriority({deviceId:e,connectionPriority:n})})}async readRssi(e){return await this.queue(async()=>{const r=await Ge.readRssi({deviceId:e});return parseFloat(r.value)})}async read(e,n,r,i){return n=Lt(n),r=Lt(r),await this.queue(async()=>{const s=await Ge.read(Object.assign({deviceId:e,service:n,characteristic:r},i));return this.convertValue(s.value)})}async write(e,n,r,i,a){return n=Lt(n),r=Lt(r),this.queue(async()=>{if(!(i!=null&&i.buffer))throw new Error("Invalid data.");let s=i;Kn.getPlatform()!=="web"&&(s=la(i)),await Ge.write(Object.assign({deviceId:e,service:n,characteristic:r,value:s},a))})}async writeWithoutResponse(e,n,r,i,a){n=Lt(n),r=Lt(r),await this.queue(async()=>{if(!(i!=null&&i.buffer))throw new Error("Invalid data.");let s=i;Kn.getPlatform()!=="web"&&(s=la(i)),await Ge.writeWithoutResponse(Object.assign({deviceId:e,service:n,characteristic:r,value:s},a))})}async readDescriptor(e,n,r,i,a){return n=Lt(n),r=Lt(r),i=Lt(i),await this.queue(async()=>{const o=await Ge.readDescriptor(Object.assign({deviceId:e,service:n,characteristic:r,descriptor:i},a));return this.convertValue(o.value)})}async writeDescriptor(e,n,r,i,a,s){return n=Lt(n),r=Lt(r),i=Lt(i),this.queue(async()=>{if(!(a!=null&&a.buffer))throw new Error("Invalid data.");let o=a;Kn.getPlatform()!=="web"&&(o=la(a)),await Ge.writeDescriptor(Object.assign({deviceId:e,service:n,characteristic:r,descriptor:i,value:o},s))})}async startNotifications(e,n,r,i){n=Lt(n),r=Lt(r),await this.queue(async()=>{var a;const s=`notification|${e}|${n}|${r}`;await((a=this.eventListeners.get(s))===null||a===void 0?void 0:a.remove());const o=await Ge.addListener(s,l=>{i(this.convertValue(l==null?void 0:l.value))});this.eventListeners.set(s,o),await Ge.startNotifications({deviceId:e,service:n,characteristic:r})})}async stopNotifications(e,n,r){n=Lt(n),r=Lt(r),await this.queue(async()=>{var i;const a=`notification|${e}|${n}|${r}`;await((i=this.eventListeners.get(a))===null||i===void 0?void 0:i.remove()),this.eventListeners.delete(a),await Ge.stopNotifications({deviceId:e,service:n,characteristic:r})})}validateRequestBleDeviceOptions(e){return e.services&&(e.services=e.services.map(Lt)),e.optionalServices&&(e.optionalServices=e.optionalServices.map(Lt)),e}convertValue(e){return typeof e=="string"?Qu(e):e===void 0?new DataView(new ArrayBuffer(0)):e}convertObject(e){if(e===void 0)return;const n={};for(const r of Object.keys(e))n[r]=this.convertValue(e[r]);return n}}const Rp=new xp,$p=Object.freeze(Object.defineProperty({__proto__:null,BleClient:Rp,BluetoothLe:Ge,get ConnectionPriority(){return Ss},get ScanMode(){return Es},dataViewToHexString:la,dataViewToNumbers:ro,dataViewToText:Cp,hexStringToDataView:Qu,mapToObject:Bp,numberToUUID:Ku,numbersToDataView:no,textToDataView:Lp,webUUIDToString:Ip},Symbol.toStringTag,{value:"Module"})),Up=Ea($p);var ll;function zp(){if(ll)return bi;ll=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.NiimbotCapacitorBleClient=void 0;const t=rt,e=Na(),n=Ma(),r=tn(),i=un,a=Up;class s extends e.NiimbotAbstractClient{constructor(){super(...arguments),this.packetBuf=new Uint8Array}async connect(){if(await this.disconnect(),await a.BleClient.initialize({androidNeverForLocation:!0}),!await a.BleClient.isEnabled())throw new Error("Bluetooth is not enabled");const c=await a.BleClient.requestDevice();await a.BleClient.connect(c.deviceId,()=>this.onBleDisconnect());const{service:u,characteristic:d}=await this.findSuitableCharacteristic(c.deviceId).finally(()=>this.onBleDisconnect());this.deviceId=c.deviceId,this.serviceUUID=u,this.characteristicUUID=d,this.debug&&console.log("Suitable channel found:",{service:u,characteristic:d}),await a.BleClient.startNotifications(this.deviceId,this.serviceUUID,this.characteristicUUID,g=>{this.onBlePacketReceived(g)});try{await this.initialNegotiate(),await this.fetchPrinterInfo()}catch(g){console.error("Unable to fetch printer info."),console.error(g)}const m={deviceName:c.name,result:this.info.connectResult??r.ConnectResult.FirmwareErrors};return this.emit("connect",new t.ConnectEvent(m)),m}async findSuitableCharacteristic(l){const c=await a.BleClient.getServices(l);for(const u of c){if(u.uuid.length<5)continue;const d=u.characteristics;for(const m of d)if(m.properties.notify&&m.properties.writeWithoutResponse)return{characteristic:m.uuid,service:u.uuid}}throw new Error("Unable to find suitable channel characteristic")}onBlePacketReceived(l){if(l.byteLength!==0){this.packetBuf=i.Utils.u8ArrayAppend(this.packetBuf,new Uint8Array(l.buffer));try{const c=n.NiimbotPacket.fromBytesMultiPacket(this.packetBuf);c.length>0&&(this.emit("rawpacketreceived",new t.RawPacketReceivedEvent(this.packetBuf)),c.forEach(u=>{this.emit("packetreceived",new t.PacketReceivedEvent(u))}),this.packetBuf=new Uint8Array)}catch{this.debug&&console.info(`Incomplete packet, ignoring:${i.Utils.bufToHex(this.packetBuf)}`)}}}onBleDisconnect(){this.deviceId=void 0,this.serviceUUID=void 0,this.characteristicUUID=void 0,this.info={},this.emit("disconnect",new t.DisconnectEvent)}isConnected(){return this.deviceId!==void 0}async disconnect(){this.stopHeartbeat(),this.deviceId!==void 0&&(await a.BleClient.stopNotifications(this.deviceId,this.serviceUUID,this.characteristicUUID),await a.BleClient.disconnect(this.deviceId)),this.deviceId=void 0,this.info={}}async sendRaw(l,c){const u=async()=>{if(!this.isConnected())throw new Error("Channel is closed");await i.Utils.sleep(this.packetIntervalMs);const d=new DataView(l.buffer,l.byteOffset,l.byteLength);await a.BleClient.writeWithoutResponse(this.deviceId,this.serviceUUID,this.characteristicUUID,d),this.emit("rawpacketsent",new t.RawPacketSentEvent(l))};c?await u():await this.mutex.runExclusive(u)}}return bi.NiimbotCapacitorBleClient=s,bi}var gi={},cl;function Vp(){if(cl)return gi;cl=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.NiimbotSerialClient=void 0;const t=rt,e=Na(),n=Ma(),r=tn(),i=un;class a extends e.NiimbotAbstractClient{constructor(){super(...arguments),this.port=void 0,this.writer=void 0,this.reader=void 0}async connect(){var u,d;await this.disconnect();const o=await navigator.serial.requestPort();if(o.addEventListener("disconnect",()=>{this.port=void 0,this.emit("disconnect",new t.DisconnectEvent)}),await o.open({baudRate:115200}),o.readable===null)throw new Error("Port is not readable");if(o.writable===null)throw new Error("Port is not writable");this.port=o;const l=o.getInfo();this.writer=o.writable.getWriter(),this.reader=o.readable.getReader(),setTimeout(()=>{(async()=>await this.waitSerialData())()},1);try{await this.initialNegotiate(),await this.fetchPrinterInfo()}catch(m){console.error("Unable to fetch printer info (is it turned on?)."),console.error(m)}const c={deviceName:`Serial (VID:${(u=l.usbVendorId)==null?void 0:u.toString(16)} PID:${(d=l.usbProductId)==null?void 0:d.toString(16)})`,result:this.info.connectResult??r.ConnectResult.FirmwareErrors};return this.emit("connect",new t.ConnectEvent(c)),c}async waitSerialData(){let o=new Uint8Array;for(;;){try{const l=await this.reader.read();if(l.value&&(this.debug&&console.info(`<< serial chunk ${i.Utils.bufToHex(l.value)}`),o=i.Utils.u8ArrayAppend(o,l.value)),l.done){console.log("done");break}}catch{break}try{const l=n.NiimbotPacket.fromBytesMultiPacket(o);l.length>0&&(this.emit("rawpacketreceived",new t.RawPacketReceivedEvent(o)),l.forEach(c=>{this.emit("packetreceived",new t.PacketReceivedEvent(c))}),o=new Uint8Array)}catch{this.debug&&console.info(`Incomplete packet, ignoring:${i.Utils.bufToHex(o)}`)}}}async disconnect(){this.stopHeartbeat(),this.writer!==void 0&&this.writer.releaseLock(),this.reader!==void 0&&this.reader.releaseLock(),this.port!==void 0&&(await this.port.close(),this.emit("disconnect",new t.DisconnectEvent)),this.port=void 0,this.writer=void 0}isConnected(){return this.port!==void 0&&this.writer!==void 0&&this.reader!==void 0}async sendRaw(o,l){const c=async()=>{if(!this.isConnected())throw new Error("Port is not readable/writable");await i.Utils.sleep(this.packetIntervalMs),await this.writer.write(o),this.emit("rawpacketsent",new t.RawPacketSentEvent(o))};l?await c():await this.mutex.runExclusive(c)}}return gi.NiimbotSerialClient=a,gi}var ul;function Na(){return ul||(ul=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.NiimbotSerialClient=t.NiimbotCapacitorBleClient=t.NiimbotBluetoothClient=t.NiimbotAbstractClient=t.instantiateClient=void 0;const e=Dp();Object.defineProperty(t,"NiimbotAbstractClient",{enumerable:!0,get:function(){return e.NiimbotAbstractClient}});const n=Op();Object.defineProperty(t,"NiimbotBluetoothClient",{enumerable:!0,get:function(){return n.NiimbotBluetoothClient}});const r=zp();Object.defineProperty(t,"NiimbotCapacitorBleClient",{enumerable:!0,get:function(){return r.NiimbotCapacitorBleClient}});const i=Vp();Object.defineProperty(t,"NiimbotSerialClient",{enumerable:!0,get:function(){return i.NiimbotSerialClient}});const a=s=>{if(s==="bluetooth")return new n.NiimbotBluetoothClient;if(s==="capacitor-ble")return new r.NiimbotCapacitorBleClient;if(s==="serial")return new i.NiimbotSerialClient;throw new Error("Invalid client type")};t.instantiateClient=a}(es)),es}var dl;function Xu(){return dl||(dl=1,function(t){var e=ht&&ht.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=ht&&ht.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(Na(),t),n(tn(),t),n(rt,t),n(Zu(),t),n(un,t),n(eo(),t),n(to(),t)}(Xa)),Xa}var lt=Xu();const Nr=[];function ed(t,e){return{subscribe:tr(t,e).subscribe}}function tr(t,e=yt){let n;const r=new Set;function i(o){if(wt(t,o)&&(t=o,n)){const l=!Nr.length;for(const c of r)c[1](),Nr.push(c,t);if(l){for(let c=0;c<Nr.length;c+=2)Nr[c][0](Nr[c+1]);Nr.length=0}}}function a(o){i(o(t))}function s(o,l=yt){const c=[o,l];return r.add(c),r.size===1&&(n=e(i,a)||yt),o(t),()=>{r.delete(c),r.size===0&&n&&(n(),n=null)}}return{set:i,update:a,subscribe:s}}function td(t,e,n){const r=!Array.isArray(t),i=r?[t]:t;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const a=e.length<2;return ed(n,(s,o)=>{let l=!1;const c=[];let u=0,d=yt;const m=()=>{if(u)return;d();const p=e(r?c[0]:c,s,o);a?s(p):d=Gs(p)?p:yt},g=i.map((p,_)=>Zs(p,b=>{c[_]=b,u&=~(1<<_),l&&m()},()=>{u|=1<<_}));return l=!0,m(),function(){ct(g),d(),l=!1}})}const Wp={"lang.name":"Deutsch","browser_warning.lines.first":"Oh nein, Dein Browser untersttzt kein Bluetooth und keine serielle Schnittstelle","browser_warning.lines.second":"Du kannst trotzdem Etiketten erstellen.","connector.bluetooth":"Bluetooth","connector.disconnect.heartbeat":"Getrennt (Drucker reagiert nicht)","connector.serial":"Seriell (USB)","editor.clone":"Klonen","editor.default_text":"Text","editor.delete":"Lschen","editor.iconpicker.mdi_link_title":"Siehe detaillierte Liste hier","editor.iconpicker.search":"Suchen","editor.iconpicker.title":"Icon hinzufgen","editor.import.zpl":"ZPL Importieren","editor.objectpicker.barcode":"Barcode","editor.objectpicker.circle":"Kreis","editor.objectpicker.image":"Grafik","editor.objectpicker.line":"Linie","editor.objectpicker.qrcode":"QR-Code","editor.objectpicker.rectangle":"Rechteck","editor.objectpicker.text":"Text","editor.objectpicker.title":"Objekt hinzufgen","editor.preview":"Vorschau","editor.print":"Drucken","editor.redo":"Wiederholen","editor.undo":"Rckgngig machen","editor.warning.load":"Zeichenflche wird durch gespeicherte Daten ersetzt","editor.warning.save":"Gespeicherte Daten werden berschrieben. Speichern?","main.built":"erstellt am","main.code":"Quellcode","params.barcode.content":"Inhalt","params.barcode.enable_caption":"Beschriftung aktivieren","params.barcode.encoding":"Kodierung","params.barcode.font_size":"Schriftgre","params.barcode.scale":"Skalierungsfaktor","params.csv.enabled":"Aktiviert","params.csv.placeholders":"Variablen:","params.csv.rowsfound":"Gefundene Zeilen:","params.csv.tip":"Die erste Zeile ist eine Kopfzeile. Sie wird als Variablenname verwendet. Kommas werden als Trennzeichen verwendet.","params.csv.title":"Dynamische Etikettendaten (CSV)","params.generic.center.horizontal":"Horizontal zentrieren","params.generic.center.vertical":"Vertikal zentrieren","params.label.apply":"Anwenden","params.label.current":"Aktuelle Parameter:","params.label.direction.left":"Links","params.label.direction.top":"Oben","params.label.direction":"Drucken von","params.label.dpmm":"dpmm","params.label.export":"Export","params.label.head_density.help":"Kalkulation: DPI / 25.4","params.label.head_density":"Pixeldichte","params.label.import":"Import","params.label.label_title":"Benutzerdefinierter Titel","params.label.menu_title":"Label Eigenschaften","params.label.mm":"mm","params.label.px":"px","params.label.save_template":"Als Vorlage speichern","params.label.shape":"Etikettenform","params.label.size":"Gre","params.label.split":"Geteiltes Etikett","params.label.tail.length":"Lnge der Teilung","params.label.tail.position":"Position der Teilung","params.label.warning.direction":"Empfohlene Druckrichtung:","params.label.warning.import":"Alle gespeicherten Vorlagen werden berschrieben","params.label.warning.width":"Die Etikettenbreite ist zu gro fr den Drucker:","params.qrcode.ecl":"Fehlerkorrekturstufe","params.saved_labels.kb_used":"kB benutzt","params.saved_labels.label_title.placeholder":"(optional)","params.saved_labels.label_title":"Titel","params.saved_labels.load.browser":"Laden","params.saved_labels.load.json":"Import","params.saved_labels.make_default":"Standard machen","params.saved_labels.menu_title":"Speichern/Laden (Browserspeicher)","params.saved_labels.save.browser.replace":"Speichern (Ersetzen)","params.saved_labels.save.browser":"Speichern","params.saved_labels.save.json":"Export","params.text.align.center":"Text ausrichten: Zentriert","params.text.align.left":"Text ausrichten: Links","params.text.align.right":"Text ausrichten: Rechts","params.text.bold":"Fett","params.text.edit.title":"Text bearbeiten","params.text.edit":"Im Popup bearbeiten","params.text.fetch_fonts":"Schriftarten laden","params.text.font_family":"Schriftart","params.text.font_size.down":"Schriftgre verringern","params.text.font_size.up":"Schriftgre erhhen","params.text.font_size":"Schriftgre","params.text.invert_colors":"Farben umkehren","params.text.line_height":"Linienhhe","params.text.vorigin.bottom":"Unten","params.text.vorigin.center":"Zentriert","params.text.vorigin.top":"Oben","params.text.vorigin":"Vertikaler Ursprung","params.variables.insert.date":"Datum","params.variables.insert.datetime":"Datum/Zeit","params.variables.insert.time":"Zeit","params.variables.insert":"Variable einfgen","preview.close":"Schlieen","preview.copies":"Kopien","preview.density":"Dichte","preview.label_type.Black":"Schwarz","preview.label_type.BlackMarkGap":"Schwarze Markierungslcke","preview.label_type.Continuous":"Fortfhrend","preview.label_type.HeatShrinkTube":"Schrumpfschlauch","preview.label_type.Invalid":"Ungltig","preview.label_type.Perforated":"Perforiert","preview.label_type.PvcTag":"PVC Tag","preview.label_type.Transparent":"Transparent","preview.label_type.WithGaps":"WithGaps","preview.label_type":"Etikettenpapier","preview.not_connected":"Drucker ist nicht verbunden","preview.not_implemented":"NICHT IMPLEMENTIERT","preview.offset.inner":"Innen","preview.offset.outer":"Auen","preview.offset":"Versatz","preview.postprocess.atkinson":"Dither (Atkinson)","preview.postprocess.threshold":"Schwellenwert","preview.postprocess":"Nachbearbeitung","preview.print_task":"Drucker","preview.print.cancel":"Druck abbrechen","preview.print":"Drucken","preview.threshold":"Schwellenwert","preview.title":"Druckvorschau","params.label.mirror":"Objektspiegelung"},qp={"lang.name":"English","browser_warning.lines.first":"Oh no, your browser does not support bluetooth and serial communications","browser_warning.lines.second":"Anyway, you still can draw labels.","connector.bluetooth":"Bluetooth","connector.disconnect.heartbeat":"Disconnected (printer does not respond)","connector.serial":"Serial (USB)","editor.clone":"Clone","editor.default_text":"Text","editor.delete":"Delete","editor.iconpicker.mdi_link_title":"See detailed list here","editor.iconpicker.search":"Search","editor.iconpicker.title":"Add icon","editor.import.zpl":"Import ZPL","editor.objectpicker.barcode":"Barcode","editor.objectpicker.circle":"Circle","editor.objectpicker.image":"Image","editor.objectpicker.line":"Line","editor.objectpicker.qrcode":"QR Code","editor.objectpicker.rectangle":"Rectangle","editor.objectpicker.text":"Text","editor.objectpicker.title":"Add object","editor.preview":"Preview","editor.print":"Print","editor.redo":"Redo","editor.undo":"Undo","editor.warning.load":"Canvas will be replaced with saved data","editor.warning.save":"Saved data will be overwritten. Save?","main.built":"built at","main.code":"Code","params.barcode.content":"Content","params.barcode.enable_caption":"Enable caption","params.barcode.encoding":"Encoding","params.barcode.font_size":"Font size","params.barcode.scale":"Scale factor","params.csv.enabled":"Enabled","params.csv.placeholders":"Variables:","params.csv.rowsfound":"Data rows found:","params.csv.tip":"First row is a header. It used as variable names. Commas are used as separators.","params.csv.title":"Dynamic label data (CSV)","params.generic.center.horizontal":"Center horizontally","params.generic.center.vertical":"Center vertically","params.label.apply":"Apply","params.label.current":"Current parameters:","params.label.direction.left":"Left","params.label.direction.top":"Top","params.label.direction":"Print direction","params.label.dpmm":"dpmm","params.label.export":"Export","params.label.head_density.help":"Calculation: DPI / 25.4","params.label.head_density":"Pixel density","params.label.import":"Import","params.label.label_title":"Custom title","params.label.menu_title":"Label properties","params.label.mm":"mm","params.label.px":"px","params.label.save_template":"Save as template","params.label.shape":"Label shape","params.label.size":"Size","params.label.split":"Label split","params.label.tail.length":"Tail length","params.label.tail.position":"Tail position","params.label.mirror":"Object mirroring","params.label.warning.direction":"Recommended direction for your printer:","params.label.warning.import":"All saved templates will be overwritten","params.label.warning.width":"Label width is too big for your printer:","params.qrcode.ecl":"Error Correction Level","params.saved_labels.kb_used":"kB used","params.saved_labels.label_title.placeholder":"(optional)","params.saved_labels.label_title":"Title","params.saved_labels.load.browser":"Load","params.saved_labels.load.json":"Import","params.saved_labels.make_default":"Make default","params.saved_labels.menu_title":"Save/load (browser storage)","params.saved_labels.save.browser.replace":"Save (replace)","params.saved_labels.save.browser":"Save","params.saved_labels.save.json":"Export","params.text.align.center":"Align text: Center","params.text.align.left":"Align text: Left","params.text.align.right":"Align text: Right","params.text.bold":"Bold","params.text.edit.title":"Editing text","params.text.edit":"Edit in popup","params.text.fetch_fonts":"Fetch fonts","params.text.font_family":"Font family","params.text.font_size.down":"Decrease font size","params.text.font_size.up":"Increase font size","params.text.font_size":"Font size","params.text.invert_colors":"Invert colors","params.text.line_height":"Line height","params.text.vorigin.bottom":"Bottom","params.text.vorigin.center":"Center","params.text.vorigin.top":"Top","params.text.vorigin":"Vertical Origin","params.variables.insert.date":"Date","params.variables.insert.datetime":"Datetime","params.variables.insert.time":"Time","params.variables.insert":"Insert variable","preview.close":"Close","preview.copies":"Copies","preview.density":"Density","preview.label_type.Black":"Black","preview.label_type.BlackMarkGap":"Black mark gap","preview.label_type.Continuous":"Continuous","preview.label_type.HeatShrinkTube":"Heat shrink tube","preview.label_type.Invalid":"Invalid","preview.label_type.Perforated":"Perforated","preview.label_type.PvcTag":"PVC Tag","preview.label_type.Transparent":"Transparent","preview.label_type.WithGaps":"WithGaps","preview.label_type":"Label type","preview.not_connected":"Printer is not connected","preview.not_implemented":"NOT IMPLEMENTED","preview.offset.inner":"Inner","preview.offset.outer":"Outer","preview.offset":"Offset","preview.postprocess.atkinson":"Dither (Atkinson)","preview.postprocess.threshold":"Threshold","preview.postprocess":"Post-process","preview.print_task":"Print task","preview.print.cancel":"Cancel print","preview.print":"Print","preview.threshold":"Threshold","preview.title":"Print preview"},Fp={"lang.name":"Italiano","browser_warning.lines.first":"Oh no, il tuo browser non supporta le comunicazioni Bluetooth e seriali","browser_warning.lines.second":"Comunque, puoi disegnare etichette.","connector.bluetooth":"Bluetooth","connector.disconnect.heartbeat":"Disconnesso (la stampante non risponde)","connector.serial":"Seriale (USB)","editor.clone":"Clona","editor.default_text":"Testo","editor.delete":"Elimina","editor.iconpicker.mdi_link_title":"Vedi elenco dettagliato","editor.iconpicker.search":"Cerca","editor.iconpicker.title":"Aggiungi icona","editor.import.zpl":"Importa ZPL","editor.objectpicker.barcode":"Codice a barre","editor.objectpicker.circle":"Cerchio","editor.objectpicker.image":"Immagine","editor.objectpicker.line":"Linea","editor.objectpicker.qrcode":"Codice QR","editor.objectpicker.rectangle":"Rettangolo","editor.objectpicker.text":"Testo","editor.objectpicker.title":"Aggiungi oggetto","editor.preview":"Anteprima","editor.print":"Stampa","editor.redo":"Ripristina","editor.undo":"Annulla","editor.warning.load":"La tela verr sostituita con i dati salvati","editor.warning.save":"I dati salvati verranno sovrascritti. Salvare?","main.built":"costruito in","main.code":"Versione","params.barcode.content":"Contenuto","params.barcode.enable_caption":"Abilita didascalia","params.barcode.encoding":"Codifica","params.barcode.font_size":"Dimensione carattere","params.barcode.scale":"Fattore di scala","params.csv.enabled":"Abilitato","params.csv.placeholders":"Variabili:","params.csv.rowsfound":"Righe di dati trovate:","params.csv.tip":"La prima riga  un'header. Le virgole sono utilizzate come separatori.","params.csv.title":"CSV","params.generic.center.horizontal":"Centra orizzontalmente","params.generic.center.vertical":"Centra verticalmente","params.label.apply":"Applica","params.label.current":"Parametri correnti:","params.label.direction.left":"Sinistra","params.label.direction.top":"In alto","params.label.direction":"Direzione stampa","params.label.dpmm":"dpmm","params.label.export":"Esporta","params.label.head_density.help":"Calcolo: DPI / 25,4","params.label.head_density":"Densit pixel","params.label.import":"Importa","params.label.label_title":"Titolo personalizzato","params.label.menu_title":"Propriet etichetta","params.label.mm":"mm","params.label.px":"px","params.label.save_template":"Salva come modello","params.label.shape":"Forma dell'etichetta","params.label.size":"Dimensione","params.label.split":"Etichetta divisa","params.label.tail.length":"Lunghezza della divisone","params.label.tail.position":"Posizione della divisone","params.label.warning.direction":"Direzione consigliata per la stampante:","params.label.warning.import":"Tutti i modelli salvati verranno sovrascritti","params.label.warning.width":"La larghezza dell'etichetta  troppo grande per la stampante:","params.qrcode.ecl":"Livello di correzione degli errori","params.saved_labels.kb_used":"kB utilizzati","params.saved_labels.label_title.placeholder":"(facoltativo)","params.saved_labels.label_title":"Titolo","params.saved_labels.load.browser":"Carica","params.saved_labels.load.json":"Importa","params.saved_labels.make_default":"Rendere predefinito","params.saved_labels.menu_title":"Salva/carica (salva in browser)","params.saved_labels.save.browser.replace":"Salva (sostituisci)","params.saved_labels.save.browser":"Salva","params.saved_labels.save.json":"Esporta","params.text.align.center":"Allinea il testo: al centro","params.text.align.left":"Allinea il testo: a sinistra","params.text.align.right":"Allinea testo: a destra","params.text.bold":"Grassetto","params.text.edit.title":"Modifica testo","params.text.edit":"Modifica in popup","params.text.fetch_fonts":"Recupera font","params.text.font_family":"Famiglia di font","params.text.font_size.down":"Diminuisci dimensione font","params.text.font_size.up":"Aumenta dimensione font","params.text.font_size":"Dimensione font","params.text.invert_colors":"Inverti colori","params.text.line_height":"Altezza riga","params.text.vorigin.bottom":"Basso","params.text.vorigin.center":"Centro","params.text.vorigin.top":"Alto","params.text.vorigin":"Origine verticale","params.variables.insert.date":"Data","params.variables.insert.datetime":"Data e ora","params.variables.insert.time":"Ora","params.variables.insert":"Inserisci variabile","preview.close":"Chiudi","preview.copies":"Copie","preview.density":"Densit","preview.label_type.Black":"Nero","preview.label_type.BlackMarkGap":"Spazio segno nero","preview.label_type.Continuous":"Continuo","preview.label_type.HeatShrinkTube":"Tubo termoretraibile","preview.label_type.Invalid":"Non valido","preview.label_type.Perforated":"Perforato","preview.label_type.PvcTag":"Etichetta in PVC","preview.label_type.Transparent":"Trasparente","preview.label_type.WithGaps":"With Gaps","preview.label_type":"Tipo di etichetta","preview.not_connected":"La stampante non  connessa","preview.not_implemented":"NON IMPLEMENTATO","preview.offset.inner":"Interno","preview.offset.outer":"Esterno","preview.offset":"Offset","preview.postprocess.atkinson":"Dither (Atkinson)","preview.postprocess.threshold":"Soglia","preview.postprocess":"Post-processo","preview.print_task":"Stampante","preview.print.cancel":"Annulla stampa","preview.print":"Stampa","preview.threshold":"Soglia","preview.title":"Anteprima"},Hp={"lang.name":"","browser_warning.lines.first":" ,     Bluetooth   ","browser_warning.lines.second":"  ,    .","connector.bluetooth":"Bluetooth","connector.disconnect.heartbeat":" (  )","connector.serial":".  (USB)","editor.clone":"","editor.default_text":"","editor.delete":"","editor.iconpicker.mdi_link_title":"  ","editor.iconpicker.search":"","editor.iconpicker.title":" ","editor.import.zpl":" ZPL","editor.objectpicker.barcode":"-","editor.objectpicker.circle":"","editor.objectpicker.image":"","editor.objectpicker.line":"","editor.objectpicker.qrcode":"QR ","editor.objectpicker.rectangle":"","editor.objectpicker.text":"","editor.objectpicker.title":" ","editor.preview":"","editor.print":"","editor.redo":"","editor.undo":"","editor.warning.load":"    ","editor.warning.save":"   . ?","main.built":"","main.code":" ","params.barcode.content":"","params.barcode.enable_caption":" ","params.barcode.encoding":"","params.barcode.font_size":" ","params.barcode.scale":"","params.csv.enabled":"","params.csv.placeholders":":","params.csv.rowsfound":"  c :","params.csv.tip":"  - .     .     .","params.csv.title":"  (CSV)","params.generic.center.horizontal":" ","params.generic.center.vertical":" ","params.label.apply":"","params.label.current":" :","params.label.direction.left":"","params.label.direction.top":"","params.label.direction":" ","params.label.dpmm":"/","params.label.export":"","params.label.head_density.help":": DPI / 25.4","params.label.head_density":" ","params.label.import":"","params.label.label_title":" ","params.label.menu_title":" ","params.label.mm":"","params.label.px":".","params.label.save_template":"  ","params.label.shape":" ","params.label.size":"","params.label.split":" ","params.label.tail.length":" ","params.label.tail.position":" ","params.label.warning.direction":"     :","params.label.warning.import":"    ","params.label.warning.width":"     :","params.qrcode.ecl":"  ","params.saved_labels.kb_used":" ","params.saved_labels.label_title.placeholder":"()","params.saved_labels.label_title":"","params.saved_labels.load.browser":"","params.saved_labels.load.json":"","params.saved_labels.make_default":" ","params.saved_labels.menu_title":"/ ( )","params.saved_labels.save.browser.replace":" ()","params.saved_labels.save.browser":"","params.saved_labels.save.json":"","params.text.align.center":" :  ","params.text.align.left":" : ","params.text.align.right":" : ","params.text.bold":"","params.text.edit.title":" ","params.text.edit":"   ","params.text.fetch_fonts":"  ","params.text.font_family":"","params.text.font_size.down":"  ","params.text.font_size.up":"  ","params.text.font_size":" ","params.text.invert_colors":" ","params.text.line_height":" ","params.text.vorigin.bottom":"","params.text.vorigin.center":" ","params.text.vorigin.top":"","params.text.vorigin":" ","params.variables.insert.date":"","params.variables.insert.datetime":"  ","params.variables.insert.time":"","params.variables.insert":" ","preview.close":"","preview.copies":"","preview.density":"","preview.label_type.Black":"","preview.label_type.BlackMarkGap":"  ","preview.label_type.Continuous":"","preview.label_type.HeatShrinkTube":" ","preview.label_type.Invalid":"","preview.label_type.Perforated":" ","preview.label_type.PvcTag":"","preview.label_type.Transparent":"","preview.label_type.WithGaps":" ","preview.label_type":" ","preview.not_connected":"  ","preview.not_implemented":" ","preview.offset.inner":"","preview.offset.outer":"","preview.offset":"","preview.postprocess.atkinson":" ()","preview.postprocess.threshold":"","preview.postprocess":"","preview.print_task":" ","preview.print.cancel":" ","preview.print":"","preview.threshold":"","preview.title":" ","params.label.mirror":" "},Gp={"lang.name":"","browser_warning.lines.first":"","browser_warning.lines.second":"","connector.bluetooth":"","connector.disconnect.heartbeat":"","connector.serial":"USB","editor.clone":"","editor.default_text":"","editor.delete":"","editor.iconpicker.mdi_link_title":"","editor.iconpicker.search":"","editor.iconpicker.title":"","editor.import.zpl":" ZPL ","editor.objectpicker.barcode":"","editor.objectpicker.circle":"","editor.objectpicker.image":"","editor.objectpicker.line":"","editor.objectpicker.qrcode":"","editor.objectpicker.rectangle":"","editor.objectpicker.text":"","editor.objectpicker.title":"","editor.preview":"","editor.print":"","editor.redo":"","editor.undo":"","editor.warning.load":"","editor.warning.save":"","main.built":"","main.code":"","params.barcode.content":"","params.barcode.enable_caption":"","params.barcode.encoding":"","params.barcode.font_size":"","params.barcode.scale":"","params.csv.enabled":"","params.csv.placeholders":":","params.csv.rowsfound":":","params.csv.tip":"","params.csv.title":"CSV","params.generic.center.horizontal":"","params.generic.center.vertical":"","params.label.apply":"","params.label.current":":","params.label.direction.left":"","params.label.direction.top":"","params.label.direction":"","params.label.dpmm":"/","params.label.export":" JSON ","params.label.head_density.help":":DPI / 25.4","params.label.head_density":"","params.label.import":" JSON ","params.label.label_title":"","params.label.menu_title":"","params.label.mm":"","params.label.px":"","params.label.save_template":"","params.label.shape":"","params.label.size":"","params.label.split":"","params.label.tail.length":"","params.label.tail.position":"","params.label.warning.direction":":","params.label.warning.import":"","params.label.warning.width":":","params.qrcode.ecl":"","params.saved_labels.kb_used":"KB ","params.saved_labels.label_title.placeholder":"","params.saved_labels.label_title":"","params.saved_labels.load.browser":"","params.saved_labels.load.json":" JSON ","params.saved_labels.make_default":"","params.saved_labels.menu_title":"","params.saved_labels.save.browser.replace":"/","params.saved_labels.save.browser":"","params.saved_labels.save.json":" JSON ","params.text.align.center":"","params.text.align.left":"","params.text.align.right":"","params.text.bold":"","params.text.edit.title":"","params.text.edit":"","params.text.fetch_fonts":"","params.text.font_family":"","params.text.font_size.down":"","params.text.font_size.up":"","params.text.font_size":"","params.text.invert_colors":"","params.text.line_height":"","params.text.vorigin.bottom":"","params.text.vorigin.center":"","params.text.vorigin.top":"","params.text.vorigin":"","params.variables.insert.date":"","params.variables.insert.datetime":"","params.variables.insert.time":"","params.variables.insert":"","preview.close":"","preview.copies":"","preview.density":"","preview.label_type.Black":"","preview.label_type.BlackMarkGap":"","preview.label_type.Continuous":"","preview.label_type.HeatShrinkTube":"","preview.label_type.Invalid":"","preview.label_type.Perforated":"","preview.label_type.PvcTag":"PVC","preview.label_type.Transparent":"","preview.label_type.WithGaps":"","preview.label_type":"","preview.not_connected":"","preview.not_implemented":"","preview.offset.inner":"","preview.offset.outer":"","preview.offset":"","preview.postprocess.atkinson":"Atkinson","preview.postprocess.threshold":"","preview.postprocess":"","preview.print_task":"","preview.print.cancel":"","preview.print":"","preview.threshold":"","preview.title":"","params.label.mirror":""},ca={en:qp,de:Wp,it:Fp,ru:Hp,zh_cn:Gp},Zp=Object.assign({},...Object.entries(ca).map(([t,e])=>({[t]:e["lang.name"]??t}))),Yp=()=>{switch(navigator.language){case"de":case"de-AT":case"de-CH":case"de-DE":case"de-LI":case"de-LU":return"de";case"it":case"it-CH":case"it-IT":return"it";case"ru":case"ru-RU":return"ru";case"zh":case"zh-Hans":case"zh-CN":return"zh_cn";default:return"en"}},_a=tr(localStorage.getItem("locale")??Yp());_a.subscribe(t=>localStorage.setItem("locale",t));const Rt=td(_a,t=>e=>{const n=ca[t]?ca[t][e]:void 0;return n===void 0||n===""?(t!=="en"&&console.warn(`${e} of ${t} locale is not translated`),ca.en[e]):n}),fl=Zp,ma={123:60301,360:58743,"10k":59729,"10mp":59730,"11mp":59731,"12mp":59732,"13mp":59733,"14mp":59734,"15mp":59735,"16mp":59736,"17mp":59737,"18_up_rating":63741,"18mp":59738,"19mp":59739,"1k":59740,"1k_plus":59741,"1x_mobiledata":61389,"20mp":59742,"21mp":59743,"22mp":59744,"23mp":59745,"24mp":59746,"2k":59747,"2k_plus":59748,"2mp":59749,"30fps":61390,"30fps_select":61391,"3d_rotation":59469,"3g_mobiledata":61392,"3k":59750,"3k_plus":59751,"3mp":59752,"3p":61393,"4g_mobiledata":61394,"4g_plus_mobiledata":61395,"4k":57458,"4k_plus":59753,"4mp":59754,"5g":61240,"5k":59755,"5k_plus":59756,"5mp":59757,"60fps":61396,"60fps_select":61397,"6_ft_apart":61982,"6k":59758,"6k_plus":59759,"6mp":59760,"7k":59761,"7k_plus":59762,"7mp":59763,"8k":59764,"8k_plus":59765,"8mp":59766,"9k":59767,"9k_plus":59768,"9mp":59769,abc:60308,ac_unit:60219,access_alarm:57744,access_alarms:57745,access_time:57746,access_time_filled:61398,accessibility:59470,accessibility_new:59692,accessible:59668,accessible_forward:59700,account_balance:59471,account_balance_wallet:59472,account_box:59473,account_circle:59475,account_tree:59770,ad_units:61241,adb:58894,add:57669,add_a_photo:58425,add_alarm:57747,add_alert:57347,add_box:57670,add_business:59177,add_card:60294,add_chart:59771,add_circle:57671,add_circle_outline:57672,add_comment:57958,add_home:63723,add_home_work:63725,add_ic_call:59772,add_link:57720,add_location:58727,add_location_alt:61242,add_moderator:59773,add_photo_alternate:58430,add_reaction:57811,add_road:61243,add_shopping_cart:59476,add_task:62010,add_to_drive:58972,add_to_home_screen:57854,add_to_photos:58269,add_to_queue:57436,addchart:61244,adf_scanner:60122,adjust:58270,admin_panel_settings:61245,ads_click:59234,agriculture:60025,air:61400,airline_seat_flat:58928,airline_seat_flat_angled:58929,airline_seat_individual_suite:58930,airline_seat_legroom_extra:58931,airline_seat_legroom_normal:58932,airline_seat_legroom_reduced:58933,airline_seat_recline_extra:58934,airline_seat_recline_normal:58935,airline_stops:59344,airlines:59338,airplane_ticket:61401,airplanemode_active:57749,airplanemode_inactive:57748,airplay:57429,airport_shuttle:60220,alarm:59477,alarm_add:59478,alarm_off:59479,alarm_on:59480,album:57369,align_horizontal_center:57359,align_horizontal_left:57357,align_horizontal_right:57360,align_vertical_bottom:57365,align_vertical_center:57361,align_vertical_top:57356,all_inbox:59775,all_inclusive:60221,all_out:59659,alt_route:61828,alternate_email:57574,analytics:61246,anchor:61901,android:59481,animation:59164,announcement:59482,aod:61402,apartment:59968,api:61879,app_blocking:61247,app_registration:61248,app_settings_alt:61249,app_shortcut:60132,approval:59778,apps:58819,apps_outage:59340,architecture:59963,archive:57673,area_chart:59248,arrow_back:58820,arrow_back_ios:58848,arrow_back_ios_new:58090,arrow_circle_down:61825,arrow_circle_left:60071,arrow_circle_right:60074,arrow_circle_up:61826,arrow_downward:58843,arrow_drop_down:58821,arrow_drop_down_circle:58822,arrow_drop_up:58823,arrow_forward:58824,arrow_forward_ios:58849,arrow_left:58846,arrow_outward:63694,arrow_right:58847,arrow_right_alt:59713,arrow_upward:58840,art_track:57440,article:61250,aspect_ratio:59483,assessment:59484,assignment:59485,assignment_ind:59486,assignment_late:59487,assignment_return:59488,assignment_returned:59489,assignment_turned_in:59490,assist_walker:63701,assistant:58271,assistant_direction:59784,assistant_photo:58272,assured_workload:60271,atm:58739,attach_email:59998,attach_file:57894,attach_money:57895,attachment:58044,attractions:59986,attribution:61403,audio_file:60290,audiotrack:58273,auto_awesome:58975,auto_awesome_mosaic:58976,auto_awesome_motion:58977,auto_delete:59980,auto_fix_high:58979,auto_fix_normal:58980,auto_fix_off:58981,auto_graph:58619,auto_mode:60448,auto_stories:58982,autofps_select:61404,autorenew:59491,av_timer:57371,baby_changing_station:61851,back_hand:59236,backpack:61852,backspace:57674,backup:59492,backup_table:61251,badge:60007,bakery_dining:59987,balance:60150,balcony:58767,ballot:57714,bar_chart:57963,batch_prediction:61685,bathroom:61405,bathtub:59969,battery_0_bar:60380,battery_1_bar:60377,battery_2_bar:60384,battery_3_bar:60381,battery_4_bar:60386,battery_5_bar:60372,battery_6_bar:60370,battery_alert:57756,battery_charging_full:57763,battery_full:57764,battery_saver:61406,battery_std:57765,battery_unknown:57766,beach_access:60222,bed:61407,bedroom_baby:61408,bedroom_child:61409,bedroom_parent:61410,bedtime:61252,bedtime_off:60278,beenhere:58669,bento:61940,bike_scooter:61253,biotech:59962,blender:61411,blind:63702,blinds:57990,blinds_closed:60447,block:57675,bloodtype:61412,bluetooth:57767,bluetooth_audio:58895,bluetooth_connected:57768,bluetooth_disabled:57769,bluetooth_drive:61413,bluetooth_searching:57770,blur_circular:58274,blur_linear:58275,blur_off:58276,blur_on:58277,bolt:59915,book:59493,book_online:61975,bookmark:59494,bookmark_add:58776,bookmark_added:58777,bookmark_border:59495,bookmark_remove:58778,bookmarks:59787,border_all:57896,border_bottom:57897,border_clear:57898,border_color:57899,border_horizontal:57900,border_inner:57901,border_left:57902,border_outer:57903,border_right:57904,border_style:57905,border_top:57906,border_vertical:57907,boy:60263,branding_watermark:57451,breakfast_dining:59988,brightness_1:58278,brightness_2:58279,brightness_3:58280,brightness_4:58281,brightness_5:58282,brightness_6:58283,brightness_7:58284,brightness_auto:57771,brightness_high:57772,brightness_low:57773,brightness_medium:57774,broadcast_on_home:63736,broadcast_on_personal:63737,broken_image:58285,browse_gallery:60369,browser_not_supported:61255,browser_updated:59343,brunch_dining:60019,brush:58286,bubble_chart:59101,bug_report:59496,build:59497,build_circle:61256,bungalow:58769,burst_mode:58428,bus_alert:59791,business:57519,business_center:60223,cabin:58761,cable:61414,cached:59498,cake:59369,calculate:59999,calendar_month:60364,calendar_today:59701,calendar_view_day:59702,calendar_view_month:61415,calendar_view_week:61416,call:57520,call_end:57521,call_made:57522,call_merge:57523,call_missed:57524,call_missed_outgoing:57572,call_received:57525,call_split:57526,call_to_action:57452,camera:58287,camera_alt:58288,camera_enhance:59644,camera_front:58289,camera_indoor:61417,camera_outdoor:61418,camera_rear:58290,camera_roll:58291,cameraswitch:61419,campaign:61257,cancel:58825,cancel_presentation:57577,cancel_schedule_send:59961,candlestick_chart:60116,car_crash:60402,car_rental:59989,car_repair:59990,card_giftcard:59638,card_membership:59639,card_travel:59640,carpenter:61944,cases:59794,casino:60224,cast:58119,cast_connected:58120,cast_for_education:61420,castle:60081,catching_pokemon:58632,category:58740,celebration:60005,cell_tower:60346,cell_wifi:57580,center_focus_strong:58292,center_focus_weak:58293,chair:61421,chair_alt:61422,chalet:58757,change_circle:58087,change_history:59499,charging_station:61853,chat:57527,chat_bubble:57546,chat_bubble_outline:57547,check:58826,check_box:59444,check_box_outline_blank:59445,check_circle:59500,check_circle_outline:59693,checklist:59057,checklist_rtl:59059,checkroom:61854,chevron_left:58827,chevron_right:58828,child_care:60225,child_friendly:60226,chrome_reader_mode:59501,church:60078,circle:61258,circle_notifications:59796,class:59502,clean_hands:61983,cleaning_services:61695,clear:57676,clear_all:57528,close:58829,close_fullscreen:61903,closed_caption:57372,closed_caption_disabled:61916,closed_caption_off:59798,cloud:58045,cloud_circle:58046,cloud_done:58047,cloud_download:58048,cloud_off:58049,cloud_queue:58050,cloud_sync:60250,cloud_upload:58051,co2:59312,co_present:60144,code:59503,code_off:58611,coffee:61423,coffee_maker:61424,collections:58294,collections_bookmark:58417,color_lens:58295,colorize:58296,comment:57529,comment_bank:59982,comments_disabled:59298,commit:60149,commute:59712,compare:58297,compare_arrows:59669,compass_calibration:58748,compost:59233,compress:59725,computer:58122,confirmation_number:58936,connect_without_contact:61987,connected_tv:59800,connecting_airports:59337,construction:59964,contact_emergency:63697,contact_mail:57552,contact_page:61998,contact_phone:57551,contact_support:59724,contactless:60017,contacts:57530,content_copy:57677,content_cut:57678,content_paste:57679,content_paste_go:60046,content_paste_off:58616,content_paste_search:60059,contrast:60215,control_camera:57460,control_point:58298,control_point_duplicate:58299,cookie:60076,copy_all:58092,copyright:59660,coronavirus:61985,corporate_fare:61904,cottage:58759,countertops:61943,create:57680,create_new_folder:58060,credit_card:59504,credit_card_off:58612,credit_score:61425,crib:58760,crisis_alert:60393,crop:58302,crop_16_9:58300,crop_3_2:58301,crop_5_4:58303,crop_7_5:58304,crop_din:58305,crop_free:58306,crop_landscape:58307,crop_original:58308,crop_portrait:58309,crop_rotate:58423,crop_square:58310,cruelty_free:59289,css:60307,currency_bitcoin:60357,currency_exchange:60272,currency_franc:60154,currency_lira:60143,currency_pound:60145,currency_ruble:60140,currency_rupee:60151,currency_yen:60155,currency_yuan:60153,curtains:60446,curtains_closed:60445,cyclone:60373,dangerous:59802,dark_mode:58652,dashboard:59505,dashboard_customize:59803,data_array:60113,data_exploration:59247,data_object:60115,data_saver_off:61426,data_saver_on:61427,data_thresholding:60319,data_usage:57775,dataset:63726,dataset_linked:63727,date_range:59670,deblur:60279,deck:59970,dehaze:58311,delete:59506,delete_forever:59691,delete_outline:59694,delete_sweep:57708,delivery_dining:60018,density_large:60329,density_medium:60318,density_small:60328,departure_board:58742,description:59507,deselect:60342,design_services:61706,desk:63732,desktop_access_disabled:59805,desktop_mac:58123,desktop_windows:58124,details:58312,developer_board:58125,developer_board_off:58623,developer_mode:57776,device_hub:58165,device_thermostat:57855,device_unknown:58169,devices:57777,devices_fold:60382,devices_other:58167,dialer_sip:57531,dialpad:57532,diamond:60117,difference:60285,dining:61428,dinner_dining:59991,directions:58670,directions_bike:58671,directions_boat:58674,directions_boat_filled:61429,directions_bus:58672,directions_bus_filled:61430,directions_car:58673,directions_car_filled:61431,directions_off:61711,directions_railway:58676,directions_railway_filled:61432,directions_run:58726,directions_subway:58675,directions_subway_filled:61433,directions_transit:58677,directions_transit_filled:61434,directions_walk:58678,dirty_lens:61259,disabled_by_default:62e3,disabled_visible:59246,disc_full:58896,discount:60361,display_settings:60311,diversity_1:63703,diversity_2:63704,diversity_3:63705,dns:59509,do_disturb:61580,do_disturb_alt:61581,do_disturb_off:61582,do_disturb_on:61583,do_not_disturb:58898,do_not_disturb_alt:58897,do_not_disturb_off:58947,do_not_disturb_on:58948,do_not_disturb_on_total_silence:61435,do_not_step:61855,do_not_touch:61872,dock:58126,document_scanner:58874,domain:59374,domain_add:60258,domain_disabled:57583,domain_verification:61260,done:59510,done_all:59511,done_outline:59695,donut_large:59671,donut_small:59672,door_back:61436,door_front:61437,door_sliding:61438,doorbell:61439,double_arrow:59984,downhill_skiing:58633,download:61584,download_done:61585,download_for_offline:61440,downloading:61441,drafts:57681,drag_handle:57949,drag_indicator:59717,draw:59206,drive_eta:58899,drive_file_move:58997,drive_file_move_rtl:59245,drive_file_rename_outline:59810,drive_folder_upload:59811,dry:61875,dry_cleaning:59992,duo:59813,dvr:57778,dynamic_feed:59924,dynamic_form:61887,e_mobiledata:61442,earbuds:61443,earbuds_battery:61444,east:61919,edgesensor_high:61445,edgesensor_low:61446,edit:58313,edit_attributes:58744,edit_calendar:59202,edit_location:58728,edit_location_alt:57797,edit_note:59205,edit_notifications:58661,edit_off:59728,edit_road:61261,egg:60108,egg_alt:60104,eject:59643,elderly:61978,elderly_woman:60265,electric_bike:60187,electric_bolt:60444,electric_car:60188,electric_meter:60443,electric_moped:60189,electric_rickshaw:60190,electric_scooter:60191,electrical_services:61698,elevator:61856,email:57534,emergency:57835,emergency_recording:60404,emergency_share:60406,emoji_emotions:59938,emoji_events:59939,emoji_food_beverage:59931,emoji_nature:59932,emoji_objects:59940,emoji_people:59933,emoji_symbols:59934,emoji_transportation:59935,energy_savings_leaf:60442,engineering:59965,enhanced_encryption:58943,equalizer:57373,error:57344,error_outline:57345,escalator:61857,escalator_warning:61868,euro:59925,euro_symbol:59686,ev_station:58733,event:59512,event_available:58900,event_busy:58901,event_note:58902,event_repeat:60283,event_seat:59651,exit_to_app:59513,expand:59727,expand_circle_down:59341,expand_less:58830,expand_more:58831,explicit:57374,explore:59514,explore_off:59816,exposure:58314,exposure_neg_1:58315,exposure_neg_2:58316,exposure_plus_1:58317,exposure_plus_2:58318,exposure_zero:58319,extension:59515,extension_off:58613,face:59516,face_2:63706,face_3:63707,face_4:63708,face_5:63709,face_6:63710,face_retouching_natural:61262,face_retouching_off:61447,fact_check:61637,factory:60348,family_restroom:61858,fast_forward:57375,fast_rewind:57376,fastfood:58746,favorite:59517,favorite_border:59518,fax:60120,featured_play_list:57453,featured_video:57454,feed:61449,feedback:59519,female:58768,fence:61942,festival:60008,fiber_dvr:57437,fiber_manual_record:57441,fiber_new:57438,fiber_pin:57450,fiber_smart_record:57442,file_copy:57715,file_download:58052,file_download_done:59818,file_download_off:58622,file_open:60147,file_present:59918,file_upload:58054,filter:58323,filter_1:58320,filter_2:58321,filter_3:58322,filter_4:58324,filter_5:58325,filter_6:58326,filter_7:58327,filter_8:58328,filter_9:58329,filter_9_plus:58330,filter_alt:61263,filter_alt_off:60210,filter_b_and_w:58331,filter_center_focus:58332,filter_drama:58333,filter_frames:58334,filter_hdr:58335,filter_list:57682,filter_list_off:60247,filter_none:58336,filter_tilt_shift:58338,filter_vintage:58339,find_in_page:59520,find_replace:59521,fingerprint:59661,fire_extinguisher:61912,fire_hydrant_alt:63729,fire_truck:63730,fireplace:59971,first_page:58844,fit_screen:59920,fitbit:59435,fitness_center:60227,flag:57683,flag_circle:60152,flaky:61264,flare:58340,flash_auto:58341,flash_off:58342,flash_on:58343,flashlight_off:61450,flashlight_on:61451,flatware:61452,flight:58681,flight_class:59339,flight_land:59652,flight_takeoff:59653,flip:58344,flip_camera_android:59959,flip_camera_ios:59960,flip_to_back:59522,flip_to_front:59523,flood:60390,fluorescent:60465,flutter_dash:57355,fmd_bad:61454,fmd_good:61455,folder:58055,folder_copy:60349,folder_delete:60212,folder_off:60291,folder_open:58056,folder_shared:58057,folder_special:58903,folder_zip:60204,follow_the_signs:61986,font_download:57703,font_download_off:58617,food_bank:61938,forest:60057,fork_left:60320,fork_right:60332,format_align_center:57908,format_align_justify:57909,format_align_left:57910,format_align_right:57911,format_bold:57912,format_clear:57913,format_color_fill:57914,format_color_reset:57915,format_color_text:57916,format_indent_decrease:57917,format_indent_increase:57918,format_italic:57919,format_line_spacing:57920,format_list_bulleted:57921,format_list_numbered:57922,format_list_numbered_rtl:57959,format_overline:60261,format_paint:57923,format_quote:57924,format_shapes:57950,format_size:57925,format_strikethrough:57926,format_textdirection_l_to_r:57927,format_textdirection_r_to_l:57928,format_underlined:57929,fort:60077,forum:57535,forward:57684,forward_10:57430,forward_30:57431,forward_5:57432,forward_to_inbox:61831,foundation:61952,free_breakfast:60228,free_cancellation:59208,front_hand:59241,fullscreen:58832,fullscreen_exit:58833,functions:57930,g_mobiledata:61456,g_translate:59687,gamepad:58127,games:57377,garage:61457,gas_meter:60441,gavel:59662,generating_tokens:59209,gesture:57685,get_app:59524,gif:59656,gif_box:59299,girl:60264,gite:58763,golf_course:60229,gpp_bad:61458,gpp_good:61459,gpp_maybe:61460,gps_fixed:57779,gps_not_fixed:57780,gps_off:57781,grade:59525,gradient:58345,grading:59983,grain:58346,graphic_eq:57784,grass:61957,grid_3x3:61461,grid_4x4:61462,grid_goldenratio:61463,grid_off:58347,grid_on:58348,grid_view:59824,group:59375,group_add:59376,group_off:59207,group_remove:59309,group_work:59526,groups:62003,groups_2:63711,groups_3:63712,h_mobiledata:61464,h_plus_mobiledata:61465,hail:59825,handshake:60363,handyman:61707,hardware:59993,hd:57426,hdr_auto:61466,hdr_auto_select:61467,hdr_enhanced_select:61265,hdr_off:58349,hdr_off_select:61468,hdr_on:58350,hdr_on_select:61469,hdr_plus:61470,hdr_strong:58353,hdr_weak:58354,headphones:61471,headphones_battery:61472,headset:58128,headset_mic:58129,headset_off:58170,healing:58355,health_and_safety:57813,hearing:57379,hearing_disabled:61700,heart_broken:60098,heat_pump:60440,height:59926,help:59527,help_center:61888,help_outline:59645,hevc:61473,hexagon:60217,hide_image:61474,hide_source:61475,high_quality:57380,highlight:57951,highlight_alt:61266,highlight_off:59528,hiking:58634,history:59529,history_edu:59966,history_toggle_off:61821,hive:60070,hls:60298,hls_off:60300,holiday_village:58762,home:59530,home_max:61476,home_mini:61477,home_repair_service:61696,home_work:59913,horizontal_distribute:57364,horizontal_rule:61704,horizontal_split:59719,hot_tub:60230,hotel:58682,hotel_class:59203,hourglass_bottom:59996,hourglass_disabled:61267,hourglass_empty:59531,hourglass_full:59532,hourglass_top:59995,house:59972,house_siding:61954,houseboat:58756,how_to_reg:57716,how_to_vote:57717,html:60286,http:59650,https:59533,hub:59892,hvac:61710,ice_skating:58635,icecream:60009,image:58356,image_aspect_ratio:58357,image_not_supported:61718,image_search:58431,imagesearch_roller:59828,import_contacts:57568,import_export:57539,important_devices:59666,inbox:57686,incomplete_circle:59291,indeterminate_check_box:59657,info:59534,input:59536,insert_chart:57931,insert_chart_outlined:57962,insert_comment:57932,insert_drive_file:57933,insert_emoticon:57934,insert_invitation:57935,insert_link:57936,insert_page_break:60106,insert_photo:57937,insights:61586,install_desktop:60273,install_mobile:60274,integration_instructions:61268,interests:59336,interpreter_mode:59451,inventory:57721,inventory_2:57761,invert_colors:59537,invert_colors_off:57540,ios_share:59064,iron:58755,iso:58358,javascript:60284,join_full:60139,join_inner:60148,join_left:60146,join_right:60138,kayaking:58636,kebab_dining:59458,key:59196,key_off:60292,keyboard:58130,keyboard_alt:61480,keyboard_arrow_down:58131,keyboard_arrow_left:58132,keyboard_arrow_right:58133,keyboard_arrow_up:58134,keyboard_backspace:58135,keyboard_capslock:58136,keyboard_command_key:60135,keyboard_control_key:60134,keyboard_double_arrow_down:60112,keyboard_double_arrow_left:60099,keyboard_double_arrow_right:60105,keyboard_double_arrow_up:60111,keyboard_hide:58138,keyboard_option_key:60136,keyboard_return:58139,keyboard_tab:58140,keyboard_voice:58141,king_bed:59973,kitchen:60231,kitesurfing:58637,label:59538,label_important:59703,label_off:59830,lan:60207,landscape:58359,landslide:60375,language:59540,laptop:58142,laptop_chromebook:58143,laptop_mac:58144,laptop_windows:58145,last_page:58845,launch:59541,layers:58683,layers_clear:58684,leaderboard:61964,leak_add:58360,leak_remove:58361,legend_toggle:61723,lens:58362,lens_blur:61481,library_add:57390,library_add_check:59831,library_books:57391,library_music:57392,light:61482,light_mode:58648,lightbulb:57584,lightbulb_circle:60414,line_axis:60058,line_style:59673,line_weight:59674,linear_scale:57952,link:57687,link_off:57711,linked_camera:58424,liquor:6e4,list:59542,list_alt:57582,live_help:57542,live_tv:58937,living:61483,local_activity:58687,local_airport:58685,local_atm:58686,local_bar:58688,local_cafe:58689,local_car_wash:58690,local_convenience_store:58691,local_dining:58710,local_drink:58692,local_fire_department:61269,local_florist:58693,local_gas_station:58694,local_grocery_store:58695,local_hospital:58696,local_hotel:58697,local_laundry_service:58698,local_library:58699,local_mall:58700,local_movies:58701,local_offer:58702,local_parking:58703,local_pharmacy:58704,local_phone:58705,local_pizza:58706,local_play:58707,local_police:61270,local_post_office:58708,local_printshop:58709,local_see:58711,local_shipping:58712,local_taxi:58713,location_city:59377,location_disabled:57782,location_off:57543,location_on:57544,location_searching:57783,lock:59543,lock_clock:61271,lock_open:59544,lock_person:63731,lock_reset:60126,login:60023,logo_dev:60118,logout:59834,looks:58364,looks_3:58363,looks_4:58365,looks_5:58366,looks_6:58367,looks_one:58368,looks_two:58369,loop:57384,loupe:58370,low_priority:57709,loyalty:59546,lte_mobiledata:61484,lte_plus_mobiledata:61485,luggage:62005,lunch_dining:60001,lyrics:60427,macro_off:63698,mail:57688,mail_lock:60426,mail_outline:57569,male:58766,man:58603,man_2:63713,man_3:63714,man_4:63715,manage_accounts:61486,manage_history:60391,manage_search:61487,map:58715,maps_home_work:61488,maps_ugc:61272,margin:59835,mark_as_unread:59836,mark_chat_read:61835,mark_chat_unread:61833,mark_email_read:61836,mark_email_unread:61834,mark_unread_chat_alt:60317,markunread:57689,markunread_mailbox:59547,masks:61976,maximize:59696,media_bluetooth_off:61489,media_bluetooth_on:61490,mediation:61351,medical_information:60397,medical_services:61705,medication:61491,medication_liquid:60039,meeting_room:60239,memory:58146,menu:58834,menu_book:59929,menu_open:59837,merge:60312,merge_type:57938,message:57545,mic:57385,mic_external_off:61273,mic_external_on:61274,mic_none:57386,mic_off:57387,microwave:61956,military_tech:59967,minimize:59697,minor_crash:60401,miscellaneous_services:61708,missed_video_call:57459,mms:58904,mobile_friendly:57856,mobile_off:57857,mobile_screen_share:57575,mobiledata_off:61492,mode:61591,mode_comment:57939,mode_edit:57940,mode_edit_outline:61493,mode_fan_off:60439,mode_night:61494,mode_of_travel:59342,mode_standby:61495,model_training:61647,monetization_on:57955,money:58749,money_off:57948,money_off_csred:61496,monitor:61275,monitor_heart:60066,monitor_weight:61497,monochrome_photos:58371,mood:59378,mood_bad:59379,moped:60200,more:58905,more_horiz:58835,more_time:59997,more_vert:58836,mosque:60082,motion_photos_auto:61498,motion_photos_off:59840,motion_photos_on:59841,motion_photos_pause:61991,motion_photos_paused:59842,mouse:58147,move_down:60257,move_to_inbox:57704,move_up:60260,movie:57388,movie_creation:58372,movie_filter:58426,moving:58625,mp:59843,multiline_chart:59103,multiple_stop:61881,museum:59958,music_note:58373,music_off:58432,music_video:57443,my_location:58716,nat:61276,nature:58374,nature_people:58375,navigate_before:58376,navigate_next:58377,navigation:58717,near_me:58729,near_me_disabled:61935,nearby_error:61499,nearby_off:61500,nest_cam_wired_stand:60438,network_cell:57785,network_check:58944,network_locked:58906,network_ping:60362,network_wifi:57786,network_wifi_1_bar:60388,network_wifi_2_bar:60374,network_wifi_3_bar:60385,new_label:58889,new_releases:57393,newspaper:60289,next_plan:61277,next_week:57706,nfc:57787,night_shelter:61937,nightlife:60002,nightlight:61501,nightlight_round:61278,nights_stay:59974,no_accounts:61502,no_adult_content:63742,no_backpack:62007,no_cell:61860,no_crash:60400,no_drinks:61861,no_encryption:58945,no_encryption_gmailerrorred:61503,no_flash:61862,no_food:61863,no_luggage:62011,no_meals:61910,no_meeting_room:60238,no_photography:61864,no_sim:57548,no_stroller:61871,no_transfer:61909,noise_aware:60396,noise_control_off:60403,nordic_walking:58638,north:61920,north_east:61921,north_west:61922,not_accessible:61694,not_interested:57395,not_listed_location:58741,not_started:61649,note:57455,note_add:59548,note_alt:61504,notes:57964,notification_add:58265,notification_important:57348,notifications:59380,notifications_active:59383,notifications_none:59381,notifications_off:59382,notifications_paused:59384,numbers:60103,offline_bolt:59698,offline_pin:59658,offline_share:59845,oil_barrel:60437,on_device_training:60413,ondemand_video:58938,online_prediction:61675,opacity:59676,open_in_browser:59549,open_in_full:61902,open_in_new:59550,open_in_new_off:58614,open_with:59551,other_houses:58764,outbound:57802,outbox:61279,outdoor_grill:59975,outlet:61908,outlined_flag:57710,output:60350,padding:59848,pages:59385,pageview:59552,paid:61505,palette:58378,pan_tool:59685,pan_tool_alt:60345,panorama:58379,panorama_fish_eye:58380,panorama_horizontal:58381,panorama_horizontal_select:61280,panorama_photosphere:59849,panorama_photosphere_select:59850,panorama_vertical:58382,panorama_vertical_select:61281,panorama_wide_angle:58383,panorama_wide_angle_select:61282,paragliding:58639,park:60003,party_mode:59386,password:61506,pattern:61507,pause:57396,pause_circle:57762,pause_circle_filled:57397,pause_circle_outline:57398,pause_presentation:57578,payment:59553,payments:61283,pedal_bike:60201,pending:61284,pending_actions:61883,pentagon:60240,people:59387,people_alt:59937,people_outline:59388,percent:60248,perm_camera_mic:59554,perm_contact_calendar:59555,perm_data_setting:59556,perm_device_information:59557,perm_identity:59558,perm_media:59559,perm_phone_msg:59560,perm_scan_wifi:59561,person:59389,person_2:63716,person_3:63717,person_4:63718,person_add:59390,person_add_alt:59981,person_add_alt_1:61285,person_add_disabled:59851,person_off:58640,person_outline:59391,person_pin:58714,person_pin_circle:58730,person_remove:61286,person_remove_alt_1:61287,person_search:61702,personal_injury:59098,personal_video:58939,pest_control:61690,pest_control_rodent:61693,pets:59677,phishing:60119,phone:57549,phone_android:58148,phone_bluetooth_speaker:58907,phone_callback:58953,phone_disabled:59852,phone_enabled:59853,phone_forwarded:58908,phone_iphone:58149,phone_locked:58910,phone_missed:58911,phone_paused:58912,phonelink:58150,phonelink_erase:57563,phonelink_lock:57564,phonelink_off:58151,phonelink_ring:57565,phonelink_setup:57566,photo:58384,photo_album:58385,photo_camera:58386,photo_camera_back:61288,photo_camera_front:61289,photo_filter:58427,photo_library:58387,photo_size_select_actual:58418,photo_size_select_large:58419,photo_size_select_small:58420,php:60303,piano:58657,piano_off:58656,picture_as_pdf:58389,picture_in_picture:59562,picture_in_picture_alt:59665,pie_chart:59076,pie_chart_outline:61508,pin:61509,pin_drop:58718,pin_end:59239,pin_invoke:59235,pinch:60216,pivot_table_chart:59854,pix:60067,place:58719,plagiarism:59994,play_arrow:57399,play_circle:57796,play_circle_filled:57400,play_circle_outline:57401,play_disabled:61290,play_for_work:59654,play_lesson:61511,playlist_add:57403,playlist_add_check:57445,playlist_add_check_circle:59366,playlist_add_circle:59365,playlist_play:57439,playlist_remove:60288,plumbing:61703,plus_one:59392,podcasts:61512,point_of_sale:61822,policy:59927,poll:59393,polyline:60347,polymer:59563,pool:60232,portable_wifi_off:57550,portrait:58390,post_add:59936,power:58940,power_input:58166,power_off:58950,power_settings_new:59564,precision_manufacturing:61513,pregnant_woman:59678,present_to_all:57567,preview:61893,price_change:61514,price_check:61515,print:59565,print_disabled:59855,priority_high:58949,privacy_tip:61660,private_connectivity:59204,production_quantity_limits:57809,propane:60436,propane_tank:60435,psychology:59978,psychology_alt:63722,public:59403,public_off:61898,publish:57941,published_with_changes:62002,punch_clock:60072,push_pin:61709,qr_code:61291,qr_code_2:57354,qr_code_scanner:61958,query_builder:59566,query_stats:58620,question_answer:59567,question_mark:60299,queue:57404,queue_music:57405,queue_play_next:57446,quickreply:61292,quiz:61516,r_mobiledata:61517,radar:61518,radio:57406,radio_button_checked:59447,radio_button_unchecked:59446,railway_alert:59857,ramen_dining:60004,ramp_left:60316,ramp_right:60310,rate_review:58720,raw_off:61519,raw_on:61520,read_more:61293,real_estate_agent:59194,receipt:59568,receipt_long:61294,recent_actors:57407,recommend:59858,record_voice_over:59679,rectangle:60244,recycling:59232,redeem:59569,redo:57690,reduce_capacity:61980,refresh:58837,remember_me:61521,remove:57691,remove_circle:57692,remove_circle_outline:57693,remove_done:59859,remove_from_queue:57447,remove_moderator:59860,remove_red_eye:58391,remove_road:60412,remove_shopping_cart:59688,reorder:59646,repartition:63720,repeat:57408,repeat_on:59862,repeat_one:57409,repeat_one_on:59863,replay:57410,replay_10:57433,replay_30:57434,replay_5:57435,replay_circle_filled:59864,reply:57694,reply_all:57695,report:57696,report_gmailerrorred:61522,report_off:57712,report_problem:59570,request_page:61996,request_quote:61878,reset_tv:59865,restart_alt:61523,restaurant:58732,restaurant_menu:58721,restore:59571,restore_from_trash:59704,restore_page:59689,reviews:61524,rice_bowl:61941,ring_volume:57553,rocket:60325,rocket_launch:60315,roller_shades:60434,roller_shades_closed:60433,roller_skating:60365,roofing:61953,room:59572,room_preferences:61880,room_service:60233,rotate_90_degrees_ccw:58392,rotate_90_degrees_cw:60075,rotate_left:58393,rotate_right:58394,roundabout_left:60313,roundabout_right:60323,rounded_corner:59680,route:60109,router:58152,rowing:59681,rss_feed:57573,rsvp:61525,rtt:59821,rule:61890,rule_folder:61897,run_circle:61295,running_with_errors:58653,rv_hookup:58946,safety_check:60399,safety_divider:57804,sailing:58626,sanitizer:61981,satellite:58722,satellite_alt:60218,save:57697,save_alt:57713,save_as:60256,saved_search:59921,savings:58091,scale:60255,scanner:58153,scatter_plot:57960,schedule:59573,schedule_send:59914,schema:58621,school:59404,science:59979,score:57961,scoreboard:60368,screen_lock_landscape:57790,screen_lock_portrait:57791,screen_lock_rotation:57792,screen_rotation:57793,screen_rotation_alt:60398,screen_search_desktop:61296,screen_share:57570,screenshot:61526,screenshot_monitor:60424,scuba_diving:60366,sd:59869,sd_card:58915,sd_card_alert:61527,sd_storage:57794,search:59574,search_off:60022,security:58154,security_update:61528,security_update_good:61529,security_update_warning:61530,segment:59723,select_all:57698,self_improvement:60024,sell:61531,send:57699,send_and_archive:59916,send_time_extension:60123,send_to_mobile:61532,sensor_door:61877,sensor_occupied:60432,sensor_window:61876,sensors:58654,sensors_off:58655,sentiment_dissatisfied:59409,sentiment_neutral:59410,sentiment_satisfied:59411,sentiment_satisfied_alt:57581,sentiment_very_dissatisfied:59412,sentiment_very_satisfied:59413,set_meal:61930,settings:59576,settings_accessibility:61533,settings_applications:59577,settings_backup_restore:59578,settings_bluetooth:59579,settings_brightness:59581,settings_cell:59580,settings_ethernet:59582,settings_input_antenna:59583,settings_input_component:59584,settings_input_composite:59585,settings_input_hdmi:59586,settings_input_svideo:59587,settings_overscan:59588,settings_phone:59589,settings_power:59590,settings_remote:59591,settings_suggest:61534,settings_system_daydream:57795,settings_voice:59592,severe_cold:60371,shape_line:63699,share:59405,share_location:61535,shield:59872,shield_moon:60073,shop:59593,shop_2:57758,shop_two:59594,shopping_bag:61900,shopping_basket:59595,shopping_cart:59596,shopping_cart_checkout:60296,short_text:57953,shortcut:61536,show_chart:59105,shower:61537,shuffle:57411,shuffle_on:59873,shutter_speed:58429,sick:61984,sign_language:60389,signal_cellular_0_bar:61608,signal_cellular_4_bar:57800,signal_cellular_alt:57858,signal_cellular_alt_1_bar:60383,signal_cellular_alt_2_bar:60387,signal_cellular_connected_no_internet_0_bar:61612,signal_cellular_connected_no_internet_4_bar:57805,signal_cellular_no_sim:57806,signal_cellular_nodata:61538,signal_cellular_null:57807,signal_cellular_off:57808,signal_wifi_0_bar:61616,signal_wifi_4_bar:57816,signal_wifi_4_bar_lock:57817,signal_wifi_bad:61539,signal_wifi_connected_no_internet_4:61540,signal_wifi_off:57818,signal_wifi_statusbar_4_bar:61541,signal_wifi_statusbar_connected_no_internet_4:61542,signal_wifi_statusbar_null:61543,signpost:60305,sim_card:58155,sim_card_alert:58916,sim_card_download:61544,single_bed:59976,sip:61545,skateboarding:58641,skip_next:57412,skip_previous:57413,sledding:58642,slideshow:58395,slow_motion_video:57448,smart_button:61889,smart_display:61546,smart_screen:61547,smart_toy:61548,smartphone:58156,smoke_free:60234,smoking_rooms:60235,sms:58917,sms_failed:58918,snippet_folder:61895,snooze:57414,snowboarding:58643,snowmobile:58627,snowshoeing:58644,soap:61874,social_distance:57803,solar_power:60431,sort:57700,sort_by_alpha:57427,sos:60407,soup_kitchen:59347,source:61892,south:61923,south_america:59364,south_east:61924,south_west:61925,spa:60236,space_bar:57942,space_dashboard:58987,spatial_audio:60395,spatial_audio_off:60392,spatial_tracking:60394,speaker:58157,speaker_group:58158,speaker_notes:59597,speaker_notes_off:59690,speaker_phone:57554,speed:59876,spellcheck:59598,splitscreen:61549,spoke:59815,sports:59952,sports_bar:61939,sports_baseball:59985,sports_basketball:59942,sports_cricket:59943,sports_esports:59944,sports_football:59945,sports_golf:59946,sports_gymnastics:60356,sports_handball:59955,sports_hockey:59947,sports_kabaddi:59956,sports_martial_arts:60137,sports_mma:59948,sports_motorsports:59949,sports_rugby:59950,sports_score:61550,sports_soccer:59951,sports_tennis:59954,sports_volleyball:59953,square:60214,square_foot:59977,ssid_chart:60262,stacked_bar_chart:59878,stacked_line_chart:61995,stadium:60304,stairs:61865,star:59448,star_border:59450,star_border_purple500:61593,star_half:59449,star_outline:61551,star_purple500:61594,star_rate:61676,stars:59600,start:57481,stay_current_landscape:57555,stay_current_portrait:57556,stay_primary_landscape:57557,stay_primary_portrait:57558,sticky_note_2:61948,stop:57415,stop_circle:61297,stop_screen_share:57571,storage:57819,store:59601,store_mall_directory:58723,storefront:59922,storm:61552,straight:60309,straighten:58396,stream:59881,streetview:58734,strikethrough_s:57943,stroller:61870,style:58397,subdirectory_arrow_left:58841,subdirectory_arrow_right:58842,subject:59602,subscript:61713,subscriptions:57444,subtitles:57416,subtitles_off:61298,subway:58735,summarize:61553,superscript:61714,supervised_user_circle:59705,supervisor_account:59603,support:61299,support_agent:61666,surfing:58645,surround_sound:57417,swap_calls:57559,swap_horiz:59604,swap_horizontal_circle:59699,swap_vert:59605,swap_vertical_circle:59606,swipe:59884,swipe_down:60243,swipe_down_alt:60208,swipe_left:60249,swipe_left_alt:60211,swipe_right:60242,swipe_right_alt:60246,swipe_up:60206,swipe_up_alt:60213,swipe_vertical:60241,switch_access_shortcut:59361,switch_access_shortcut_add:59362,switch_account:59885,switch_camera:58398,switch_left:61905,switch_right:61906,switch_video:58399,synagogue:60080,sync:58919,sync_alt:59928,sync_disabled:58920,sync_lock:60142,sync_problem:58921,system_security_update:61554,system_security_update_good:61555,system_security_update_warning:61556,system_update:58922,system_update_alt:59607,tab:59608,tab_unselected:59609,table_bar:60114,table_chart:57957,table_restaurant:60102,table_rows:61697,table_view:61886,tablet:58159,tablet_android:58160,tablet_mac:58161,tag:59887,tag_faces:58400,takeout_dining:60020,tap_and_play:58923,tapas:61929,task:61557,task_alt:58086,taxi_alert:61300,temple_buddhist:60083,temple_hindu:60079,terminal:60302,terrain:58724,text_decrease:60125,text_fields:57954,text_format:57701,text_increase:60130,text_rotate_up:59706,text_rotate_vertical:59707,text_rotation_angledown:59708,text_rotation_angleup:59709,text_rotation_down:59710,text_rotation_none:59711,text_snippet:61894,textsms:57560,texture:58401,theater_comedy:60006,theaters:59610,thermostat:61558,thermostat_auto:61559,thumb_down:59611,thumb_down_alt:59414,thumb_down_off_alt:59890,thumb_up:59612,thumb_up_alt:59415,thumb_up_off_alt:59891,thumbs_up_down:59613,thunderstorm:60379,time_to_leave:58924,timelapse:58402,timeline:59682,timer:58405,timer_10:58403,timer_10_select:61562,timer_3:58404,timer_3_select:61563,timer_off:58406,tips_and_updates:59290,tire_repair:60360,title:57956,toc:59614,today:59615,toggle_off:59893,toggle_on:59894,token:59941,toll:59616,tonality:58407,topic:61896,tornado:57753,touch_app:59667,tour:61301,toys:58162,track_changes:59617,traffic:58725,train:58736,tram:58737,transcribe:63724,transfer_within_a_station:58738,transform:58408,transgender:58765,transit_enterexit:58745,translate:59618,travel_explore:58075,trending_down:59619,trending_flat:59620,trending_up:59621,trip_origin:58747,troubleshoot:57810,try:61564,tsunami:60376,tty:61866,tune:58409,tungsten:61565,turn_left:60326,turn_right:60331,turn_sharp_left:60327,turn_sharp_right:60330,turn_slight_left:60324,turn_slight_right:60314,turned_in:59622,turned_in_not:59623,tv:58163,tv_off:58951,two_wheeler:59897,type_specimen:63728,u_turn_left:60321,u_turn_right:60322,umbrella:61869,unarchive:57705,undo:57702,unfold_less:58838,unfold_less_double:63695,unfold_more:58839,unfold_more_double:63696,unpublished:62006,unsubscribe:57579,upcoming:61566,update:59683,update_disabled:57461,upgrade:61691,upload:61595,upload_file:59900,usb:57824,usb_off:58618,vaccines:57656,vape_free:60358,vaping_rooms:60367,verified:61302,verified_user:59624,vertical_align_bottom:57944,vertical_align_center:57945,vertical_align_top:57946,vertical_distribute:57462,vertical_shades:60430,vertical_shades_closed:60429,vertical_split:59721,vibration:58925,video_call:57456,video_camera_back:61567,video_camera_front:61568,video_chat:63648,video_file:60295,video_label:57457,video_library:57418,video_settings:60021,video_stable:61569,videocam:57419,videocam_off:57420,videogame_asset:58168,videogame_asset_off:58624,view_agenda:59625,view_array:59626,view_carousel:59627,view_column:59628,view_comfy:58410,view_comfy_alt:60275,view_compact:58411,view_compact_alt:60276,view_cozy:60277,view_day:59629,view_headline:59630,view_in_ar:59902,view_kanban:60287,view_list:59631,view_module:59632,view_quilt:59633,view_sidebar:61716,view_stream:59634,view_timeline:60293,view_week:59635,vignette:58421,villa:58758,visibility:59636,visibility_off:59637,voice_chat:58926,voice_over_off:59722,voicemail:57561,volcano:60378,volume_down:57421,volume_mute:57422,volume_off:57423,volume_up:57424,volunteer_activism:60016,vpn_key:57562,vpn_key_off:60282,vpn_lock:58927,vrpano:61570,wallet:63743,wallpaper:57788,warehouse:60344,warning:57346,warning_amber:61571,wash:61873,watch:58164,watch_later:59684,watch_off:60131,water:61572,water_damage:61955,water_drop:59288,waterfall_chart:59904,waves:57718,waving_hand:59238,wb_auto:58412,wb_cloudy:58413,wb_incandescent:58414,wb_iridescent:58422,wb_shade:59905,wb_sunny:58416,wb_twilight:57798,wc:58941,web:57425,web_asset:57449,web_asset_off:58615,web_stories:58773,webhook:60306,weekend:57707,west:61926,whatshot:59406,wheelchair_pickup:61867,where_to_vote:57719,widgets:57789,width_full:63733,width_normal:63734,width_wide:63735,wifi:58942,wifi_1_bar:58570,wifi_2_bar:58585,wifi_calling:61303,wifi_calling_3:61573,wifi_channel:60266,wifi_find:60209,wifi_lock:57825,wifi_off:58952,wifi_password:60267,wifi_protected_setup:61692,wifi_tethering:57826,wifi_tethering_error:60121,wifi_tethering_off:61575,wind_power:60428,window:61576,wine_bar:61928,woman:57662,woman_2:63719,work:59641,work_history:60425,work_off:59714,work_outline:59715,workspace_premium:59311,workspaces:57760,wrap_text:57947,wrong_location:61304,wysiwyg:61891,yard:61577,youtube_searched_for:59642,zoom_in:59647,zoom_in_map:60205,zoom_out:59648,zoom_out_map:58731};function Kp(t){let e,n=String.fromCodePoint(ma[t[0]])+"",r,i;return{c(){e=y("span"),r=K(n),h(e,"class",i="mdi "+(t[1].class||"")+" svelte-1o64s6p")},m(a,s){q(a,e,s),f(e,r)},p(a,[s]){s&1&&n!==(n=String.fromCodePoint(ma[a[0]])+"")&&ie(r,n),s&2&&i!==(i="mdi "+(a[1].class||"")+" svelte-1o64s6p")&&h(e,"class",i)},i:yt,o:yt,d(a){a&&W(e)}}}function Qp(t,e,n){const r=["icon"];let i=Lo(e,r),{icon:a}=e;return t.$$set=s=>{e=Gr(Gr({},e),Si(s)),n(1,i=Lo(e,r)),"icon"in s&&n(0,a=s.icon)},[a,i]}class me extends Pt{constructor(e){super(),Tt(this,e,Qp,Kp,wt,{icon:0})}}function Jp(t){let e,n,r=t[0]("browser_warning.lines.first")+"",i,a,s,o,l,c=t[0]("browser_warning.lines.second")+"",u,d;return s=new me({props:{icon:"sentiment_very_dissatisfied"}}),{c(){e=y("div"),n=y("div"),i=K(r),a=L(),re(s.$$.fragment),o=L(),l=y("div"),u=K(c),h(e,"class","alert alert-danger"),h(e,"role","alert")},m(m,g){q(m,e,g),f(e,n),f(n,i),f(n,a),te(s,n,null),f(e,o),f(e,l),f(l,u),d=!0},p(m,g){(!d||g&1)&&r!==(r=m[0]("browser_warning.lines.first")+"")&&ie(i,r),(!d||g&1)&&c!==(c=m[0]("browser_warning.lines.second")+"")&&ie(u,c)},i(m){d||(j(s.$$.fragment,m),d=!0)},o(m){R(s.$$.fragment,m),d=!1},d(m){m&&W(e),ne(s)}}}function Xp(t){let e,n,r=!t[1].webSerial&&!t[1].webBluetooth&&!t[1].capacitorBle&&Jp(t);return{c(){r&&r.c(),e=er()},m(i,a){r&&r.m(i,a),q(i,e,a),n=!0},p(i,[a]){!i[1].webSerial&&!i[1].webBluetooth&&!i[1].capacitorBle&&r.p(i,a)},i(i){n||(j(r),n=!0)},o(i){R(r),n=!1},d(i){i&&W(e),r&&r.d(i)}}}function eh(t,e,n){let r;nt(t,Rt,a=>n(0,r=a));let i=lt.Utils.getAvailableTransports();return[r,i]}class th extends Pt{constructor(e){super(),Tt(this,e,eh,Xp,wt,{})}}const pl={0:{A:"0001101",B:"0100111",C:"1110010"},1:{A:"0011001",B:"0110011",C:"1100110"},2:{A:"0010011",B:"0011011",C:"1101100"},3:{A:"0111101",B:"0100001",C:"1000010"},4:{A:"0100011",B:"0011101",C:"1011100"},5:{A:"0110001",B:"0111001",C:"1001110"},6:{A:"0101111",B:"0000101",C:"1010000"},7:{A:"0111011",B:"0010001",C:"1000100"},8:{A:"0110111",B:"0001001",C:"1001000"},9:{A:"0001011",B:"0010111",C:"1110100"}},nh={0:"AAAAAA",1:"AABABB",2:"AABBAB",3:"AABBBA",4:"ABAABB",5:"ABBAAB",6:"ABBBAA",7:"ABABAB",8:"ABABBA",9:"ABBABA"};function rh(t){if(t.length>13)throw new Error("Data too long for EAN13");if(t.length<12&&(t=t.padEnd(12,"0")),/^\d+$/.test(t)===!1)throw new Error("Invalid character in EAN13");let e=0;for(let i=0;i<12;i++){const a=parseInt(t[i],10);e+=(i%2===0?1:3)*a}if(e=(10-e%10)%10,t.length===12)t+=e.toString();else if(t.length===13&&t[12]!==e.toString())throw new Error("Invalid checksum in EAN13");const n=[];n.push("101");const r=nh[t[0]];for(let i=1;i<7;i++){const a=t[i],s=r[i-1],o=pl[a][s];n.push(o)}n.push("01010");for(let i=7;i<13;i++){const a=t[i],s=pl[a].C;n.push(s)}return n.push("101"),{text:t,bandcode:n.join("")}}const yi=[{ascii:32,code:"11011001100"},{ascii:33,code:"11001101100"},{ascii:34,code:"11001100110"},{ascii:35,code:"10010011000"},{ascii:36,code:"100h0001100"},{ascii:37,code:"10001001100"},{ascii:38,code:"10011001000"},{ascii:39,code:"10011000100"},{ascii:40,code:"10001100100"},{ascii:41,code:"1100h00h000"},{ascii:42,code:"11001000100"},{ascii:43,code:"11000100100"},{ascii:44,code:"10110011100"},{ascii:45,code:"10011011100"},{ascii:46,code:"10011001110"},{ascii:47,code:"10111001100"},{ascii:48,code:"10011101100"},{ascii:49,code:"10011100110"},{ascii:50,code:"11001110010"},{ascii:51,code:"11001011100"},{ascii:52,code:"11001001110"},{ascii:53,code:"11011100100"},{ascii:54,code:"11001110100"},{ascii:55,code:"11101101110"},{ascii:56,code:"11101001100"},{ascii:57,code:"11100101100"},{ascii:58,code:"11100100110"},{ascii:59,code:"11101100100"},{ascii:60,code:"11100110100"},{ascii:61,code:"11100110010"},{ascii:62,code:"11011011000"},{ascii:63,code:"11011000110"},{ascii:64,code:"11000110110"},{ascii:65,code:"10100011000"},{ascii:66,code:"10001011000"},{ascii:67,code:"10001000110"},{ascii:68,code:"10110001000"},{ascii:69,code:"10001101000"},{ascii:70,code:"10001100010"},{ascii:71,code:"11010001000"},{ascii:72,code:"11000101000"},{ascii:73,code:"11000100010"},{ascii:74,code:"10110111000"},{ascii:75,code:"10110001110"},{ascii:76,code:"10001101110"},{ascii:77,code:"10111011000"},{ascii:78,code:"10111000110"},{ascii:79,code:"10001110110"},{ascii:80,code:"11101110110"},{ascii:81,code:"11010001110"},{ascii:82,code:"11000101110"},{ascii:83,code:"11011101000"},{ascii:84,code:"11011100010"},{ascii:85,code:"11011101110"},{ascii:86,code:"11101011000"},{ascii:87,code:"11101000110"},{ascii:88,code:"11100010110"},{ascii:89,code:"11101101000"},{ascii:90,code:"11101100010"},{ascii:91,code:"11100011010"},{ascii:92,code:"11101111010"},{ascii:93,code:"11001000010"},{ascii:94,code:"11110001010"},{ascii:95,code:"10100110000"},{ascii:96,code:"10100001100"},{ascii:97,code:"10010110000"},{ascii:98,code:"10010000110"},{ascii:99,code:"10000101100"},{ascii:100,code:"10000100110"},{ascii:101,code:"10110010000"},{ascii:102,code:"10110000100"},{ascii:103,code:"10011010000"},{ascii:104,code:"10011000010"},{ascii:105,code:"10000110100"},{ascii:106,code:"10000110010"},{ascii:107,code:"11000010010"},{ascii:108,code:"11001010000"},{ascii:109,code:"11110111010"},{ascii:110,code:"11000010100"},{ascii:111,code:"10001111010"},{ascii:112,code:"10100111100"},{ascii:113,code:"10010111100"},{ascii:114,code:"10010011110"},{ascii:115,code:"10111100100"},{ascii:116,code:"10011110100"},{ascii:117,code:"10011110010"},{ascii:118,code:"11110100100"},{ascii:119,code:"11110010100"},{ascii:120,code:"11110010010"},{ascii:121,code:"11011011110"},{ascii:122,code:"11011110110"},{ascii:123,code:"11110110110"},{ascii:124,code:"10101111000"},{ascii:125,code:"10100011110"},{ascii:126,code:"10001011110"},{ascii:200,code:"10111101000"},{ascii:201,code:"10111100010"},{ascii:202,code:"11110101000"},{ascii:203,code:"11110100010"},{ascii:204,code:"10111011110"},{ascii:205,code:"10111101110"},{ascii:206,code:"11101011110"},{ascii:207,code:"11110101110"},{ascii:208,code:"11010000100"},{ascii:209,code:"11010010000"},{ascii:210,code:"11010011100"},{ascii:211,code:"1100011101011"}],ih=yi.reduce((t,{ascii:e},n)=>(t[e]=n,t),{});function ah(t){if(t.length>229)throw new Error("Data too long for Code128B");const e=[];e.push(yi[104].code);let n=104;for(let r=0;r<t.length;r++){const i=ih[t.charCodeAt(r)];if(i===void 0)throw new Error("Invalid character in Code128B");e.push(yi[i].code),n+=(r+1)*i}return e.push(yi[n%103].code),e.push(yi[106].code),e.join("")}function as(t,e,n,r,i){const a=[];for(let c=0;c<e.length;c++){const u=e.charAt(c),d=t.measureText(u);a.push(d.width)}const s=a.reduce((c,u)=>c+u,0),o=(i-s)/(e.length-1);let l=0;for(let c=0;c<e.length;c++){const u=e.charAt(c);t.fillText(u,n+l,r),l+=a[c]+o}}const hl=[{width:30,height:12,unit:"mm",dpmm:8,printDirection:"left",shape:"rect"},{width:50,height:30,unit:"mm",dpmm:8,printDirection:"top",shape:"rect"}],nd={printDirection:"left",size:{width:240,height:96}},kr=5,Hn={width:64,height:64},pn={snapAngle:10,top:10,left:10},ss={...pn,fill:"transparent",stroke:"black",strokeWidth:3,strokeUniform:!0},Di={...pn,fill:"black",fontFamily:"Noto Sans Variable",textAlign:"center",originX:"center",originY:"center",lineHeight:1},sh=48,oh=.7,ra=["text","encoding","printText","scaleFactor","fontSize","font","fontFamily"],lh=[0,1,2,45,46,47,48,49,92,93,94];class jn extends it.fabric.Object{constructor(e){super(e),this.barcodeEncoded="",this.displayText="",this.type="Barcode",this.stateProperties=ra.concat(...it.fabric.Object.prototype.stateProperties??[]),this.cacheProperties=ra.concat(...it.fabric.Object.prototype.cacheProperties??[]),this.objectCaching=!1,this.setControlsVisibility({tl:!1,tr:!1,bl:!1,br:!1,ml:!1,mr:!1,mtr:!1}),this.text=(e==null?void 0:e.text)??"",this.encoding=(e==null?void 0:e.encoding)??"EAN13",this.printText=(e==null?void 0:e.printText)??!0,this.scaleFactor=(e==null?void 0:e.scaleFactor)??1,this.fontSize=(e==null?void 0:e.fontSize)??12,this.fontFamily=(e==null?void 0:e.fontFamily)??Di.fontFamily,this._createBandCode()}_set(e,n){if(super._set(e,n),(e==="text"||e=="encoding")&&this._createBandCode(),this.barcodeEncoded&&(ra.includes(e)||e=="canvas")){const r=this._measureLetterWidth();let i=(this.scaleFactor??1)*this.barcodeEncoded.length;this.encoding==="EAN13"&&(i+=r*2),super._set("width",i)}return this}_createBandCode(){if(this.encoding==="EAN13"){const{text:e,bandcode:n}=rh(this.text);this.displayText=e,this.barcodeEncoded=n}else this.displayText=this.text,this.barcodeEncoded=ah(this.text);return this}_getFont(){return`bold ${this.fontSize}px ${this.fontFamily}`}_measureLetterWidth(){var r;const e=(r=this.canvas)==null?void 0:r.getContext();let n=0;return e!==void 0&&(e.save(),e.font=this._getFont(),n=e.measureText("0").width,e.restore()),Math.ceil(n)}_render(e){if(super._render(e),this.barcodeEncoded===""||this.height===void 0||this.width===void 0||this.fontSize===void 0||this.fontFamily===void 0)return;const n=this._measureLetterWidth();e.save(),e.translate(-this.width/2,-this.height/2),e.translate(.5,.5),e.font=this._getFont(),e.textBaseline="bottom";const r=this.height;let i=this.height;const a=this.encoding==="EAN13"?n:0;this.printText?i-=this.fontSize*1.2:this.encoding==="EAN13"&&(i-=8);let s=-1,o=0,l=!1;for(let c=0;c<this.barcodeEncoded.length;c++){const u=this.barcodeEncoded[c]==="1",d=a+c*this.scaleFactor;u?(o++,s==-1&&(s=d),this.encoding==="EAN13"&&lh.includes(c)&&(l=!0),s!=-1&&c===this.barcodeEncoded.length-1&&e.fillRect(s,0,this.scaleFactor*o,l?r:i)):(e.fillRect(s,0,this.scaleFactor*o,l?r:i),s=-1,o=0,l=!1)}if(this.printText)if(this.encoding==="EAN13"){const c=[this.displayText[0],this.displayText.slice(1,7),this.displayText.slice(7,13),">"],u=40,d=4,m=50;e.fillText(c[0],0,this.height),as(e,c[1],n+d*this.scaleFactor,this.height,u*this.scaleFactor),as(e,c[2],n+m*this.scaleFactor,this.height,u*this.scaleFactor),e.fillText(c[3],this.width-n,this.height)}else as(e,this.displayText,a,this.height,this.width);e.restore()}toObject(e=[]){return super.toObject(ra.concat(...e))}static fromObject(e,n){return it.fabric.Object._fromObject("Barcode",e,n)}}it.fabric.Barcode=jn;var rd={exports:{}};(function(t){function e(p){this.mode=r.MODE_8BIT_BYTE,this.data=p,this.parsedData=[];for(var _=0,b=this.data.length;_<b;_++){var v=[],w=this.data.charCodeAt(_);w>65536?(v[0]=240|(w&1835008)>>>18,v[1]=128|(w&258048)>>>12,v[2]=128|(w&4032)>>>6,v[3]=128|w&63):w>2048?(v[0]=224|(w&61440)>>>12,v[1]=128|(w&4032)>>>6,v[2]=128|w&63):w>128?(v[0]=192|(w&1984)>>>6,v[1]=128|w&63):v[0]=w,this.parsedData.push(v)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}e.prototype={getLength:function(p){return this.parsedData.length},write:function(p){for(var _=0,b=this.parsedData.length;_<b;_++)p.put(this.parsedData[_],8)}};function n(p,_){this.typeNumber=p,this.errorCorrectLevel=_,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}n.prototype={addData:function(p){var _=new e(p);this.dataList.push(_),this.dataCache=null},isDark:function(p,_){if(p<0||this.moduleCount<=p||_<0||this.moduleCount<=_)throw new Error(p+","+_);return this.modules[p][_]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(p,_){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var b=0;b<this.moduleCount;b++){this.modules[b]=new Array(this.moduleCount);for(var v=0;v<this.moduleCount;v++)this.modules[b][v]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(p,_),this.typeNumber>=7&&this.setupTypeNumber(p),this.dataCache==null&&(this.dataCache=n.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,_)},setupPositionProbePattern:function(p,_){for(var b=-1;b<=7;b++)if(!(p+b<=-1||this.moduleCount<=p+b))for(var v=-1;v<=7;v++)_+v<=-1||this.moduleCount<=_+v||(0<=b&&b<=6&&(v==0||v==6)||0<=v&&v<=6&&(b==0||b==6)||2<=b&&b<=4&&2<=v&&v<=4?this.modules[p+b][_+v]=!0:this.modules[p+b][_+v]=!1)},getBestMaskPattern:function(){for(var p=0,_=0,b=0;b<8;b++){this.makeImpl(!0,b);var v=s.getLostPoint(this);(b==0||p>v)&&(p=v,_=b)}return _},createMovieClip:function(p,_,b){var v=p.createEmptyMovieClip(_,b),w=1;this.make();for(var S=0;S<this.modules.length;S++)for(var P=S*w,O=0;O<this.modules[S].length;O++){var k=O*w,E=this.modules[S][O];E&&(v.beginFill(0,100),v.moveTo(k,P),v.lineTo(k+w,P),v.lineTo(k+w,P+w),v.lineTo(k,P+w),v.endFill())}return v},setupTimingPattern:function(){for(var p=8;p<this.moduleCount-8;p++)this.modules[p][6]==null&&(this.modules[p][6]=p%2==0);for(var _=8;_<this.moduleCount-8;_++)this.modules[6][_]==null&&(this.modules[6][_]=_%2==0)},setupPositionAdjustPattern:function(){for(var p=s.getPatternPosition(this.typeNumber),_=0;_<p.length;_++)for(var b=0;b<p.length;b++){var v=p[_],w=p[b];if(this.modules[v][w]==null)for(var S=-2;S<=2;S++)for(var P=-2;P<=2;P++)S==-2||S==2||P==-2||P==2||S==0&&P==0?this.modules[v+S][w+P]=!0:this.modules[v+S][w+P]=!1}},setupTypeNumber:function(p){for(var _=s.getBCHTypeNumber(this.typeNumber),b=0;b<18;b++){var v=!p&&(_>>b&1)==1;this.modules[Math.floor(b/3)][b%3+this.moduleCount-8-3]=v}for(var b=0;b<18;b++){var v=!p&&(_>>b&1)==1;this.modules[b%3+this.moduleCount-8-3][Math.floor(b/3)]=v}},setupTypeInfo:function(p,_){for(var b=this.errorCorrectLevel<<3|_,v=s.getBCHTypeInfo(b),w=0;w<15;w++){var S=!p&&(v>>w&1)==1;w<6?this.modules[w][8]=S:w<8?this.modules[w+1][8]=S:this.modules[this.moduleCount-15+w][8]=S}for(var w=0;w<15;w++){var S=!p&&(v>>w&1)==1;w<8?this.modules[8][this.moduleCount-w-1]=S:w<9?this.modules[8][15-w-1+1]=S:this.modules[8][15-w-1]=S}this.modules[this.moduleCount-8][8]=!p},mapData:function(p,_){for(var b=-1,v=this.moduleCount-1,w=7,S=0,P=this.moduleCount-1;P>0;P-=2)for(P==6&&P--;;){for(var O=0;O<2;O++)if(this.modules[v][P-O]==null){var k=!1;S<p.length&&(k=(p[S]>>>w&1)==1);var E=s.getMask(_,v,P-O);E&&(k=!k),this.modules[v][P-O]=k,w--,w==-1&&(S++,w=7)}if(v+=b,v<0||this.moduleCount<=v){v-=b,b=-b;break}}}},n.PAD0=236,n.PAD1=17,n.createData=function(p,_,b){for(var v=u.getRSBlocks(p,_),w=new d,S=0;S<b.length;S++){var P=b[S];w.put(P.mode,4),w.put(P.getLength(),s.getLengthInBits(P.mode,p)),P.write(w)}for(var O=0,S=0;S<v.length;S++)O+=v[S].dataCount;if(w.getLengthInBits()>O*8)throw new Error("code length overflow. ("+w.getLengthInBits()+">"+O*8+")");for(w.getLengthInBits()+4<=O*8&&w.put(0,4);w.getLengthInBits()%8!=0;)w.putBit(!1);for(;!(w.getLengthInBits()>=O*8||(w.put(n.PAD0,8),w.getLengthInBits()>=O*8));)w.put(n.PAD1,8);return n.createBytes(w,v)},n.createBytes=function(p,_){for(var b=0,v=0,w=0,S=new Array(_.length),P=new Array(_.length),O=0;O<_.length;O++){var k=_[O].dataCount,E=_[O].totalCount-k;v=Math.max(v,k),w=Math.max(w,E),S[O]=new Array(k);for(var D=0;D<S[O].length;D++)S[O][D]=255&p.buffer[D+b];b+=k;var I=s.getErrorCorrectPolynomial(E),A=new c(S[O],I.getLength()-1),C=A.mod(I);P[O]=new Array(I.getLength()-1);for(var D=0;D<P[O].length;D++){var T=D+C.getLength()-P[O].length;P[O][D]=T>=0?C.get(T):0}}for(var M=0,D=0;D<_.length;D++)M+=_[D].totalCount;for(var N=new Array(M),x=0,D=0;D<v;D++)for(var O=0;O<_.length;O++)D<S[O].length&&(N[x++]=S[O][D]);for(var D=0;D<w;D++)for(var O=0;O<_.length;O++)D<P[O].length&&(N[x++]=P[O][D]);return N};for(var r={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},i={L:1,M:0,Q:3,H:2},a={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(p){for(var _=p<<10;s.getBCHDigit(_)-s.getBCHDigit(s.G15)>=0;)_^=s.G15<<s.getBCHDigit(_)-s.getBCHDigit(s.G15);return(p<<10|_)^s.G15_MASK},getBCHTypeNumber:function(p){for(var _=p<<12;s.getBCHDigit(_)-s.getBCHDigit(s.G18)>=0;)_^=s.G18<<s.getBCHDigit(_)-s.getBCHDigit(s.G18);return p<<12|_},getBCHDigit:function(p){for(var _=0;p!=0;)_++,p>>>=1;return _},getPatternPosition:function(p){return s.PATTERN_POSITION_TABLE[p-1]},getMask:function(p,_,b){switch(p){case a.PATTERN000:return(_+b)%2==0;case a.PATTERN001:return _%2==0;case a.PATTERN010:return b%3==0;case a.PATTERN011:return(_+b)%3==0;case a.PATTERN100:return(Math.floor(_/2)+Math.floor(b/3))%2==0;case a.PATTERN101:return _*b%2+_*b%3==0;case a.PATTERN110:return(_*b%2+_*b%3)%2==0;case a.PATTERN111:return(_*b%3+(_+b)%2)%2==0;default:throw new Error("bad maskPattern:"+p)}},getErrorCorrectPolynomial:function(p){for(var _=new c([1],0),b=0;b<p;b++)_=_.multiply(new c([1,o.gexp(b)],0));return _},getLengthInBits:function(p,_){if(1<=_&&_<10)switch(p){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:return 8;case r.MODE_KANJI:return 8;default:throw new Error("mode:"+p)}else if(_<27)switch(p){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+p)}else if(_<41)switch(p){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+p)}else throw new Error("type:"+_)},getLostPoint:function(p){for(var _=p.getModuleCount(),b=0,v=0;v<_;v++)for(var w=0;w<_;w++){for(var S=0,P=p.isDark(v,w),O=-1;O<=1;O++)if(!(v+O<0||_<=v+O))for(var k=-1;k<=1;k++)w+k<0||_<=w+k||O==0&&k==0||P==p.isDark(v+O,w+k)&&S++;S>5&&(b+=3+S-5)}for(var v=0;v<_-1;v++)for(var w=0;w<_-1;w++){var E=0;p.isDark(v,w)&&E++,p.isDark(v+1,w)&&E++,p.isDark(v,w+1)&&E++,p.isDark(v+1,w+1)&&E++,(E==0||E==4)&&(b+=3)}for(var v=0;v<_;v++)for(var w=0;w<_-6;w++)p.isDark(v,w)&&!p.isDark(v,w+1)&&p.isDark(v,w+2)&&p.isDark(v,w+3)&&p.isDark(v,w+4)&&!p.isDark(v,w+5)&&p.isDark(v,w+6)&&(b+=40);for(var w=0;w<_;w++)for(var v=0;v<_-6;v++)p.isDark(v,w)&&!p.isDark(v+1,w)&&p.isDark(v+2,w)&&p.isDark(v+3,w)&&p.isDark(v+4,w)&&!p.isDark(v+5,w)&&p.isDark(v+6,w)&&(b+=40);for(var D=0,w=0;w<_;w++)for(var v=0;v<_;v++)p.isDark(v,w)&&D++;var I=Math.abs(100*D/_/_-50)/5;return b+=I*10,b}},o={glog:function(p){if(p<1)throw new Error("glog("+p+")");return o.LOG_TABLE[p]},gexp:function(p){for(;p<0;)p+=255;for(;p>=256;)p-=255;return o.EXP_TABLE[p]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},l=0;l<8;l++)o.EXP_TABLE[l]=1<<l;for(var l=8;l<256;l++)o.EXP_TABLE[l]=o.EXP_TABLE[l-4]^o.EXP_TABLE[l-5]^o.EXP_TABLE[l-6]^o.EXP_TABLE[l-8];for(var l=0;l<255;l++)o.LOG_TABLE[o.EXP_TABLE[l]]=l;function c(p,_){if(p.length==null)throw new Error(p.length+"/"+_);for(var b=0;b<p.length&&p[b]==0;)b++;this.num=new Array(p.length-b+_);for(var v=0;v<p.length-b;v++)this.num[v]=p[v+b]}c.prototype={get:function(p){return this.num[p]},getLength:function(){return this.num.length},multiply:function(p){for(var _=new Array(this.getLength()+p.getLength()-1),b=0;b<this.getLength();b++)for(var v=0;v<p.getLength();v++)_[b+v]^=o.gexp(o.glog(this.get(b))+o.glog(p.get(v)));return new c(_,0)},mod:function(p){if(this.getLength()-p.getLength()<0)return this;for(var _=o.glog(this.get(0))-o.glog(p.get(0)),b=new Array(this.getLength()),v=0;v<this.getLength();v++)b[v]=this.get(v);for(var v=0;v<p.getLength();v++)b[v]^=o.gexp(o.glog(p.get(v))+_);return new c(b,0).mod(p)}};function u(p,_){this.totalCount=p,this.dataCount=_}u.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],u.getRSBlocks=function(p,_){var b=u.getRsBlockTable(p,_);if(b==null)throw new Error("bad rs block @ typeNumber:"+p+"/errorCorrectLevel:"+_);for(var v=b.length/3,w=[],S=0;S<v;S++)for(var P=b[S*3+0],O=b[S*3+1],k=b[S*3+2],E=0;E<P;E++)w.push(new u(O,k));return w},u.getRsBlockTable=function(p,_){switch(_){case i.L:return u.RS_BLOCK_TABLE[(p-1)*4+0];case i.M:return u.RS_BLOCK_TABLE[(p-1)*4+1];case i.Q:return u.RS_BLOCK_TABLE[(p-1)*4+2];case i.H:return u.RS_BLOCK_TABLE[(p-1)*4+3];default:return}};function d(){this.buffer=[],this.length=0}d.prototype={get:function(p){var _=Math.floor(p/8);return(this.buffer[_]>>>7-p%8&1)==1},put:function(p,_){for(var b=0;b<_;b++)this.putBit((p>>>_-b-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(p){var _=Math.floor(this.length/8);this.buffer.length<=_&&this.buffer.push(0),p&&(this.buffer[_]|=128>>>this.length%8),this.length++}};var m=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function g(p){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M"},typeof p=="string"&&(p={content:p}),p)for(var _ in p)this.options[_]=p[_];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function b(k){switch(k){case"L":return i.L;case"M":return i.M;case"Q":return i.Q;case"H":return i.H;default:throw new Error("Unknwon error correction level: "+k)}}function v(k,E){for(var D=w(k),I=1,A=0,C=0,T=m.length;C<=T;C++){var M=m[C];if(!M)throw new Error("Content too long: expected "+A+" but got "+D);switch(E){case"L":A=M[0];break;case"M":A=M[1];break;case"Q":A=M[2];break;case"H":A=M[3];break;default:throw new Error("Unknwon error correction level: "+E)}if(D<=A)break;I++}if(I>m.length)throw new Error("Content too long");return I}function w(k){var E=encodeURI(k).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return E.length+(E.length!=k?3:0)}var S=this.options.content,P=v(S,this.options.ecl),O=b(this.options.ecl);this.qrcode=new n(P,O),this.qrcode.addData(S),this.qrcode.make()}g.prototype.svg=function(p){var _=this.options||{},b=this.qrcode.modules;typeof p>"u"&&(p={container:_.container||"svg"});for(var v=typeof _.pretty<"u"?!!_.pretty:!0,w=v?"  ":"",S=v?`\r
`:"",P=_.width,O=_.height,k=b.length,E=P/(k+2*_.padding),D=O/(k+2*_.padding),I=typeof _.join<"u"?!!_.join:!1,A=typeof _.swap<"u"?!!_.swap:!1,C=typeof _.xmlDeclaration<"u"?!!_.xmlDeclaration:!0,T=typeof _.predefined<"u"?!!_.predefined:!1,M=T?w+'<defs><path id="qrmodule" d="M0 0 h'+D+" v"+E+' H0 z" style="fill:'+_.color+';shape-rendering:crispEdges;" /></defs>'+S:"",N=w+'<rect x="0" y="0" width="'+P+'" height="'+O+'" style="fill:'+_.background+';shape-rendering:crispEdges;"/>'+S,x="",B="",H=0;H<k;H++)for(var V=0;V<k;V++){var Q=b[V][H];if(Q){var G=V*E+_.padding*E,U=H*D+_.padding*D;if(A){var $=G;G=U,U=$}if(I){var z=E+G,F=D+U;G=Number.isInteger(G)?Number(G):G.toFixed(2),U=Number.isInteger(U)?Number(U):U.toFixed(2),z=Number.isInteger(z)?Number(z):z.toFixed(2),F=Number.isInteger(F)?Number(F):F.toFixed(2),B+="M"+G+","+U+" V"+F+" H"+z+" V"+U+" H"+G+" Z "}else T?x+=w+'<use x="'+G.toString()+'" y="'+U.toString()+'" href="#qrmodule" />'+S:x+=w+'<rect x="'+G.toString()+'" y="'+U.toString()+'" width="'+E+'" height="'+D+'" style="fill:'+_.color+';shape-rendering:crispEdges;"/>'+S}}I&&(x=w+'<path x="0" y="0" style="fill:'+_.color+';shape-rendering:crispEdges;" d="'+B+'" />');var Z="";switch(p.container){case"svg":C&&(Z+='<?xml version="1.0" standalone="yes"?>'+S),Z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+P+'" height="'+O+'">'+S,Z+=M+N+x,Z+="</svg>";break;case"svg-viewbox":C&&(Z+='<?xml version="1.0" standalone="yes"?>'+S),Z+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+P+" "+O+'">'+S,Z+=M+N+x,Z+="</svg>";break;case"g":Z+='<g width="'+P+'" height="'+O+'">'+S,Z+=M+N+x,Z+="</g>";break;default:Z+=(M+N+x).replace(/^\s+/,"");break}return Z},g.prototype.save=function(p,_){var b=this.svg();typeof _!="function"&&(_=function(w,S){});try{var v=Ed;v.writeFile(p,b,_)}catch(w){_(w)}},t.exports=g})(rd);var ch=rd.exports;const uh=qi(ch),os=["text","size","ecl"];class Yn extends it.fabric.Object{constructor(e){super(e),this.type="QRCode",this.stateProperties=os.concat(...it.fabric.Object.prototype.stateProperties??[]),this.cacheProperties=os.concat(...it.fabric.Object.prototype.cacheProperties??[]),this.setControlsVisibility({ml:!1,mr:!1,mt:!1,mb:!1}),this.paths=[],this.text=(e==null?void 0:e.text)??"Text",this.ecl=(e==null?void 0:e.ecl)??"M",this._createPathData()}_set(e,n){return super._set(e,n),(e==="text"||e==="ecl")&&this._createPathData(),this}_createPathData(){if(this.text===""||this.height===void 0||this.width===void 0||this.ecl===void 0)return;const n=new uh({content:this.text,padding:0,width:this.width,height:this.height,color:this.stroke,background:this.fill,ecl:this.ecl,join:!0}).svg(),r=/<path[^>]*?d=(["'])?((?:.(?!\1|>))*.?)\1?/.exec(n),i=r?r[2]:"";this.paths=it.fabric.util.makePathSimpler(it.fabric.util.parsePath(i))}_render(e){if(this.height===void 0||this.width===void 0)return;const n=this.width/2,r=this.height/2;e.beginPath();for(const i of this.paths){const[a,s,o]=i;a==="M"?e.moveTo(s-n,o-r):a==="L"?e.lineTo(s-n,o-r):a==="C"&&(e.closePath(),e.beginPath())}e.closePath(),e.save(),e.fillStyle=this.stroke,e.fill(),e.restore()}toObject(e=[]){return super.toObject(os.concat(...e))}static fromObject(e,n){return it.fabric.Object._fromObject("QRCode",e,n)}}it.fabric.QRCode=Yn;var id={exports:{}};/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */(function(t){(function(e,n){t.exports?t.exports=n():e.Toastify=n()})(ht,function(e){var n=function(s){return new n.lib.init(s)},r="1.12.0";n.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},n.lib=n.prototype={toastify:r,constructor:n,init:function(s){return s||(s={}),this.options={},this.toastElement=null,this.options.text=s.text||n.defaults.text,this.options.node=s.node||n.defaults.node,this.options.duration=s.duration===0?0:s.duration||n.defaults.duration,this.options.selector=s.selector||n.defaults.selector,this.options.callback=s.callback||n.defaults.callback,this.options.destination=s.destination||n.defaults.destination,this.options.newWindow=s.newWindow||n.defaults.newWindow,this.options.close=s.close||n.defaults.close,this.options.gravity=s.gravity==="bottom"?"toastify-bottom":n.defaults.gravity,this.options.positionLeft=s.positionLeft||n.defaults.positionLeft,this.options.position=s.position||n.defaults.position,this.options.backgroundColor=s.backgroundColor||n.defaults.backgroundColor,this.options.avatar=s.avatar||n.defaults.avatar,this.options.className=s.className||n.defaults.className,this.options.stopOnFocus=s.stopOnFocus===void 0?n.defaults.stopOnFocus:s.stopOnFocus,this.options.onClick=s.onClick||n.defaults.onClick,this.options.offset=s.offset||n.defaults.offset,this.options.escapeMarkup=s.escapeMarkup!==void 0?s.escapeMarkup:n.defaults.escapeMarkup,this.options.ariaLive=s.ariaLive||n.defaults.ariaLive,this.options.style=s.style||n.defaults.style,s.backgroundColor&&(this.options.style.background=s.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var s=document.createElement("div");s.className="toastify on "+this.options.className,this.options.position?s.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?(s.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):s.className+=" toastify-right",s.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.');for(var o in this.options.style)s.style[o]=this.options.style[o];if(this.options.ariaLive&&s.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)s.appendChild(this.options.node);else if(this.options.escapeMarkup?s.innerText=this.options.text:s.innerHTML=this.options.text,this.options.avatar!==""){var l=document.createElement("img");l.src=this.options.avatar,l.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?s.appendChild(l):s.insertAdjacentElement("afterbegin",l)}if(this.options.close===!0){var c=document.createElement("button");c.type="button",c.setAttribute("aria-label","Close"),c.className="toast-close",c.innerHTML="&#10006;",c.addEventListener("click",(function(b){b.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}).bind(this));var u=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&u>360?s.insertAdjacentElement("afterbegin",c):s.appendChild(c)}if(this.options.stopOnFocus&&this.options.duration>0){var d=this;s.addEventListener("mouseover",function(b){window.clearTimeout(s.timeOutValue)}),s.addEventListener("mouseleave",function(){s.timeOutValue=window.setTimeout(function(){d.removeElement(s)},d.options.duration)})}if(typeof this.options.destination<"u"&&s.addEventListener("click",(function(b){b.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}).bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&s.addEventListener("click",(function(b){b.stopPropagation(),this.options.onClick()}).bind(this)),typeof this.options.offset=="object"){var m=i("x",this.options),g=i("y",this.options),p=this.options.position=="left"?m:"-"+m,_=this.options.gravity=="toastify-top"?g:"-"+g;s.style.transform="translate("+p+","+_+")"}return s},showToast:function(){this.toastElement=this.buildToast();var s;if(typeof this.options.selector=="string"?s=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?s=this.options.selector:s=document.body,!s)throw"Root element is not defined";var o=n.defaults.oldestFirst?s.firstChild:s.lastChild;return s.insertBefore(this.toastElement,o),n.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout((function(){this.removeElement(this.toastElement)}).bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(s){s.className=s.className.replace(" on",""),window.setTimeout((function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),s.parentNode&&s.parentNode.removeChild(s),this.options.callback.call(s),n.reposition()}).bind(this),400)}},n.reposition=function(){for(var s={top:15,bottom:15},o={top:15,bottom:15},l={top:15,bottom:15},c=document.getElementsByClassName("toastify"),u,d=0;d<c.length;d++){a(c[d],"toastify-top")===!0?u="toastify-top":u="toastify-bottom";var m=c[d].offsetHeight;u=u.substr(9,u.length-1);var g=15,p=window.innerWidth>0?window.innerWidth:screen.width;p<=360?(c[d].style[u]=l[u]+"px",l[u]+=m+g):a(c[d],"toastify-left")===!0?(c[d].style[u]=s[u]+"px",s[u]+=m+g):(c[d].style[u]=o[u]+"px",o[u]+=m+g)}return this};function i(s,o){return o.offset[s]?isNaN(o.offset[s])?o.offset[s]:o.offset[s]+"px":"0px"}function a(s,o){return!s||typeof o!="string"?!1:!!(s.className&&s.className.trim().split(/\s+/gi).indexOf(o)>-1)}return n.lib.init.prototype=n.lib,n})})(id);var dh=id.exports;const fh=qi(dh);var Ke;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},t.find=(i,a)=>{for(const s of i)if(a(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Ke||(Ke={}));var As;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(As||(As={}));const ye=Ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ar=t=>{switch(typeof t){case"undefined":return ye.undefined;case"string":return ye.string;case"number":return isNaN(t)?ye.nan:ye.number;case"boolean":return ye.boolean;case"function":return ye.function;case"bigint":return ye.bigint;case"symbol":return ye.symbol;case"object":return Array.isArray(t)?ye.array:t===null?ye.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ye.promise:typeof Map<"u"&&t instanceof Map?ye.map:typeof Set<"u"&&t instanceof Set?ye.set:typeof Date<"u"&&t instanceof Date?ye.date:ye.object;default:return ye.unknown}},fe=Ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ph=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class hn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let o=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(s))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof hn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}hn.create=t=>new hn(t);const Yr=(t,e)=>{let n;switch(t.code){case fe.invalid_type:t.received===ye.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case fe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ke.jsonStringifyReplacer)}`;break;case fe.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ke.joinValues(t.keys,", ")}`;break;case fe.invalid_union:n="Invalid input";break;case fe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ke.joinValues(t.options)}`;break;case fe.invalid_enum_value:n=`Invalid enum value. Expected ${Ke.joinValues(t.options)}, received '${t.received}'`;break;case fe.invalid_arguments:n="Invalid function arguments";break;case fe.invalid_return_type:n="Invalid function return type";break;case fe.invalid_date:n="Invalid date";break;case fe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ke.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case fe.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case fe.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case fe.custom:n="Invalid input";break;case fe.invalid_intersection_types:n="Intersection results could not be merged";break;case fe.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case fe.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ke.assertNever(t)}return{message:n}};let ad=Yr;function hh(t){ad=t}function ba(){return ad}const ga=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(s,{data:e,defaultError:o}).message;return{...i,path:a,message:o}},_h=[];function ge(t,e){const n=ba(),r=ga({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Yr?void 0:Yr].filter(i=>!!i)});t.common.issues.push(r)}class Gt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Be;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,s=await i.value;r.push({key:a,value:s})}return Gt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Be;a.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[a.value]=s.value)}return{status:e.value,value:r}}}const Be=Object.freeze({status:"aborted"}),$r=t=>({status:"dirty",value:t}),en=t=>({status:"valid",value:t}),Ds=t=>t.status==="aborted",Os=t=>t.status==="dirty",Oi=t=>t.status==="valid",Li=t=>typeof Promise<"u"&&t instanceof Promise;function va(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function sd(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Ae;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ae||(Ae={}));var wi,ki;class Un{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _l=(t,e)=>{if(Oi(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new hn(t.common.issues);return this._error=n,this._error}}};function ze(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,o)=>{var l,c;const{message:u}=t;return s.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??r)!==null&&l!==void 0?l:o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??n)!==null&&c!==void 0?c:o.defaultError}},description:i}}class Fe{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ar(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ar(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Gt,ctx:{common:e.parent.common,data:e.data,parsedType:ar(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Li(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ar(e)},a=this._parseSync({data:e,path:i.path,parent:i});return _l(i,a)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ar(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(Li(i)?i:Promise.resolve(i));return _l(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const s=e(i),o=()=>a.addIssue({code:fe.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new On({schema:this,typeName:Ie.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Rn.create(this,this._def)}nullable(){return dr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dn.create(this,this._def)}promise(){return Qr.create(this,this._def)}or(e){return Mi.create([this,e],this._def)}and(e){return Ni.create(this,e,this._def)}transform(e){return new On({...ze(this._def),schema:this,typeName:Ie.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ui({...ze(this._def),innerType:this,defaultValue:n,typeName:Ie.ZodDefault})}brand(){return new io({typeName:Ie.ZodBranded,type:this,...ze(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new zi({...ze(this._def),innerType:this,catchValue:n,typeName:Ie.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ki.create(this,e)}readonly(){return Vi.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const mh=/^c[^\s-]{8,}$/i,bh=/^[0-9a-z]+$/,gh=/^[0-9A-HJKMNP-TV-Z]{26}$/,vh=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yh=/^[a-z0-9_-]{21}$/i,wh=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kh=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Th="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ls;const Ph=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Eh=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Sh=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,od="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ah=new RegExp(`^${od}$`);function ld(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Dh(t){return new RegExp(`^${ld(t)}$`)}function cd(t){let e=`${od}T${ld(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Oh(t,e){return!!((e==="v4"||!e)&&Ph.test(t)||(e==="v6"||!e)&&Eh.test(t))}class En extends Fe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ye.string){const a=this._getOrReturnCtx(e);return ge(a,{code:fe.invalid_type,expected:ye.string,received:a.parsedType}),Be}const r=new Gt;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),ge(i,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),ge(i,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const s=e.data.length>a.value,o=e.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(e,i),s?ge(i,{code:fe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&ge(i,{code:fe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")kh.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"email",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")ls||(ls=new RegExp(Th,"u")),ls.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"emoji",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")vh.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"uuid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")yh.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"nanoid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")mh.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"cuid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")bh.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"cuid2",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")gh.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"ulid",code:fe.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ge(i,{validation:"url",code:fe.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"regex",code:fe.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),ge(i,{code:fe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),ge(i,{code:fe.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),ge(i,{code:fe.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?cd(a).test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{code:fe.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Ah.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{code:fe.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Dh(a).test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{code:fe.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?wh.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"duration",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Oh(e.data,a.version)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"ip",code:fe.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Sh.test(e.data)||(i=this._getOrReturnCtx(e,i),ge(i,{validation:"base64",code:fe.invalid_string,message:a.message}),r.dirty()):Ke.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:fe.invalid_string,...Ae.errToObj(r)})}_addCheck(e){return new En({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ae.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ae.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ae.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ae.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ae.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ae.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ae.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ae.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ae.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ae.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Ae.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ae.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ae.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ae.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ae.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ae.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ae.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ae.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ae.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ae.errToObj(n)})}nonempty(e){return this.min(1,Ae.errToObj(e))}trim(){return new En({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new En({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new En({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}En.create=t=>{var e;return new En({checks:[],typeName:Ie.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ze(t)})};function Lh(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}class lr extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ye.number){const a=this._getOrReturnCtx(e);return ge(a,{code:fe.invalid_type,expected:ye.number,received:a.parsedType}),Be}let r;const i=new Gt;for(const a of this._def.checks)a.kind==="int"?Ke.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{code:fe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ge(r,{code:fe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ge(r,{code:fe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Lh(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),ge(r,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{code:fe.not_finite,message:a.message}),i.dirty()):Ke.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ae.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ae.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ae.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ae.toString(n))}setLimit(e,n,r,i){return new lr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ae.toString(i)}]})}_addCheck(e){return new lr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ae.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ae.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ae.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ae.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ae.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ae.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ke.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}lr.create=t=>new lr({checks:[],typeName:Ie.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ze(t)});class cr extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ye.bigint){const a=this._getOrReturnCtx(e);return ge(a,{code:fe.invalid_type,expected:ye.bigint,received:a.parsedType}),Be}let r;const i=new Gt;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),ge(r,{code:fe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),ge(r,{code:fe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ge(r,{code:fe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Ke.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ae.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ae.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ae.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ae.toString(n))}setLimit(e,n,r,i){return new cr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ae.toString(i)}]})}_addCheck(e){return new cr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ae.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ae.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ae.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ae.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ae.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}cr.create=t=>{var e;return new cr({checks:[],typeName:Ie.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ze(t)})};class Ci extends Fe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ye.boolean){const r=this._getOrReturnCtx(e);return ge(r,{code:fe.invalid_type,expected:ye.boolean,received:r.parsedType}),Be}return en(e.data)}}Ci.create=t=>new Ci({typeName:Ie.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ze(t)});class Or extends Fe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ye.date){const a=this._getOrReturnCtx(e);return ge(a,{code:fe.invalid_type,expected:ye.date,received:a.parsedType}),Be}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return ge(a,{code:fe.invalid_date}),Be}const r=new Gt;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),ge(i,{code:fe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),ge(i,{code:fe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Ke.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Or({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ae.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ae.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Or.create=t=>new Or({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ie.ZodDate,...ze(t)});class ya extends Fe{_parse(e){if(this._getType(e)!==ye.symbol){const r=this._getOrReturnCtx(e);return ge(r,{code:fe.invalid_type,expected:ye.symbol,received:r.parsedType}),Be}return en(e.data)}}ya.create=t=>new ya({typeName:Ie.ZodSymbol,...ze(t)});class Ii extends Fe{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return ge(r,{code:fe.invalid_type,expected:ye.undefined,received:r.parsedType}),Be}return en(e.data)}}Ii.create=t=>new Ii({typeName:Ie.ZodUndefined,...ze(t)});class Bi extends Fe{_parse(e){if(this._getType(e)!==ye.null){const r=this._getOrReturnCtx(e);return ge(r,{code:fe.invalid_type,expected:ye.null,received:r.parsedType}),Be}return en(e.data)}}Bi.create=t=>new Bi({typeName:Ie.ZodNull,...ze(t)});class Kr extends Fe{constructor(){super(...arguments),this._any=!0}_parse(e){return en(e.data)}}Kr.create=t=>new Kr({typeName:Ie.ZodAny,...ze(t)});class Pr extends Fe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return en(e.data)}}Pr.create=t=>new Pr({typeName:Ie.ZodUnknown,...ze(t)});class Jn extends Fe{_parse(e){const n=this._getOrReturnCtx(e);return ge(n,{code:fe.invalid_type,expected:ye.never,received:n.parsedType}),Be}}Jn.create=t=>new Jn({typeName:Ie.ZodNever,...ze(t)});class wa extends Fe{_parse(e){if(this._getType(e)!==ye.undefined){const r=this._getOrReturnCtx(e);return ge(r,{code:fe.invalid_type,expected:ye.void,received:r.parsedType}),Be}return en(e.data)}}wa.create=t=>new wa({typeName:Ie.ZodVoid,...ze(t)});class Dn extends Fe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ye.array)return ge(n,{code:fe.invalid_type,expected:ye.array,received:n.parsedType}),Be;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(s||o)&&(ge(n,{code:s?fe.too_big:fe.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ge(n,{code:fe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ge(n,{code:fe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,o)=>i.type._parseAsync(new Un(n,s,n.path,o)))).then(s=>Gt.mergeArray(r,s));const a=[...n.data].map((s,o)=>i.type._parseSync(new Un(n,s,n.path,o)));return Gt.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Dn({...this._def,minLength:{value:e,message:Ae.toString(n)}})}max(e,n){return new Dn({...this._def,maxLength:{value:e,message:Ae.toString(n)}})}length(e,n){return new Dn({...this._def,exactLength:{value:e,message:Ae.toString(n)}})}nonempty(e){return this.min(1,e)}}Dn.create=(t,e)=>new Dn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ie.ZodArray,...ze(e)});function Rr(t){if(t instanceof pt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Rn.create(Rr(r))}return new pt({...t._def,shape:()=>e})}else return t instanceof Dn?new Dn({...t._def,type:Rr(t.element)}):t instanceof Rn?Rn.create(Rr(t.unwrap())):t instanceof dr?dr.create(Rr(t.unwrap())):t instanceof zn?zn.create(t.items.map(e=>Rr(e))):t}class pt extends Fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ke.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ye.object){const c=this._getOrReturnCtx(e);return ge(c,{code:fe.invalid_type,expected:ye.object,received:c.parsedType}),Be}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof Jn&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||o.push(c);const l=[];for(const c of s){const u=a[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Un(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Jn){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(ge(i,{code:fe.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Un(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,m=await u.value;c.push({key:d,value:m,alwaysSet:u.alwaysSet})}return c}).then(c=>Gt.mergeObjectSync(r,c)):Gt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Ae.errToObj,new pt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a,s,o;const l=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=Ae.errToObj(e).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new pt({...this._def,unknownKeys:"strip"})}passthrough(){return new pt({...this._def,unknownKeys:"passthrough"})}extend(e){return new pt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new pt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ie.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new pt({...this._def,catchall:e})}pick(e){const n={};return Ke.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new pt({...this._def,shape:()=>n})}omit(e){const n={};return Ke.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new pt({...this._def,shape:()=>n})}deepPartial(){return Rr(this)}partial(e){const n={};return Ke.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new pt({...this._def,shape:()=>n})}required(e){const n={};return Ke.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Rn;)a=a._def.innerType;n[r]=a}}),new pt({...this._def,shape:()=>n})}keyof(){return ud(Ke.objectKeys(this.shape))}}pt.create=(t,e)=>new pt({shape:()=>t,unknownKeys:"strip",catchall:Jn.create(),typeName:Ie.ZodObject,...ze(e)});pt.strictCreate=(t,e)=>new pt({shape:()=>t,unknownKeys:"strict",catchall:Jn.create(),typeName:Ie.ZodObject,...ze(e)});pt.lazycreate=(t,e)=>new pt({shape:t,unknownKeys:"strip",catchall:Jn.create(),typeName:Ie.ZodObject,...ze(e)});class Mi extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new hn(o.ctx.common.issues));return ge(n,{code:fe.invalid_union,unionErrors:s}),Be}if(n.common.async)return Promise.all(r.map(async a=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(l=>new hn(l));return ge(n,{code:fe.invalid_union,unionErrors:o}),Be}}get options(){return this._def.options}}Mi.create=(t,e)=>new Mi({options:t,typeName:Ie.ZodUnion,...ze(e)});const Gn=t=>t instanceof xi?Gn(t.schema):t instanceof On?Gn(t.innerType()):t instanceof Ri?[t.value]:t instanceof ur?t.options:t instanceof $i?Ke.objectValues(t.enum):t instanceof Ui?Gn(t._def.innerType):t instanceof Ii?[void 0]:t instanceof Bi?[null]:t instanceof Rn?[void 0,...Gn(t.unwrap())]:t instanceof dr?[null,...Gn(t.unwrap())]:t instanceof io||t instanceof Vi?Gn(t.unwrap()):t instanceof zi?Gn(t._def.innerType):[];class ja extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.object)return ge(n,{code:fe.invalid_type,expected:ye.object,received:n.parsedType}),Be;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(ge(n,{code:fe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const a of n){const s=Gn(a.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of s){if(i.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);i.set(o,a)}}return new ja({typeName:Ie.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...ze(r)})}}function Ls(t,e){const n=ar(t),r=ar(e);if(t===e)return{valid:!0,data:t};if(n===ye.object&&r===ye.object){const i=Ke.objectKeys(e),a=Ke.objectKeys(t).filter(o=>i.indexOf(o)!==-1),s={...t,...e};for(const o of a){const l=Ls(t[o],e[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(n===ye.array&&r===ye.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const s=t[a],o=e[a],l=Ls(s,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ye.date&&r===ye.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ni extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,s)=>{if(Ds(a)||Ds(s))return Be;const o=Ls(a.value,s.value);return o.valid?((Os(a)||Os(s))&&n.dirty(),{status:n.value,value:o.data}):(ge(r,{code:fe.invalid_intersection_types}),Be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ni.create=(t,e,n)=>new Ni({left:t,right:e,typeName:Ie.ZodIntersection,...ze(n)});class zn extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.array)return ge(r,{code:fe.invalid_type,expected:ye.array,received:r.parsedType}),Be;if(r.data.length<this._def.items.length)return ge(r,{code:fe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&r.data.length>this._def.items.length&&(ge(r,{code:fe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((s,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Un(r,s,r.path,o)):null}).filter(s=>!!s);return r.common.async?Promise.all(a).then(s=>Gt.mergeArray(n,s)):Gt.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new zn({...this._def,rest:e})}}zn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new zn({items:t,typeName:Ie.ZodTuple,rest:null,...ze(e)})};class ji extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.object)return ge(r,{code:fe.invalid_type,expected:ye.object,received:r.parsedType}),Be;const i=[],a=this._def.keyType,s=this._def.valueType;for(const o in r.data)i.push({key:a._parse(new Un(r,o,r.path,o)),value:s._parse(new Un(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Gt.mergeObjectAsync(n,i):Gt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Fe?new ji({keyType:e,valueType:n,typeName:Ie.ZodRecord,...ze(r)}):new ji({keyType:En.create(),valueType:e,typeName:Ie.ZodRecord,...ze(n)})}}class ka extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.map)return ge(r,{code:fe.invalid_type,expected:ye.map,received:r.parsedType}),Be;const i=this._def.keyType,a=this._def.valueType,s=[...r.data.entries()].map(([o,l],c)=>({key:i._parse(new Un(r,o,r.path,[c,"key"])),value:a._parse(new Un(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Be;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Be;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}}}}ka.create=(t,e,n)=>new ka({valueType:e,keyType:t,typeName:Ie.ZodMap,...ze(n)});class Lr extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ye.set)return ge(r,{code:fe.invalid_type,expected:ye.set,received:r.parsedType}),Be;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ge(r,{code:fe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ge(r,{code:fe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Be;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((l,c)=>a._parse(new Un(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(e,n){return new Lr({...this._def,minSize:{value:e,message:Ae.toString(n)}})}max(e,n){return new Lr({...this._def,maxSize:{value:e,message:Ae.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Lr.create=(t,e)=>new Lr({valueType:t,minSize:null,maxSize:null,typeName:Ie.ZodSet,...ze(e)});class zr extends Fe{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.function)return ge(n,{code:fe.invalid_type,expected:ye.function,received:n.parsedType}),Be;function r(o,l){return ga({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ba(),Yr].filter(c=>!!c),issueData:{code:fe.invalid_arguments,argumentsError:l}})}function i(o,l){return ga({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ba(),Yr].filter(c=>!!c),issueData:{code:fe.invalid_return_type,returnTypeError:l}})}const a={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof Qr){const o=this;return en(async function(...l){const c=new hn([]),u=await o._def.args.parseAsync(l,a).catch(g=>{throw c.addIssue(r(l,g)),c}),d=await Reflect.apply(s,this,u);return await o._def.returns._def.type.parseAsync(d,a).catch(g=>{throw c.addIssue(i(d,g)),c})})}else{const o=this;return en(function(...l){const c=o._def.args.safeParse(l,a);if(!c.success)throw new hn([r(l,c.error)]);const u=Reflect.apply(s,this,c.data),d=o._def.returns.safeParse(u,a);if(!d.success)throw new hn([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new zr({...this._def,args:zn.create(e).rest(Pr.create())})}returns(e){return new zr({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new zr({args:e||zn.create([]).rest(Pr.create()),returns:n||Pr.create(),typeName:Ie.ZodFunction,...ze(r)})}}class xi extends Fe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}xi.create=(t,e)=>new xi({getter:t,typeName:Ie.ZodLazy,...ze(e)});class Ri extends Fe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ge(n,{received:n.data,code:fe.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ri.create=(t,e)=>new Ri({value:t,typeName:Ie.ZodLiteral,...ze(e)});function ud(t,e){return new ur({values:t,typeName:Ie.ZodEnum,...ze(e)})}class ur extends Fe{constructor(){super(...arguments),wi.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ge(n,{expected:Ke.joinValues(r),received:n.parsedType,code:fe.invalid_type}),Be}if(va(this,wi)||sd(this,wi,new Set(this._def.values)),!va(this,wi).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ge(n,{received:n.data,code:fe.invalid_enum_value,options:r}),Be}return en(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ur.create(e,{...this._def,...n})}exclude(e,n=this._def){return ur.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}wi=new WeakMap;ur.create=ud;class $i extends Fe{constructor(){super(...arguments),ki.set(this,void 0)}_parse(e){const n=Ke.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ye.string&&r.parsedType!==ye.number){const i=Ke.objectValues(n);return ge(r,{expected:Ke.joinValues(i),received:r.parsedType,code:fe.invalid_type}),Be}if(va(this,ki)||sd(this,ki,new Set(Ke.getValidEnumValues(this._def.values))),!va(this,ki).has(e.data)){const i=Ke.objectValues(n);return ge(r,{received:r.data,code:fe.invalid_enum_value,options:i}),Be}return en(e.data)}get enum(){return this._def.values}}ki=new WeakMap;$i.create=(t,e)=>new $i({values:t,typeName:Ie.ZodNativeEnum,...ze(e)});class Qr extends Fe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ye.promise&&n.common.async===!1)return ge(n,{code:fe.invalid_type,expected:ye.promise,received:n.parsedType}),Be;const r=n.parsedType===ye.promise?n.data:Promise.resolve(n.data);return en(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Qr.create=(t,e)=>new Qr({type:t,typeName:Ie.ZodPromise,...ze(e)});class On extends Fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:s=>{ge(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(r.data,a);if(r.common.async)return Promise.resolve(s).then(async o=>{if(n.value==="aborted")return Be;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?Be:l.status==="dirty"||n.value==="dirty"?$r(l.value):l});{if(n.value==="aborted")return Be;const o=this._def.schema._parseSync({data:s,path:r.path,parent:r});return o.status==="aborted"?Be:o.status==="dirty"||n.value==="dirty"?$r(o.value):o}}if(i.type==="refinement"){const s=o=>{const l=i.refinement(o,a);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Be:(o.status==="dirty"&&n.dirty(),s(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Be:(o.status==="dirty"&&n.dirty(),s(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Oi(s))return s;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Oi(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:n.value,value:o})):s);Ke.assertNever(i)}}On.create=(t,e,n)=>new On({schema:t,typeName:Ie.ZodEffects,effect:e,...ze(n)});On.createWithPreprocess=(t,e,n)=>new On({schema:e,effect:{type:"preprocess",transform:t},typeName:Ie.ZodEffects,...ze(n)});class Rn extends Fe{_parse(e){return this._getType(e)===ye.undefined?en(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Rn.create=(t,e)=>new Rn({innerType:t,typeName:Ie.ZodOptional,...ze(e)});class dr extends Fe{_parse(e){return this._getType(e)===ye.null?en(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dr.create=(t,e)=>new dr({innerType:t,typeName:Ie.ZodNullable,...ze(e)});class Ui extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ye.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ui.create=(t,e)=>new Ui({innerType:t,typeName:Ie.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ze(e)});class zi extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Li(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new hn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new hn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}zi.create=(t,e)=>new zi({innerType:t,typeName:Ie.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ze(e)});class Ta extends Fe{_parse(e){if(this._getType(e)!==ye.nan){const r=this._getOrReturnCtx(e);return ge(r,{code:fe.invalid_type,expected:ye.nan,received:r.parsedType}),Be}return{status:"valid",value:e.data}}}Ta.create=t=>new Ta({typeName:Ie.ZodNaN,...ze(t)});const Ch=Symbol("zod_brand");class io extends Fe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ki extends Fe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Be:a.status==="dirty"?(n.dirty(),$r(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Be:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Ki({in:e,out:n,typeName:Ie.ZodPipeline})}}class Vi extends Fe{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Oi(i)&&(i.value=Object.freeze(i.value)),i);return Li(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Vi.create=(t,e)=>new Vi({innerType:t,typeName:Ie.ZodReadonly,...ze(e)});function dd(t,e={},n){return t?Kr.create().superRefine((r,i)=>{var a,s;if(!t(r)){const o=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(s=(a=o.fatal)!==null&&a!==void 0?a:n)!==null&&s!==void 0?s:!0,c=typeof o=="string"?{message:o}:o;i.addIssue({code:"custom",...c,fatal:l})}}):Kr.create()}const Ih={object:pt.lazycreate};var Ie;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ie||(Ie={}));const Bh=(t,e={message:`Input not instance of ${t.name}`})=>dd(n=>n instanceof t,e),fd=En.create,pd=lr.create,Mh=Ta.create,Nh=cr.create,hd=Ci.create,jh=Or.create,xh=ya.create,Rh=Ii.create,$h=Bi.create,Uh=Kr.create,zh=Pr.create,Vh=Jn.create,Wh=wa.create,qh=Dn.create,Fh=pt.create,Hh=pt.strictCreate,Gh=Mi.create,Zh=ja.create,Yh=Ni.create,Kh=zn.create,Qh=ji.create,Jh=ka.create,Xh=Lr.create,e_=zr.create,t_=xi.create,n_=Ri.create,r_=ur.create,i_=$i.create,a_=Qr.create,ml=On.create,s_=Rn.create,o_=dr.create,l_=On.createWithPreprocess,c_=Ki.create,u_=()=>fd().optional(),d_=()=>pd().optional(),f_=()=>hd().optional(),p_={string:t=>En.create({...t,coerce:!0}),number:t=>lr.create({...t,coerce:!0}),boolean:t=>Ci.create({...t,coerce:!0}),bigint:t=>cr.create({...t,coerce:!0}),date:t=>Or.create({...t,coerce:!0})},h_=Be;var Ce=Object.freeze({__proto__:null,defaultErrorMap:Yr,setErrorMap:hh,getErrorMap:ba,makeIssue:ga,EMPTY_PATH:_h,addIssueToContext:ge,ParseStatus:Gt,INVALID:Be,DIRTY:$r,OK:en,isAborted:Ds,isDirty:Os,isValid:Oi,isAsync:Li,get util(){return Ke},get objectUtil(){return As},ZodParsedType:ye,getParsedType:ar,ZodType:Fe,datetimeRegex:cd,ZodString:En,ZodNumber:lr,ZodBigInt:cr,ZodBoolean:Ci,ZodDate:Or,ZodSymbol:ya,ZodUndefined:Ii,ZodNull:Bi,ZodAny:Kr,ZodUnknown:Pr,ZodNever:Jn,ZodVoid:wa,ZodArray:Dn,ZodObject:pt,ZodUnion:Mi,ZodDiscriminatedUnion:ja,ZodIntersection:Ni,ZodTuple:zn,ZodRecord:ji,ZodMap:ka,ZodSet:Lr,ZodFunction:zr,ZodLazy:xi,ZodLiteral:Ri,ZodEnum:ur,ZodNativeEnum:$i,ZodPromise:Qr,ZodEffects:On,ZodTransformer:On,ZodOptional:Rn,ZodNullable:dr,ZodDefault:Ui,ZodCatch:zi,ZodNaN:Ta,BRAND:Ch,ZodBranded:io,ZodPipeline:Ki,ZodReadonly:Vi,custom:dd,Schema:Fe,ZodSchema:Fe,late:Ih,get ZodFirstPartyTypeKind(){return Ie},coerce:p_,any:Uh,array:qh,bigint:Nh,boolean:hd,date:jh,discriminatedUnion:Zh,effect:ml,enum:r_,function:e_,instanceof:Bh,intersection:Yh,lazy:t_,literal:n_,map:Jh,nan:Mh,nativeEnum:i_,never:Vh,null:$h,nullable:o_,number:pd,object:Fh,oboolean:f_,onumber:d_,optional:s_,ostring:u_,pipeline:c_,preprocess:l_,promise:a_,record:Qh,set:Xh,strictObject:Hh,string:fd,symbol:xh,transformer:ml,tuple:Kh,undefined:Rh,union:Gh,unknown:zh,void:Wh,NEVER:h_,ZodIssueCode:fe,quotelessJson:ph,ZodError:hn});class vt{static error(e){console.error(e),fh({text:`${e}`,gravity:"bottom",duration:5e3,className:"toast-danger"}).showToast()}static zodErrors(e,n){e instanceof Ce.ZodError&&e.issues.forEach(r=>{this.error(`${n} "${r.path.join("")}" ${r.message}`)})}}const __=Ce.custom(t=>typeof t=="object"),ua=Ce.object({printDirection:Ce.enum(["left","top"]),size:Ce.object({width:Ce.number().positive(),height:Ce.number().positive()}),shape:Ce.enum(["rect","rounded_rect","circle"]).default("rect").optional(),split:Ce.enum(["none","vertical","horizontal"]).default("none").optional(),tailPos:Ce.enum(["right","bottom","left","top"]).default("right").optional(),tailLength:Ce.number().default(0).optional(),mirror:Ce.enum(["none","copy","flip"]).default("none").optional()}),Pa=Ce.object({width:Ce.number().positive(),height:Ce.number().positive(),unit:Ce.enum(["mm","px"]),dpmm:Ce.number().positive(),printDirection:Ce.enum(["left","top"]),title:Ce.string().optional(),shape:Ce.enum(["rect","rounded_rect","circle"]).default("rect").optional(),split:Ce.enum(["none","vertical","horizontal"]).default("none").optional(),tailPos:Ce.enum(["right","bottom","left","top"]).default("right").optional(),tailLength:Ce.number().default(0).optional(),mirror:Ce.enum(["none","copy","flip"]).default("none").optional()}),_d=Ce.object({version:Ce.string(),objects:Ce.array(__)}),vr=Ce.object({canvas:_d,label:ua,thumbnailBase64:Ce.string().optional(),title:Ce.string().optional(),timestamp:Ce.number().positive().optional()}),[m_,...b_]=lt.printTaskNames,g_=Ce.object({x:Ce.number(),y:Ce.number(),offsetType:Ce.enum(["inner","outer"])}),bl=Ce.object({postProcess:Ce.enum(["threshold","dither"]).optional(),threshold:Ce.number().gte(1).lte(255).optional(),quantity:Ce.number().gte(1).optional(),density:Ce.number().gte(1).optional(),labelType:Ce.nativeEnum(lt.LabelType).optional(),printTaskName:Ce.enum([m_,...b_]).optional(),offset:g_.optional()}),gl=Ce.object({autoConnect:Ce.boolean().optional(),autoConnectDeviceId:Ce.string().optional(),startPrint:Ce.enum(["after_connect","immediately"]).optional()}),cs=ti("FileSharer",{web:()=>Ju(()=>import("./web.B3QWYT1y.js"),__vite__mapDeps([2,1])).then(t=>new t.FileSharerPluginWeb)});class Sn{static timestamp(){return Math.floor(Date.now()/1e3)}static base64str(e){const n=new TextEncoder().encode(e),r=String.fromCodePoint(...n);return btoa(r)}static base64obj(e){const n=JSON.stringify(e);return this.base64str(n)}static makeExportedLabel(e,n){const r=e.toDataURL({width:e.width,height:e.height,left:0,top:0,multiplier:sh/(e.height||1),quality:oh,format:"jpeg"});return{canvas:e.toJSON(),label:n,thumbnailBase64:r,timestamp:this.timestamp()}}static saveLabelAsJson(e){const n=vr.parse(e),r=e.timestamp??this.timestamp();cs.share({filename:`label_${r}.json`,contentType:"application/json",base64Data:this.base64obj(n)}).catch(i=>{i.message!=="USER_CANCELLED"&&vt.error(i)})}static saveCanvasAsPng(e){const n=this.timestamp(),r=e.toDataURL({width:e.width,height:e.height,left:0,top:0,format:"png"});cs.share({filename:`label_${n}.png`,contentType:"image/png",base64Data:r.split("base64,")[1]}).catch(i=>{i.message!=="USER_CANCELLED"&&vt.error(i)})}static saveLabelPresetsAsJson(e){const n=Ce.array(Pa).parse(e);cs.share({filename:`presets_${this.timestamp()}.json`,contentType:"application/json",base64Data:this.base64obj(n)}).catch(r=>{r.message!=="USER_CANCELLED"&&vt.error(r)})}static async pickAndReadTextFile(e){return new Promise((n,r)=>{const i=document.createElement("input"),a=new FileReader;i.type="file",i.accept=`.${e}`,i.onchange=s=>{const o=s.target;if(o.files!==null){const l=o.files[0];l.name.split(".").pop()===e&&(a.readAsText(l,"UTF-8"),a.onload=u=>{var d;(d=u==null?void 0:u.target)!=null&&d.result&&n(u.target.result)},a.onerror=u=>{console.error(u),r(new Error("Unable to load file"))})}},i.click()})}static async loadCanvasState(e,n){return new Promise(r=>{e.loadFromJSON(n,()=>{e.backgroundColor="#fff",e.requestRenderAll(),r()},(i,a)=>{a.set({snapAngle:pn.snapAngle})})})}}class gt{static usedSpace(){let e=0;return Object.keys(localStorage).forEach(n=>{e+=(localStorage[n].length+n.length)*2}),Math.floor(e/1024)}static saveObject(e,n){if(n==null||n==null){localStorage.removeItem(e);return}localStorage.setItem(e,JSON.stringify(n))}static loadObject(e){const n=localStorage.getItem(e);if(n!==null)try{return JSON.parse(n)}catch(r){console.log(r)}return null}static loadAndValidateObject(e,n){const r=this.loadObject(e);return r===null?null:n.parse(r)}static validateAndSaveObject(e,n,r){if(n==null){this.saveObject(e,n);return}const i=r.parse(n);this.saveObject(e,i)}static saveCsv(e){this.saveObject("csv_params",{data:e})}static loadCsv(){const e=this.loadObject("csv_params");return e===null?{data:`var1,var2
123,456
777,888`}:{data:e.data}}static loadLastLabelProps(){return this.loadAndValidateObject("last_label_props",ua)}static saveLastLabelProps(e){this.validateAndSaveObject("last_label_props",e,ua)}static saveLabels(e){const n=[],r=[];return Object.keys(localStorage).forEach(i=>{i.startsWith("saved_label")&&localStorage.removeItem(i)}),e.forEach(i=>{try{i.timestamp==null&&(i.timestamp=Sn.timestamp());const a=`saved_label_${i.timestamp}`;let s=0;for(;`${a}_${s}`in localStorage;)s++;this.validateAndSaveObject(`${a}_${s}`,i,vr)}catch(a){a instanceof Ce.ZodError&&n.push(a),a instanceof Error&&r.push(a)}}),{zodErrors:n,otherErrors:r}}static loadLabels(){const e=this.loadAndValidateObject("saved_canvas_props",ua),n=this.loadAndValidateObject("saved_canvas_data",_d),r=[];if(e!==null&&n!==null){localStorage.removeItem("saved_canvas_props"),localStorage.removeItem("saved_canvas_data");const i={label:e,canvas:n,timestamp:Sn.timestamp()};this.validateAndSaveObject(`saved_label_${i.timestamp}`,i,vr)}return Object.keys(localStorage).sort().forEach(i=>{if(i.startsWith("saved_label"))try{const a=this.loadAndValidateObject(i,vr);a!=null&&r.push(a)}catch(a){console.error(a)}}),r}static savePreviewProps(e){this.validateAndSaveObject("saved_preview_props",e,bl)}static loadSavedPreviewProps(){return this.loadAndValidateObject("saved_preview_props",bl)}static saveLabelPresets(e){this.validateAndSaveObject("label_presets",e,Ce.array(Pa))}static loadLabelPresets(){const e=this.loadAndValidateObject("label_presets",Ce.array(Pa));return e===null||e.length===0?null:e}static loadLastConnectionType(){const e=localStorage.getItem("connection_type");return e===null||!["bluetooth","serial"].includes(e)?null:e}static saveLastConnectionType(e){localStorage.setItem("connection_type",e)}static saveAutomation(e){this.validateAndSaveObject("automation",e,gl)}static loadAutomation(){return this.loadAndValidateObject("automation",gl)}static saveDefaultTemplate(e){this.validateAndSaveObject("default_template",e,vr)}static loadDefaultTemplate(){return this.loadAndValidateObject("default_template",vr)}static hasCustomDefaultTemplate(){return"default_template"in localStorage}}const or=tr("disconnected"),Cs=tr(""),ao=tr(),md=tr(),Is=tr(),Wi=tr(),da=tr(0),bd=ed((()=>{try{return gt.loadAutomation()??void 0}catch(t){console.error(t)}})()),v_=t=>{ao.update(e=>{let n=e;return(e===void 0||t!=="bluetooth"&&e instanceof lt.NiimbotBluetoothClient||t!=="serial"&&e instanceof lt.NiimbotSerialClient||t!=="capacitor-ble"&&e instanceof lt.NiimbotCapacitorBleClient)&&(e!==void 0&&e.disconnect(),n=lt.instantiateClient(t),n.on("packetsent",r=>{console.log(`>> ${lt.Utils.bufToHex(r.packet.toBytes())} (${lt.RequestCommandId[r.packet.command]})`)}),n.on("packetreceived",r=>{console.log(`<< ${lt.Utils.bufToHex(r.packet.toBytes())} (${lt.ResponseCommandId[r.packet.command]})`)}),n.on("connect",r=>{console.log("onConnect"),da.set(0),or.set("connected"),Cs.set(r.info.deviceName??"unknown")}),n.on("printerinfofetched",r=>{console.log("printerInfoFetched"),Is.set(r.info),Wi.set(n.getModelMetadata())}),n.on("disconnect",()=>{console.log("onDisconnect"),or.set("disconnected"),Cs.set(""),Is.set({}),Wi.set(void 0)}),n.on("heartbeat",r=>{da.set(0),md.set(r.data)}),n.on("heartbeatfailed",r=>{da.set(r.failedAttempts),console.warn(`Heartbeat failed ${r.failedAttempts}/5`),r.failedAttempts>=5&&(vt.error(vf(Rt)("connector.disconnect.heartbeat")),n.disconnect())})),n})};class Nn{static async addSvg(e,n){return new Promise(r=>{it.fabric.loadSVGFromString(n,(i,a)=>{const s=it.fabric.util.groupSVGElements(i,a);s.scaleToWidth(Hn.width).scaleToHeight(Hn.height),s.set({...pn}),e.add(s).renderAll(),e.renderAll(),r(s)})})}static async addImageFile(e,n){return new Promise((r,i)=>{const a=new FileReader;n.type.startsWith("image/svg")?(a.readAsText(n,"UTF-8"),a.onload=s=>{var o;(o=s==null?void 0:s.target)!=null&&o.result&&this.addSvg(e,s.target.result).then(r)},a.onerror=s=>{console.error(s),i(new Error("File read error"))}):(n.type==="image/png"||n.type==="image/jpeg")&&(a.readAsDataURL(n),a.onload=s=>{var o;(o=s==null?void 0:s.target)!=null&&o.result&&it.fabric.Image.fromURL(s.target.result,l=>{l.set({...pn}),l.scaleToHeight(Hn.width).scaleToHeight(Hn.height),e.add(l),r(l)})},a.onerror=s=>{console.error(s),i(new Error("File read error"))})})}static async addImageWithFilePicker(e){return new Promise(n=>{const r=document.createElement("input");r.type="file",r.onchange=i=>{const a=i.target;a.files!==null&&this.addImageFile(e,a.files[0]).then(n)},r.click()})}static async addImageBlob(e,n){return new Promise((r,i)=>{const a=new FileReader;a.readAsDataURL(n),a.onload=s=>{var o;(o=s==null?void 0:s.target)!=null&&o.result&&it.fabric.Image.fromURL(s.target.result,l=>{l.set({left:0,top:0,snapAngle:pn.snapAngle}),e.add(l),r(l)})},a.onerror=s=>{console.error(s),i(new Error("Image read error"))}})}static async addObjectFromClipboard(e,n){for(const i of n.items)if(i.type.indexOf("image")!==-1){const a=i.getAsFile();if(a)return await Nn.addImageFile(e,a)}const r=n.getData("text");if(r){const i=Nn.addText(e,r);return e.setActiveObject(i),i}}static addText(e,n,r){const i=new it.fabric.Textbox(n??"Text",{...Di,...r});return e.add(i),i.center(),i}static addStaticText(e,n,r){const i=new it.fabric.Text(n??"Text",{...Di,...r});return e.add(i),i.center(),i}static addHLine(e){const n=new it.fabric.Line([pn.left,pn.top,pn.left+Hn.width,pn.top],{...ss});return n.setControlsVisibility({tl:!1,bl:!1,tr:!1,br:!1,mt:!1,mb:!1}),e.add(n),n.centerV(),n}static addCircle(e){const n=new it.fabric.Circle({...ss,radius:Hn.width/2});return e.add(n),n.centerV(),n}static addRect(e){const n=new it.fabric.Rect({...Hn,...ss});return e.add(n),n.centerV(),n}static addQrCode(e){const n=new Yn({text:"NiimBlue",...Hn,...pn});return e.add(n),n}static addBarcode(e){const n=new jn({...pn,text:"123456789012",height:Hn.height,encoding:"CODE128B"});return e.add(n),n}static addObject(e,n){switch(n){case"text":return this.addText(e);case"line":return this.addHLine(e);case"circle":return this.addCircle(e);case"rectangle":return this.addRect(e);case"image":this.addImageWithFilePicker(e);return;case"qrcode":return this.addQrCode(e);case"barcode":return this.addBarcode(e)}}}class y_{constructor(){this.UNDO_MAX=20,this.buf=[],this.index=0,this.paused=!1}updateState(){var e;(e=this.onStateUpdate)==null||e.call(this,{undoDisabled:this.index===0,redoDisabled:this.index>=this.buf.length-1})}async undo(){var e;this.index>0&&this.index<this.buf.length&&(await((e=this.onLabelUpdate)==null?void 0:e.call(this,this.buf[this.index-1])),this.index--),this.updateState()}async redo(){var e;this.index<this.buf.length-1&&(await((e=this.onLabelUpdate)==null?void 0:e.call(this,this.buf[this.index+1])),this.index++),this.updateState()}push(e,n){this.paused||(this.index!==this.buf.length-1&&this.index>0&&this.index<=this.buf.length&&(this.buf=this.buf.slice(0,this.index+1)),this.buf.push({label:n,canvas:e.toJSON()}),this.buf.length>this.UNDO_MAX&&this.buf.shift(),this.index=this.buf.length-1,this.updateState())}}function vl(t){let e,n,r,i,a,s,o,l,c,u,d,m,g,p,_,b,v,w,S,P,O,k,E,D,I,A,C,T,M,N,x,B,H,V;r=new me({props:{icon:"code"}}),m=new me({props:{icon:"settings_ethernet"}}),D=new me({props:{icon:"format_size"}});const Q=[k_,w_],G=[];function U($,z){return $[1]==="EAN13"?0:1}return M=U(t),N=G[M]=Q[M](t),{c(){e=y("div"),n=y("span"),re(r.$$.fragment),a=L(),s=y("select"),o=y("option"),o.textContent="EAN13",l=y("option"),l.textContent="Code128 B",c=L(),u=y("div"),d=y("span"),re(m.$$.fragment),p=L(),_=y("input"),b=L(),v=y("button"),w=K("123"),O=L(),k=y("div"),E=y("span"),re(D.$$.fragment),A=L(),C=y("input"),T=L(),N.c(),x=er(),h(n,"class","input-group-text"),h(n,"title",i=t[6]("params.barcode.encoding")),o.__value="EAN13",ke(o,o.__value),l.__value="CODE128B",ke(l,l.__value),h(s,"class","form-select"),t[1]===void 0&&wn(()=>t[14].call(s)),h(e,"class","input-group input-group-sm flex-nowrap svelte-1plc3pf"),h(d,"class","input-group-text"),h(d,"title",g=t[6]("params.barcode.scale")),h(_,"class","barcode-width form-control svelte-1plc3pf"),h(_,"type","number"),h(_,"min","1"),h(u,"class","input-group input-group-sm flex-nowrap svelte-1plc3pf"),h(v,"class",S="btn btn-sm "+(t[5]?"btn-secondary":"")),h(v,"title",P=t[6]("params.barcode.enable_caption")),h(E,"class","input-group-text"),h(E,"title",I=t[6]("params.barcode.font_size")),h(C,"class","barcode-width form-control svelte-1plc3pf"),h(C,"type","number"),h(C,"min","1"),h(k,"class","input-group input-group-sm flex-nowrap svelte-1plc3pf")},m($,z){q($,e,z),f(e,n),te(r,n,null),f(e,a),f(e,s),f(s,o),f(s,l),xt(s,t[1],!0),q($,c,z),q($,u,z),f(u,d),te(m,d,null),f(u,p),f(u,_),ke(_,t[3]),q($,b,z),q($,v,z),f(v,w),q($,O,z),q($,k,z),f(k,E),te(D,E,null),f(k,A),f(k,C),ke(C,t[4]),q($,T,z),G[M].m($,z),q($,x,z),B=!0,H||(V=[Y(s,"change",t[14]),Y(s,"change",t[9]),Y(_,"input",t[15]),Y(_,"input",t[10]),Y(v,"click",t[7]),Y(C,"input",t[16]),Y(C,"input",t[11])],H=!0)},p($,z){(!B||z&64&&i!==(i=$[6]("params.barcode.encoding")))&&h(n,"title",i),z&2&&xt(s,$[1]),(!B||z&64&&g!==(g=$[6]("params.barcode.scale")))&&h(d,"title",g),z&8&&dt(_.value)!==$[3]&&ke(_,$[3]),(!B||z&32&&S!==(S="btn btn-sm "+($[5]?"btn-secondary":"")))&&h(v,"class",S),(!B||z&64&&P!==(P=$[6]("params.barcode.enable_caption")))&&h(v,"title",P),(!B||z&64&&I!==(I=$[6]("params.barcode.font_size")))&&h(E,"title",I),z&16&&dt(C.value)!==$[4]&&ke(C,$[4]);let F=M;M=U($),M===F?G[M].p($,z):(Xe(),R(G[F],1,1,()=>{G[F]=null}),et(),N=G[M],N?N.p($,z):(N=G[M]=Q[M]($),N.c()),j(N,1),N.m(x.parentNode,x))},i($){B||(j(r.$$.fragment,$),j(m.$$.fragment,$),j(D.$$.fragment,$),j(N),B=!0)},o($){R(r.$$.fragment,$),R(m.$$.fragment,$),R(D.$$.fragment,$),R(N),B=!1},d($){$&&(W(e),W(c),W(u),W(b),W(v),W(O),W(k),W(T),W(x)),ne(r),ne(m),ne(D),G[M].d($),H=!1,ct(V)}}}function w_(t){let e,n,r;return{c(){e=y("textarea"),h(e,"class","barcode-content form-control svelte-1plc3pf")},m(i,a){q(i,e,a),ke(e,t[2]),n||(r=[Y(e,"input",t[18]),Y(e,"input",t[8])],n=!0)},p(i,a){a&4&&ke(e,i[2])},i:yt,o:yt,d(i){i&&W(e),n=!1,ct(r)}}}function k_(t){let e,n,r,i,a,s,o,l,c;return r=new me({props:{icon:"view_week"}}),{c(){e=y("div"),n=y("span"),re(r.$$.fragment),a=L(),s=y("input"),h(n,"class","input-group-text"),h(n,"title",i=t[6]("params.barcode.content")),h(s,"class","barcode-content form-control"),h(s,"maxlength","12"),h(e,"class","input-group input-group-sm flex-nowrap svelte-1plc3pf")},m(u,d){q(u,e,d),f(e,n),te(r,n,null),f(e,a),f(e,s),ke(s,t[2]),o=!0,l||(c=[Y(s,"input",t[17]),Y(s,"input",t[8])],l=!0)},p(u,d){(!o||d&64&&i!==(i=u[6]("params.barcode.content")))&&h(n,"title",i),d&4&&s.value!==u[2]&&ke(s,u[2])},i(u){o||(j(r.$$.fragment,u),o=!0)},o(u){R(r.$$.fragment,u),o=!1},d(u){u&&W(e),ne(r),l=!1,ct(c)}}}function T_(t){let e,n,r=t[0]&&vl(t);return{c(){r&&r.c(),e=er()},m(i,a){r&&r.m(i,a),q(i,e,a),n=!0},p(i,[a]){i[0]?r?(r.p(i,a),a&1&&j(r,1)):(r=vl(i),r.c(),j(r,1),r.m(e.parentNode,e)):r&&(Xe(),R(r,1,1,()=>{r=null}),et())},i(i){n||(j(r),n=!0)},o(i){R(r),n=!1},d(i){i&&W(e),r&&r.d(i)}}}function P_(t,e,n){let r;nt(t,Rt,E=>n(6,r=E));let{selectedObject:i}=e,{valueUpdated:a}=e,s,o,l,c,u,d;const m=()=>{s!==void 0&&(n(2,l=s.text),n(1,o=s.encoding),n(5,d=s.printText),n(3,c=s.scaleFactor),n(4,u=s.fontSize))},g=()=>{n(5,d=!d),s.set("printText",d??!0),a()},p=()=>{s.set("text",l??""),a()},_=()=>{s.set("encoding",o??"EAN13"),a()},b=()=>{s.set("scaleFactor",Math.max(1,c??1)),a()},v=()=>{s.set("fontSize",u??12),a()};function w(){o=Zn(this),n(1,o)}function S(){c=dt(this.value),n(3,c)}function P(){u=dt(this.value),n(4,u)}function O(){l=this.value,n(2,l)}function k(){l=this.value,n(2,l)}return t.$$set=E=>{"selectedObject"in E&&n(12,i=E.selectedObject),"valueUpdated"in E&&n(13,a=E.valueUpdated)},t.$$.update=()=>{t.$$.dirty&4096&&(n(0,s=i instanceof jn?i:void 0),m())},[s,o,l,c,u,d,r,g,p,_,b,v,i,a,w,S,P,O,k]}class E_ extends Pt{constructor(e){super(),Tt(this,e,P_,T_,wt,{selectedObject:12,valueUpdated:13})}}var yl={},us={},ds=34,vi=10,fs=13;function gd(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function S_(t,e){var n=gd(t);return function(r,i){return e(n(r),i,t)}}function wl(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var i in r)i in e||n.push(e[i]=i)}),n}function cn(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function A_(t){return t<0?"-"+cn(-t,6):t>9999?"+"+cn(t,6):cn(t,4)}function D_(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":A_(t.getUTCFullYear())+"-"+cn(t.getUTCMonth()+1,2)+"-"+cn(t.getUTCDate(),2)+(i?"T"+cn(e,2)+":"+cn(n,2)+":"+cn(r,2)+"."+cn(i,3)+"Z":r?"T"+cn(e,2)+":"+cn(n,2)+":"+cn(r,2)+"Z":n||e?"T"+cn(e,2)+":"+cn(n,2)+"Z":"")}function O_(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(d,m){var g,p,_=i(d,function(b,v){if(g)return g(b,v-1);p=b,g=m?S_(b,m):gd(b)});return _.columns=p||[],_}function i(d,m){var g=[],p=d.length,_=0,b=0,v,w=p<=0,S=!1;d.charCodeAt(p-1)===vi&&--p,d.charCodeAt(p-1)===fs&&--p;function P(){if(w)return us;if(S)return S=!1,yl;var k,E=_,D;if(d.charCodeAt(E)===ds){for(;_++<p&&d.charCodeAt(_)!==ds||d.charCodeAt(++_)===ds;);return(k=_)>=p?w=!0:(D=d.charCodeAt(_++))===vi?S=!0:D===fs&&(S=!0,d.charCodeAt(_)===vi&&++_),d.slice(E+1,k-1).replace(/""/g,'"')}for(;_<p;){if((D=d.charCodeAt(k=_++))===vi)S=!0;else if(D===fs)S=!0,d.charCodeAt(_)===vi&&++_;else if(D!==n)continue;return d.slice(E,k)}return w=!0,d.slice(E,p)}for(;(v=P())!==us;){for(var O=[];v!==yl&&v!==us;)O.push(v),v=P();m&&(O=m(O,b++))==null||g.push(O)}return g}function a(d,m){return d.map(function(g){return m.map(function(p){return u(g[p])}).join(t)})}function s(d,m){return m==null&&(m=wl(d)),[m.map(u).join(t)].concat(a(d,m)).join(`
`)}function o(d,m){return m==null&&(m=wl(d)),a(d,m).join(`
`)}function l(d){return d.map(c).join(`
`)}function c(d){return d.map(u).join(t)}function u(d){return d==null?"":d instanceof Date?D_(d):e.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:s,formatBody:o,formatRows:l,formatRow:c,formatValue:u}}var L_=O_(","),vd=L_.parse;function kl(t,e,n){const r=t.slice();return r[12]=e[n],r}function Tl(t){let e,n=`{${t[12]}}`,r,i,a=" ",s,o,l;function c(){return t[10](t[12])}return{c(){e=y("button"),r=K(n),i=L(),s=K(a),h(e,"class","btn btn-sm btn-outline-info px-1 py-0")},m(u,d){q(u,e,d),f(e,r),q(u,i,d),q(u,s,d),o||(l=Y(e,"click",c),o=!0)},p(u,d){t=u,d&8&&n!==(n=`{${t[12]}}`)&&ie(r,n)},d(u){u&&(W(e),W(i),W(s)),o=!1,l()}}}function C_(t){let e,n,r,i,a,s,o,l,c=t[5]("params.csv.title")+"",u,d,m,g,p,_,b,v=t[5]("params.csv.enabled")+"",w,S,P,O=t[5]("params.csv.tip")+"",k,E,D,I,A,C=t[5]("params.csv.rowsfound")+"",T,M,N,x,B,H,V=t[5]("params.csv.placeholders")+"",Q,G,U,$,z;r=new me({props:{icon:"dataset"}});let F=Qe(t[3]),Z=[];for(let J=0;J<F.length;J+=1)Z[J]=Tl(kl(t,F,J));return{c(){e=y("div"),n=y("button"),re(r.$$.fragment),s=L(),o=y("div"),l=y("h6"),u=K(c),d=L(),m=y("div"),g=y("div"),p=y("input"),_=L(),b=y("label"),w=K(v),S=L(),P=y("div"),k=K(O),E=L(),D=y("textarea"),I=L(),A=y("div"),T=K(C),M=L(),N=y("strong"),x=K(t[4]),B=L(),H=y("div"),Q=K(V),G=L();for(let J=0;J<Z.length;J+=1)Z[J].c();h(n,"class",i="btn btn-sm btn-"+(t[1]?"warning":"secondary")),h(n,"data-bs-toggle","dropdown"),h(n,"data-bs-auto-close","outside"),h(n,"title",a=t[5]("params.csv.title")),h(l,"class","dropdown-header"),h(p,"class","form-check-input"),h(p,"type","checkbox"),h(p,"role","switch"),h(p,"id","enabled"),h(b,"class","form-check-label"),h(b,"for","enabled"),h(g,"class","form-check form-switch"),h(P,"class","mt-3"),h(D,"class","dsv form-control my-3 svelte-1xl5a5i"),h(A,"class","placeholders pt-1"),h(H,"class","placeholders pt-1"),h(m,"class","p-3 text-body-secondary"),h(o,"class","dropdown-menu svelte-1xl5a5i"),h(e,"class","dropdown")},m(J,oe){q(J,e,oe),f(e,n),te(r,n,null),f(e,s),f(e,o),f(o,l),f(l,u),f(o,d),f(o,m),f(m,g),f(g,p),p.checked=t[1],f(g,_),f(g,b),f(b,w),f(m,S),f(m,P),f(P,k),f(m,E),f(m,D),ke(D,t[0]),f(m,I),f(m,A),f(A,T),f(A,M),f(A,N),f(N,x),f(m,B),f(m,H),f(H,Q),f(H,G);for(let _e=0;_e<Z.length;_e+=1)Z[_e]&&Z[_e].m(H,null);U=!0,$||(z=[Y(p,"change",t[8]),Y(p,"change",t[6]),Y(D,"input",t[9]),Y(D,"input",t[6])],$=!0)},p(J,[oe]){if((!U||oe&2&&i!==(i="btn btn-sm btn-"+(J[1]?"warning":"secondary")))&&h(n,"class",i),(!U||oe&32&&a!==(a=J[5]("params.csv.title")))&&h(n,"title",a),(!U||oe&32)&&c!==(c=J[5]("params.csv.title")+"")&&ie(u,c),oe&2&&(p.checked=J[1]),(!U||oe&32)&&v!==(v=J[5]("params.csv.enabled")+"")&&ie(w,v),(!U||oe&32)&&O!==(O=J[5]("params.csv.tip")+"")&&ie(k,O),oe&1&&ke(D,J[0]),(!U||oe&32)&&C!==(C=J[5]("params.csv.rowsfound")+"")&&ie(T,C),(!U||oe&16)&&ie(x,J[4]),(!U||oe&32)&&V!==(V=J[5]("params.csv.placeholders")+"")&&ie(Q,V),oe&12){F=Qe(J[3]);let _e;for(_e=0;_e<F.length;_e+=1){const Le=kl(J,F,_e);Z[_e]?Z[_e].p(Le,oe):(Z[_e]=Tl(Le),Z[_e].c(),Z[_e].m(H,null))}for(;_e<Z.length;_e+=1)Z[_e].d(1);Z.length=F.length}},i(J){U||(j(r.$$.fragment,J),U=!0)},o(J){R(r.$$.fragment,J),U=!1},d(J){J&&W(e),ne(r),zt(Z,J),$=!1,ct(z)}}}function I_(t,e,n){let r;nt(t,Rt,_=>n(5,r=_));let{enabled:i}=e,{csv:a}=e,{onUpdate:s}=e,{onPlaceholderPicked:o}=e,l=[],c=0;const u=()=>{const _=vd(a);n(3,l=_.columns),n(4,c=_.length)},d=()=>{s(i,a)};function m(){i=this.checked,n(1,i)}function g(){a=this.value,n(0,a)}const p=_=>o(_);return t.$$set=_=>{"enabled"in _&&n(1,i=_.enabled),"csv"in _&&n(0,a=_.csv),"onUpdate"in _&&n(7,s=_.onUpdate),"onPlaceholderPicked"in _&&n(2,o=_.onPlaceholderPicked)},t.$$.update=()=>{t.$$.dirty&1&&u()},[a,i,o,l,c,r,d,s,m,g,p]}class B_ extends Pt{constructor(e){super(),Tt(this,e,I_,C_,wt,{enabled:1,csv:0,onUpdate:7,onPlaceholderPicked:2})}}function M_(t){let e,n,r,i,a,s,o,l,c,u;return n=new me({props:{icon:"vertical_distribute"}}),s=new me({props:{icon:"horizontal_distribute"}}),{c(){e=y("button"),re(n.$$.fragment),i=L(),a=y("button"),re(s.$$.fragment),h(e,"class","btn btn-sm btn-secondary"),h(e,"title",r=t[0]("params.generic.center.vertical")),h(a,"class","btn btn-sm btn-secondary"),h(a,"title",o=t[0]("params.generic.center.horizontal"))},m(d,m){q(d,e,m),te(n,e,null),q(d,i,m),q(d,a,m),te(s,a,null),l=!0,c||(u=[Y(e,"click",t[1]),Y(a,"click",t[2])],c=!0)},p(d,[m]){(!l||m&1&&r!==(r=d[0]("params.generic.center.vertical")))&&h(e,"title",r),(!l||m&1&&o!==(o=d[0]("params.generic.center.horizontal")))&&h(a,"title",o)},i(d){l||(j(n.$$.fragment,d),j(s.$$.fragment,d),l=!0)},o(d){R(n.$$.fragment,d),R(s.$$.fragment,d),l=!1},d(d){d&&(W(e),W(i),W(a)),ne(n),ne(s),c=!1,ct(u)}}}function N_(t,e,n){let r;nt(t,Rt,l=>n(0,r=l));let{selectedObject:i}=e,{valueUpdated:a}=e;const s=()=>{i.centerV(),a()},o=()=>{i.centerH(),a()};return t.$$set=l=>{"selectedObject"in l&&n(3,i=l.selectedObject),"valueUpdated"in l&&n(4,a=l.valueUpdated)},[r,s,o,i,a]}class j_ extends Pt{constructor(e){super(),Tt(this,e,N_,M_,wt,{selectedObject:3,valueUpdated:4})}}function Pl(t,e,n){const r=t.slice();return r[9]=e[n],r}function El(t){let e,n,r,i,a,s,o;n=new me({props:{icon:t[9]}});function l(){return t[6](t[9])}return{c(){e=y("button"),re(n.$$.fragment),r=L(),h(e,"class","btn me-1"),h(e,"title",i=t[9])},m(c,u){q(c,e,u),te(n,e,null),f(e,r),a=!0,s||(o=Y(e,"click",l),s=!0)},p(c,u){t=c;const d={};u&2&&(d.icon=t[9]),n.$set(d),(!a||u&2&&i!==(i=t[9]))&&h(e,"title",i)},i(c){a||(j(n.$$.fragment,c),a=!0)},o(c){R(n.$$.fragment,c),a=!1},d(c){c&&W(e),ne(n),s=!1,o()}}}function Sl(t){let e=!t[2]||t[9].includes(t[2].toLowerCase()),n,r,i=e&&El(t);return{c(){i&&i.c(),n=er()},m(a,s){i&&i.m(a,s),q(a,n,s),r=!0},p(a,s){s&6&&(e=!a[2]||a[9].includes(a[2].toLowerCase())),e?i?(i.p(a,s),s&6&&j(i,1)):(i=El(a),i.c(),j(i,1),i.m(n.parentNode,n)):i&&(Xe(),R(i,1,1,()=>{i=null}),et())},i(a){r||(j(i),r=!0)},o(a){R(i),r=!1},d(a){a&&W(n),i&&i.d(a)}}}function x_(t){let e,n,r,i,a,s,o,l,c=t[4]("editor.iconpicker.title")+"",u,d,m,g,p,_,b,v,w,S=t[4]("editor.iconpicker.mdi_link_title")+"",P,O,k,E;r=new me({props:{icon:"emoji_emotions"}}),a=new me({props:{icon:"add"}});let D=Qe(t[1]),I=[];for(let C=0;C<D.length;C+=1)I[C]=Sl(Pl(t,D,C));const A=C=>R(I[C],1,1,()=>{I[C]=null});return{c(){e=y("div"),n=y("button"),re(r.$$.fragment),i=L(),re(a.$$.fragment),s=L(),o=y("div"),l=y("h6"),u=K(c),d=L(),m=y("div"),g=y("input"),_=L(),b=y("div");for(let C=0;C<I.length;C+=1)I[C].c();v=L(),w=y("a"),P=K(S),h(n,"class","btn btn-sm btn-secondary"),h(n,"data-bs-toggle","dropdown"),h(n,"data-bs-auto-close","outside"),h(l,"class","dropdown-header"),h(g,"type","text"),h(g,"class","form-control"),h(g,"placeholder",p=t[4]("editor.iconpicker.search")),h(b,"class","icons svelte-1i5o31x"),h(w,"href","https://fonts.google.com/icons?icon.set=Material+Icons&icon.style=Filled"),h(w,"target","_blank"),h(w,"class","text-secondary"),h(m,"class","p-3"),h(o,"class","dropdown-menu svelte-1i5o31x"),h(e,"class","dropdown")},m(C,T){q(C,e,T),f(e,n),te(r,n,null),f(n,i),te(a,n,null),f(e,s),f(e,o),f(o,l),f(l,u),f(o,d),f(o,m),f(m,g),ke(g,t[2]),f(m,_),f(m,b);for(let M=0;M<I.length;M+=1)I[M]&&I[M].m(b,null);f(m,v),f(m,w),f(w,P),t[7](e),O=!0,k||(E=Y(g,"input",t[5]),k=!0)},p(C,[T]){if((!O||T&16)&&c!==(c=C[4]("editor.iconpicker.title")+"")&&ie(u,c),(!O||T&16&&p!==(p=C[4]("editor.iconpicker.search")))&&h(g,"placeholder",p),T&4&&g.value!==C[2]&&ke(g,C[2]),T&7){D=Qe(C[1]);let M;for(M=0;M<D.length;M+=1){const N=Pl(C,D,M);I[M]?(I[M].p(N,T),j(I[M],1)):(I[M]=Sl(N),I[M].c(),j(I[M],1),I[M].m(b,null))}for(Xe(),M=D.length;M<I.length;M+=1)A(M);et()}(!O||T&16)&&S!==(S=C[4]("editor.iconpicker.mdi_link_title")+"")&&ie(P,S)},i(C){if(!O){j(r.$$.fragment,C),j(a.$$.fragment,C);for(let T=0;T<D.length;T+=1)j(I[T]);O=!0}},o(C){R(r.$$.fragment,C),R(a.$$.fragment,C),I=I.filter(Boolean);for(let T=0;T<I.length;T+=1)R(I[T]);O=!1},d(C){C&&W(e),ne(r),ne(a),zt(I,C),t[7](null),k=!1,E()}}}function R_(t,e,n){let r;nt(t,Rt,m=>n(4,r=m));let{onSubmit:i}=e,a=[],s="",o;const l=()=>{a.length===0&&n(1,a=Object.keys(ma))};ei(()=>{o.addEventListener("show.bs.dropdown",l)}),Ys(()=>{o.removeEventListener("show.bs.dropdown",l)});function c(){s=this.value,n(2,s)}const u=m=>i(m);function d(m){Ar[m?"unshift":"push"](()=>{o=m,n(3,o)})}return t.$$set=m=>{"onSubmit"in m&&n(0,i=m.onSubmit)},[i,a,s,o,r,c,u,d]}class $_ extends Pt{constructor(e){super(),Tt(this,e,R_,x_,wt,{onSubmit:0})}}function Al(t,e,n){const r=t.slice();return r[14]=e[n],r[16]=n,r}function U_(t){let e,n,r,i,a;n=new me({props:{icon:"delete"}});function s(...o){return t[12](t[16],...o)}return{c(){e=y("button"),re(n.$$.fragment),h(e,"class","remove btn text-danger-emphasis svelte-1s2v0pz")},m(o,l){q(o,e,l),te(n,e,null),r=!0,i||(a=Y(e,"click",s),i=!0)},p(o,l){t=o},i(o){r||(j(n.$$.fragment,o),r=!0)},o(o){R(n.$$.fragment,o),r=!1},d(o){o&&W(e),ne(n),i=!1,a()}}}function z_(t){let e,n,r,i,a,s,o,l;n=new me({props:{icon:"delete"}});function c(...u){return t[10](t[16],...u)}return a=new me({props:{icon:"close"}}),{c(){e=y("button"),re(n.$$.fragment),r=L(),i=y("button"),re(a.$$.fragment),h(e,"class","remove btn text-danger-emphasis svelte-1s2v0pz"),h(i,"class","remove btn text-success svelte-1s2v0pz")},m(u,d){q(u,e,d),te(n,e,null),q(u,r,d),q(u,i,d),te(a,i,null),s=!0,o||(l=[Y(e,"click",c),Y(i,"click",t[11])],o=!0)},p(u,d){t=u},i(u){s||(j(n.$$.fragment,u),j(a.$$.fragment,u),s=!0)},o(u){R(n.$$.fragment,u),R(a.$$.fragment,u),s=!1},d(u){u&&(W(e),W(r),W(i)),ne(n),ne(a),o=!1,ct(l)}}}function V_(t){let e=t[14].width+"",n,r,i=t[14].height+"",a,s;function o(u,d){if(u[14].unit==="mm")return F_;if(u[14].unit==="px")return q_}let l=o(t),c=l&&l(t);return{c(){n=K(e),r=K("x"),a=K(i),c&&c.c(),s=er()},m(u,d){q(u,n,d),q(u,r,d),q(u,a,d),c&&c.m(u,d),q(u,s,d)},p(u,d){d&2&&e!==(e=u[14].width+"")&&ie(n,e),d&2&&i!==(i=u[14].height+"")&&ie(a,i),l===(l=o(u))&&c?c.p(u,d):(c&&c.d(1),c=l&&l(u),c&&(c.c(),c.m(s.parentNode,s)))},d(u){u&&(W(n),W(r),W(a),W(s)),c&&c.d(u)}}}function W_(t){let e=t[14].title+"",n;return{c(){n=K(e)},m(r,i){q(r,n,i)},p(r,i){i&2&&e!==(e=r[14].title+"")&&ie(n,e)},d(r){r&&W(n)}}}function q_(t){let e=t[3]("params.label.px")+"",n;return{c(){n=K(e)},m(r,i){q(r,n,i)},p(r,i){i&8&&e!==(e=r[3]("params.label.px")+"")&&ie(n,e)},d(r){r&&W(n)}}}function F_(t){let e=t[3]("params.label.mm")+"",n;return{c(){n=K(e)},m(r,i){q(r,n,i)},p(r,i){i&8&&e!==(e=r[3]("params.label.mm")+"")&&ie(n,e)},d(r){r&&W(n)}}}function Dl(t){let e,n,r,i,a,s,o,l,c,u,d,m;const g=[z_,U_],p=[];function _(P,O){return P[2]===P[16]?0:1}i=_(t),a=p[i]=g[i](t);function b(P,O){return P[14].title?W_:V_}let v=b(t),w=v(t);function S(){return t[13](t[16])}return{c(){e=y("button"),n=y("div"),r=y("div"),a.c(),s=L(),o=y("span"),w.c(),c=L(),h(r,"class","remove d-flex svelte-1s2v0pz"),h(o,"class","label p-1 svelte-1s2v0pz"),h(n,"class",l="card print-start-"+t[14].printDirection+" d-flex justify-content-center align-items-center svelte-1s2v0pz"),yn(n,"width",t[4](t[14]).width+"%"),yn(n,"height",t[4](t[14]).height+"%"),h(e,"class","btn p-0 card-wrapper d-flex justify-content-center align-items-center svelte-1s2v0pz")},m(P,O){q(P,e,O),f(e,n),f(n,r),p[i].m(r,null),f(n,s),f(n,o),w.m(o,null),f(e,c),u=!0,d||(m=Y(e,"click",S),d=!0)},p(P,O){t=P;let k=i;i=_(t),i===k?p[i].p(t,O):(Xe(),R(p[k],1,1,()=>{p[k]=null}),et(),a=p[i],a?a.p(t,O):(a=p[i]=g[i](t),a.c()),j(a,1),a.m(r,null)),v===(v=b(t))&&w?w.p(t,O):(w.d(1),w=v(t),w&&(w.c(),w.m(o,null))),(!u||O&2&&l!==(l="card print-start-"+t[14].printDirection+" d-flex justify-content-center align-items-center svelte-1s2v0pz"))&&h(n,"class",l),(!u||O&2)&&yn(n,"width",t[4](t[14]).width+"%"),(!u||O&2)&&yn(n,"height",t[4](t[14]).height+"%")},i(P){u||(j(a),u=!0)},o(P){R(a),u=!1},d(P){P&&W(e),p[i].d(),w.d(),d=!1,m()}}}function H_(t){let e,n,r,i=Qe(t[1]),a=[];for(let o=0;o<i.length;o+=1)a[o]=Dl(Al(t,i,o));const s=o=>R(a[o],1,1,()=>{a[o]=null});return{c(){e=y("div");for(let o=0;o<a.length;o+=1)a[o].c();h(e,"class",n="preset-browser overflow-y-auto border d-flex p-2 gap-1 flex-wrap "+t[8].class+" svelte-1s2v0pz")},m(o,l){q(o,e,l);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);r=!0},p(o,[l]){if(l&255){i=Qe(o[1]);let c;for(c=0;c<i.length;c+=1){const u=Al(o,i,c);a[c]?(a[c].p(u,l),j(a[c],1)):(a[c]=Dl(u),a[c].c(),j(a[c],1),a[c].m(e,null))}for(Xe(),c=i.length;c<a.length;c+=1)s(c);et()}(!r||l&256&&n!==(n="preset-browser overflow-y-auto border d-flex p-2 gap-1 flex-wrap "+o[8].class+" svelte-1s2v0pz"))&&h(e,"class",n)},i(o){if(!r){for(let l=0;l<i.length;l+=1)j(a[l]);r=!0}},o(o){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)R(a[l]);r=!1},d(o){o&&W(e),zt(a,o)}}}function G_(t,e,n){let r;nt(t,Rt,b=>n(3,r=b));let{onItemSelected:i}=e,{onItemDelete:a}=e,{presets:s}=e,o=-1;const l=b=>{const v=Math.min(100/b.width,100/b.height);return{width:Math.round(b.width*v),height:Math.round(b.height*v)}},c=(b,v)=>{b.stopPropagation(),n(2,o=-1),a(v)},u=b=>{b.stopPropagation(),n(2,o=-1)},d=(b,v)=>{b.stopPropagation(),n(2,o=v)},m=(b,v)=>c(v,b),g=b=>u(b),p=(b,v)=>d(v,b),_=b=>i(b);return t.$$set=b=>{n(8,e=Gr(Gr({},e),Si(b))),"onItemSelected"in b&&n(0,i=b.onItemSelected),"onItemDelete"in b&&n(9,a=b.onItemDelete),"presets"in b&&n(1,s=b.presets)},e=Si(e),[i,s,o,r,l,c,u,d,e,a,m,g,p,_]}class Z_ extends Pt{constructor(e){super(),Tt(this,e,G_,H_,wt,{onItemSelected:0,onItemDelete:9,presets:1})}}function Ol(t,e,n){const r=t.slice();return r[45]=e[n],r}function Ll(t,e,n){const r=t.slice();return r[45]=e[n],r}function Cl(t,e,n){const r=t.slice();return r[45]=e[n],r}function Il(t,e,n){const r=t.slice();return r[45]=e[n],r}function Bl(t,e,n){const r=t.slice();return r[45]=e[n],r}function Y_(t){let e,n=t[14]("params.label.direction")+"",r,i,a=t[14]("params.label.direction.left")+"",s,o;return{c(){e=K("("),r=K(n),i=L(),s=K(a),o=K(")")},m(l,c){q(l,e,c),q(l,r,c),q(l,i,c),q(l,s,c),q(l,o,c)},p(l,c){c[0]&16384&&n!==(n=l[14]("params.label.direction")+"")&&ie(r,n),c[0]&16384&&a!==(a=l[14]("params.label.direction.left")+"")&&ie(s,a)},d(l){l&&(W(e),W(r),W(i),W(s),W(o))}}}function K_(t){let e,n=t[14]("params.label.direction")+"",r,i,a=t[14]("params.label.direction.top")+"",s,o;return{c(){e=K("("),r=K(n),i=L(),s=K(a),o=K(")")},m(l,c){q(l,e,c),q(l,r,c),q(l,i,c),q(l,s,c),q(l,o,c)},p(l,c){c[0]&16384&&n!==(n=l[14]("params.label.direction")+"")&&ie(r,n),c[0]&16384&&a!==(a=l[14]("params.label.direction.top")+"")&&ie(s,a)},d(l){l&&(W(e),W(r),W(i),W(s),W(o))}}}function Ml(t){let e,n,r,i,a,s,o,l;return s=Gi(t[35][4]),{c(){e=y("input"),n=L(),r=y("label"),i=y("div"),a=L(),h(e,"type","radio"),h(e,"class","btn-check"),h(e,"name","print-dir"),h(e,"id","print-dir-"+t[45]),h(e,"autocomplete","off"),e.__value=t[45],ke(e,e.__value),h(i,"class","svg-icon svelte-ymzlbk"),h(r,"class","btn btn-outline-secondary px-3 svelte-ymzlbk"),h(r,"for","print-dir-"+t[45]),s.p(e)},m(c,u){q(c,e,u),e.checked=e.__value===t[10],q(c,n,u),q(c,r,u),f(r,i),f(r,a),o||(l=Y(e,"change",t[34]),o=!0)},p(c,u){u[0]&1024&&(e.checked=e.__value===c[10])},d(c){c&&(W(e),W(n),W(r)),s.r(),o=!1,l()}}}function Nl(t){let e,n,r,i,a,s,o,l;return s=Gi(t[35][3]),{c(){e=y("input"),n=L(),r=y("label"),i=y("div"),a=L(),h(e,"type","radio"),h(e,"class","btn-check"),h(e,"name","label-shape"),h(e,"id","label-shape-"+t[45]),h(e,"autocomplete","off"),e.__value=t[45],ke(e,e.__value),h(i,"class","svg-icon svelte-ymzlbk"),h(r,"class","btn btn-outline-secondary px-3 svelte-ymzlbk"),h(r,"for","label-shape-"+t[45]),s.p(e)},m(c,u){q(c,e,u),e.checked=e.__value===t[1],q(c,n,u),q(c,r,u),f(r,i),f(r,a),o||(l=Y(e,"change",t[36]),o=!0)},p(c,u){u[0]&2&&(e.checked=e.__value===c[1])},d(c){c&&(W(e),W(n),W(r)),s.r(),o=!1,l()}}}function jl(t){let e,n,r=t[14]("params.label.split")+"",i,a,s=Qe(t[18]),o=[];for(let l=0;l<s.length;l+=1)o[l]=xl(Cl(t,s,l));return{c(){e=y("div"),n=y("span"),i=K(r),a=L();for(let l=0;l<o.length;l+=1)o[l].c();h(n,"class","input-group-text w-100"),h(e,"class","input-group flex-nowrap input-group-sm label-split-switch mb-2 svelte-ymzlbk"),h(e,"role","group")},m(l,c){q(l,e,c),f(e,n),f(n,i),f(e,a);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null)},p(l,c){if(c[0]&16384&&r!==(r=l[14]("params.label.split")+"")&&ie(i,r),c[0]&262148){s=Qe(l[18]);let u;for(u=0;u<s.length;u+=1){const d=Cl(l,s,u);o[u]?o[u].p(d,c):(o[u]=xl(d),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=s.length}},d(l){l&&W(e),zt(o,l)}}}function xl(t){let e,n,r,i,a,s,o,l;return s=Gi(t[35][2]),{c(){e=y("input"),n=L(),r=y("label"),i=y("div"),a=L(),h(e,"type","radio"),h(e,"class","btn-check"),h(e,"name","label-split"),h(e,"id","label-split-"+t[45]),h(e,"autocomplete","off"),e.__value=t[45],ke(e,e.__value),h(i,"class","svg-icon svelte-ymzlbk"),h(r,"class","btn btn-outline-secondary px-3 svelte-ymzlbk"),h(r,"for","label-split-"+t[45]),s.p(e)},m(c,u){q(c,e,u),e.checked=e.__value===t[2],q(c,n,u),q(c,r,u),f(r,i),f(r,a),o||(l=Y(e,"change",t[37]),o=!0)},p(c,u){u[0]&4&&(e.checked=e.__value===c[2])},d(c){c&&(W(e),W(n),W(r)),s.r(),o=!1,l()}}}function Rl(t){let e,n,r=t[14]("params.label.mirror")+"",i,a,s,o,l,c=t[14]("params.label.tail.position")+"",u,d,m,g,p,_=t[14]("params.label.tail.length")+"",b,v,w,S,P,O,k,E,D=Qe(t[19]),I=[];for(let N=0;N<D.length;N+=1)I[N]=$l(Ll(t,D,N));let A=Qe(t[15]),C=[];for(let N=0;N<A.length;N+=1)C[N]=Ul(Ol(t,A,N));let T=t[6]==="mm"&&zl(t),M=t[6]==="px"&&Vl(t);return{c(){e=y("div"),n=y("span"),i=K(r),a=L();for(let N=0;N<I.length;N+=1)I[N].c();s=L(),o=y("div"),l=y("span"),u=K(c),d=L();for(let N=0;N<C.length;N+=1)C[N].c();m=L(),g=y("div"),p=y("span"),b=K(_),v=L(),w=y("input"),S=L(),P=y("span"),T&&T.c(),O=L(),M&&M.c(),h(n,"class","input-group-text w-100"),h(e,"class","input-group flex-nowrap input-group-sm mirror-switch mb-2 svelte-ymzlbk"),h(e,"role","group"),h(l,"class","input-group-text w-100"),h(o,"class","input-group flex-nowrap input-group-sm tail-pos-switch mb-2 svelte-ymzlbk"),h(o,"role","group"),h(p,"class","input-group-text"),h(w,"class","form-control"),h(w,"type","number"),h(w,"min","0"),h(P,"class","input-group-text"),h(g,"class","input-group flex-nowrap input-group-sm mb-2")},m(N,x){q(N,e,x),f(e,n),f(n,i),f(e,a);for(let B=0;B<I.length;B+=1)I[B]&&I[B].m(e,null);q(N,s,x),q(N,o,x),f(o,l),f(l,u),f(o,d);for(let B=0;B<C.length;B+=1)C[B]&&C[B].m(o,null);q(N,m,x),q(N,g,x),f(g,p),f(p,b),f(g,v),f(g,w),ke(w,t[3]),f(g,S),f(g,P),T&&T.m(P,null),f(P,O),M&&M.m(P,null),k||(E=Y(w,"input",t[40]),k=!0)},p(N,x){if(x[0]&16384&&r!==(r=N[14]("params.label.mirror")+"")&&ie(i,r),x[0]&528384){D=Qe(N[19]);let B;for(B=0;B<D.length;B+=1){const H=Ll(N,D,B);I[B]?I[B].p(H,x):(I[B]=$l(H),I[B].c(),I[B].m(e,null))}for(;B<I.length;B+=1)I[B].d(1);I.length=D.length}if(x[0]&16384&&c!==(c=N[14]("params.label.tail.position")+"")&&ie(u,c),x[0]&34816){A=Qe(N[15]);let B;for(B=0;B<A.length;B+=1){const H=Ol(N,A,B);C[B]?C[B].p(H,x):(C[B]=Ul(H),C[B].c(),C[B].m(o,null))}for(;B<C.length;B+=1)C[B].d(1);C.length=A.length}x[0]&16384&&_!==(_=N[14]("params.label.tail.length")+"")&&ie(b,_),x[0]&8&&dt(w.value)!==N[3]&&ke(w,N[3]),N[6]==="mm"?T?T.p(N,x):(T=zl(N),T.c(),T.m(P,O)):T&&(T.d(1),T=null),N[6]==="px"?M?M.p(N,x):(M=Vl(N),M.c(),M.m(P,null)):M&&(M.d(1),M=null)},d(N){N&&(W(e),W(s),W(o),W(m),W(g)),zt(I,N),zt(C,N),T&&T.d(),M&&M.d(),k=!1,E()}}}function $l(t){let e,n,r,i,a,s,o,l;return s=Gi(t[35][1]),{c(){e=y("input"),n=L(),r=y("label"),i=y("div"),a=L(),h(e,"type","radio"),h(e,"class","btn-check"),h(e,"name","mirror"),h(e,"id","mirror-"+t[45]),h(e,"autocomplete","off"),e.__value=t[45],ke(e,e.__value),h(i,"class","svg-icon svelte-ymzlbk"),h(r,"class","btn btn-outline-secondary px-3 svelte-ymzlbk"),h(r,"for","mirror-"+t[45]),s.p(e)},m(c,u){q(c,e,u),e.checked=e.__value===t[12],q(c,n,u),q(c,r,u),f(r,i),f(r,a),o||(l=Y(e,"change",t[38]),o=!0)},p(c,u){u[0]&4096&&(e.checked=e.__value===c[12])},d(c){c&&(W(e),W(n),W(r)),s.r(),o=!1,l()}}}function Ul(t){let e,n,r,i,a,s,o,l;return s=Gi(t[35][0]),{c(){e=y("input"),n=L(),r=y("label"),i=y("div"),a=L(),h(e,"type","radio"),h(e,"class","btn-check"),h(e,"name","tail-pos"),h(e,"id","tail-"+t[45]),h(e,"autocomplete","off"),e.__value=t[45],ke(e,e.__value),h(i,"class","svg-icon svelte-ymzlbk"),h(r,"class","btn btn-outline-secondary px-3 svelte-ymzlbk"),h(r,"for","tail-"+t[45]),s.p(e)},m(c,u){q(c,e,u),e.checked=e.__value===t[11],q(c,n,u),q(c,r,u),f(r,i),f(r,a),o||(l=Y(e,"change",t[39]),o=!0)},p(c,u){u[0]&2048&&(e.checked=e.__value===c[11])},d(c){c&&(W(e),W(n),W(r)),s.r(),o=!1,l()}}}function zl(t){let e=t[14]("params.label.mm")+"",n;return{c(){n=K(e)},m(r,i){q(r,n,i)},p(r,i){i[0]&16384&&e!==(e=r[14]("params.label.mm")+"")&&ie(n,e)},d(r){r&&W(n)}}}function Vl(t){let e=t[14]("params.label.px")+"",n;return{c(){n=K(e)},m(r,i){q(r,n,i)},p(r,i){i[0]&16384&&e!==(e=r[14]("params.label.px")+"")&&ie(n,e)},d(r){r&&W(n)}}}function Q_(t){let e,n,r,i,a,s,o=t[14]("params.label.menu_title")+"",l,c,u,d,m,g,p,_=t[14]("params.label.import")+"",b,v,w,S,P,O=t[14]("params.label.export")+"",k,E,D,I=t[14]("params.label.current")+"",A,C,T=t[0].size.width+"",M,N,x=t[0].size.height+"",B,H,V=t[14]("params.label.px")+"",Q,G,U,$,z,F,Z,J,oe,_e,Le,be=t[14]("params.label.size")+"",xe,ae,de,X,Ee,Ne,we,Ve,Me,ve,Oe,We=t[14]("params.label.mm")+"",ue,Pe,je=t[14]("params.label.px")+"",De,se,le,qe,pe=t[14]("params.label.head_density")+"",ot,Re,at,Ze,Et,Vt=t[14]("params.label.dpmm")+"",gn,Cn,At,$t,Wt,qt=t[14]("params.label.direction")+"",Dt,vn,Ye,Ft,In,Ct=t[14]("params.label.shape")+"",nn,dn,pr,st,Bn,ce,Se,Tn=t[14]("params.label.label_title")+"",hr,_r,Zt,ri,Ht,nr,Vn=t[14]("params.label.save_template")+"",Mn,ii,Yt,mr=t[14]("params.label.apply")+"",rn,Je,rr,Cr;r=new me({props:{icon:"settings"}}),g=new me({props:{icon:"data_object"}}),S=new me({props:{icon:"data_object"}});function Wn(he,$e){if(he[0].printDirection==="top")return K_;if(he[0].printDirection==="left")return Y_}let Pn=Wn(t),It=Pn&&Pn(t);z=new me({props:{icon:"arrow_downward"}}),J=new Z_({props:{class:"mb-1",presets:t[4],onItemSelected:t[21],onItemDelete:t[22]}}),Ne=new me({props:{icon:"swap_horiz"}});let qn=Qe(t[16]),ft=[];for(let he=0;he<qn.length;he+=1)ft[he]=Ml(Bl(t,qn,he));let Fn=Qe(t[17]),_t=[];for(let he=0;he<Fn.length;he+=1)_t[he]=Nl(Il(t,Fn,he));let Ot=t[1]!=="circle"&&jl(t),Bt=t[2]!=="none"&&Rl(t);return{c(){e=y("div"),n=y("button"),re(r.$$.fragment),i=L(),a=y("div"),s=y("h6"),l=K(o),c=L(),u=y("div"),d=y("div"),m=y("button"),re(g.$$.fragment),p=L(),b=K(_),v=L(),w=y("button"),re(S.$$.fragment),P=L(),k=K(O),E=L(),D=y("div"),A=K(I),C=L(),M=K(T),N=K("x"),B=K(x),H=L(),Q=K(V),G=L(),It&&It.c(),U=L(),$=y("button"),re(z.$$.fragment),Z=L(),re(J.$$.fragment),oe=L(),_e=y("div"),Le=y("span"),xe=K(be),ae=L(),de=y("input"),X=L(),Ee=y("button"),re(Ne.$$.fragment),we=L(),Ve=y("input"),Me=L(),ve=y("select"),Oe=y("option"),ue=K(We),Pe=y("option"),De=K(je),se=L(),le=y("div"),qe=y("span"),ot=K(pe),Re=L(),at=y("input"),Ze=L(),Et=y("span"),gn=K(Vt),At=L(),$t=y("div"),Wt=y("span"),Dt=K(qt),vn=L();for(let he=0;he<ft.length;he+=1)ft[he].c();Ye=L(),Ft=y("div"),In=y("span"),nn=K(Ct),dn=L();for(let he=0;he<_t.length;he+=1)_t[he].c();pr=L(),Ot&&Ot.c(),st=L(),Bt&&Bt.c(),Bn=L(),ce=y("div"),Se=y("span"),hr=K(Tn),_r=L(),Zt=y("input"),ri=L(),Ht=y("div"),nr=y("button"),Mn=K(Vn),ii=L(),Yt=y("button"),rn=K(mr),h(n,"class","btn btn-sm btn-secondary"),h(n,"data-bs-toggle","dropdown"),h(n,"data-bs-auto-close","outside"),h(s,"class","dropdown-header"),h(m,"class","btn btn-sm btn-outline-secondary"),h(w,"class","btn btn-sm btn-outline-secondary"),h(d,"class","p-1"),h($,"class","btn btn-sm"),h(D,"class",F="mb-3 "+(t[13]?"cursor-help text-warning":"text-secondary")+" svelte-ymzlbk"),h(D,"title",t[13]),h(Le,"class","input-group-text"),h(de,"class","form-control"),h(de,"type","number"),h(de,"min","1"),h(de,"step",t[7]),h(Ee,"class","btn btn-sm btn-secondary"),h(Ve,"class","form-control"),h(Ve,"type","number"),h(Ve,"min","1"),h(Ve,"step",t[7]),Oe.__value="mm",ke(Oe,Oe.__value),Pe.__value="px",ke(Pe,Pe.__value),h(ve,"class","form-select"),t[6]===void 0&&wn(()=>t[32].call(ve)),h(_e,"class","input-group flex-nowrap input-group-sm mb-2"),h(qe,"class","input-group-text"),h(at,"class","form-control"),h(at,"type","number"),h(at,"min","1"),h(Et,"class","input-group-text cursor-help svelte-ymzlbk"),h(Et,"title",Cn=t[14]("params.label.head_density.help")),h(le,"class","input-group flex-nowrap input-group-sm mb-2"),h(Wt,"class","input-group-text w-100"),h($t,"class","input-group flex-nowrap input-group-sm print-dir-switch mb-2 svelte-ymzlbk"),h($t,"role","group"),h(In,"class","input-group-text w-100"),h(Ft,"class","input-group flex-nowrap input-group-sm label-shape-switch mb-2 svelte-ymzlbk"),h(Ft,"role","group"),h(Se,"class","input-group-text"),h(Zt,"class","form-control"),h(Zt,"type","text"),h(ce,"class","input-group flex-nowrap input-group-sm mb-2"),h(nr,"class","btn btn-sm btn-secondary"),h(Yt,"class","btn btn-sm btn-primary"),h(Ht,"class","text-end"),h(u,"class","px-3"),h(a,"class","dropdown-menu svelte-ymzlbk"),h(e,"class","dropdown")},m(he,$e){q(he,e,$e),f(e,n),te(r,n,null),f(e,i),f(e,a),f(a,s),f(s,l),f(a,c),f(a,u),f(u,d),f(d,m),te(g,m,null),f(m,p),f(m,b),f(d,v),f(d,w),te(S,w,null),f(w,P),f(w,k),f(u,E),f(u,D),f(D,A),f(D,C),f(D,M),f(D,N),f(D,B),f(D,H),f(D,Q),f(D,G),It&&It.m(D,null),f(D,U),f(D,$),te(z,$,null),f(u,Z),te(J,u,null),f(u,oe),f(u,_e),f(_e,Le),f(Le,xe),f(_e,ae),f(_e,de),ke(de,t[8]),f(_e,X),f(_e,Ee),te(Ne,Ee,null),f(_e,we),f(_e,Ve),ke(Ve,t[9]),f(_e,Me),f(_e,ve),f(ve,Oe),f(Oe,ue),f(ve,Pe),f(Pe,De),xt(ve,t[6],!0),f(u,se),f(u,le),f(le,qe),f(qe,ot),f(le,Re),f(le,at),ke(at,t[7]),f(le,Ze),f(le,Et),f(Et,gn),f(u,At),f(u,$t),f($t,Wt),f(Wt,Dt),f($t,vn);for(let mt=0;mt<ft.length;mt+=1)ft[mt]&&ft[mt].m($t,null);f(u,Ye),f(u,Ft),f(Ft,In),f(In,nn),f(Ft,dn);for(let mt=0;mt<_t.length;mt+=1)_t[mt]&&_t[mt].m(Ft,null);f(u,pr),Ot&&Ot.m(u,null),f(u,st),Bt&&Bt.m(u,null),f(u,Bn),f(u,ce),f(ce,Se),f(Se,hr),f(ce,_r),f(ce,Zt),ke(Zt,t[5]),f(u,ri),f(u,Ht),f(Ht,nr),f(nr,Mn),f(Ht,ii),f(Ht,Yt),f(Yt,rn),Je=!0,rr||(Cr=[Y(m,"click",t[27]),Y(w,"click",t[28]),Y($,"click",t[26]),Y(de,"input",t[30]),Y(Ee,"click",t[24]),Y(Ve,"input",t[31]),Y(ve,"change",t[32]),Y(ve,"change",t[25]),Y(at,"input",t[33]),Y(Zt,"input",t[41]),Y(nr,"click",t[23]),Y(Yt,"click",t[20])],rr=!0)},p(he,$e){(!Je||$e[0]&16384)&&o!==(o=he[14]("params.label.menu_title")+"")&&ie(l,o),(!Je||$e[0]&16384)&&_!==(_=he[14]("params.label.import")+"")&&ie(b,_),(!Je||$e[0]&16384)&&O!==(O=he[14]("params.label.export")+"")&&ie(k,O),(!Je||$e[0]&16384)&&I!==(I=he[14]("params.label.current")+"")&&ie(A,I),(!Je||$e[0]&1)&&T!==(T=he[0].size.width+"")&&ie(M,T),(!Je||$e[0]&1)&&x!==(x=he[0].size.height+"")&&ie(B,x),(!Je||$e[0]&16384)&&V!==(V=he[14]("params.label.px")+"")&&ie(Q,V),Pn===(Pn=Wn(he))&&It?It.p(he,$e):(It&&It.d(1),It=Pn&&Pn(he),It&&(It.c(),It.m(D,U))),(!Je||$e[0]&8192&&F!==(F="mb-3 "+(he[13]?"cursor-help text-warning":"text-secondary")+" svelte-ymzlbk"))&&h(D,"class",F),(!Je||$e[0]&8192)&&h(D,"title",he[13]);const mt={};if($e[0]&16&&(mt.presets=he[4]),J.$set(mt),(!Je||$e[0]&16384)&&be!==(be=he[14]("params.label.size")+"")&&ie(xe,be),(!Je||$e[0]&128)&&h(de,"step",he[7]),$e[0]&256&&dt(de.value)!==he[8]&&ke(de,he[8]),(!Je||$e[0]&128)&&h(Ve,"step",he[7]),$e[0]&512&&dt(Ve.value)!==he[9]&&ke(Ve,he[9]),(!Je||$e[0]&16384)&&We!==(We=he[14]("params.label.mm")+"")&&ie(ue,We),(!Je||$e[0]&16384)&&je!==(je=he[14]("params.label.px")+"")&&ie(De,je),$e[0]&64&&xt(ve,he[6]),(!Je||$e[0]&16384)&&pe!==(pe=he[14]("params.label.head_density")+"")&&ie(ot,pe),$e[0]&128&&dt(at.value)!==he[7]&&ke(at,he[7]),(!Je||$e[0]&16384)&&Vt!==(Vt=he[14]("params.label.dpmm")+"")&&ie(gn,Vt),(!Je||$e[0]&16384&&Cn!==(Cn=he[14]("params.label.head_density.help")))&&h(Et,"title",Cn),(!Je||$e[0]&16384)&&qt!==(qt=he[14]("params.label.direction")+"")&&ie(Dt,qt),$e[0]&66560){qn=Qe(he[16]);let He;for(He=0;He<qn.length;He+=1){const Ut=Bl(he,qn,He);ft[He]?ft[He].p(Ut,$e):(ft[He]=Ml(Ut),ft[He].c(),ft[He].m($t,null))}for(;He<ft.length;He+=1)ft[He].d(1);ft.length=qn.length}if((!Je||$e[0]&16384)&&Ct!==(Ct=he[14]("params.label.shape")+"")&&ie(nn,Ct),$e[0]&131074){Fn=Qe(he[17]);let He;for(He=0;He<Fn.length;He+=1){const Ut=Il(he,Fn,He);_t[He]?_t[He].p(Ut,$e):(_t[He]=Nl(Ut),_t[He].c(),_t[He].m(Ft,null))}for(;He<_t.length;He+=1)_t[He].d(1);_t.length=Fn.length}he[1]!=="circle"?Ot?Ot.p(he,$e):(Ot=jl(he),Ot.c(),Ot.m(u,st)):Ot&&(Ot.d(1),Ot=null),he[2]!=="none"?Bt?Bt.p(he,$e):(Bt=Rl(he),Bt.c(),Bt.m(u,Bn)):Bt&&(Bt.d(1),Bt=null),(!Je||$e[0]&16384)&&Tn!==(Tn=he[14]("params.label.label_title")+"")&&ie(hr,Tn),$e[0]&32&&Zt.value!==he[5]&&ke(Zt,he[5]),(!Je||$e[0]&16384)&&Vn!==(Vn=he[14]("params.label.save_template")+"")&&ie(Mn,Vn),(!Je||$e[0]&16384)&&mr!==(mr=he[14]("params.label.apply")+"")&&ie(rn,mr)},i(he){Je||(j(r.$$.fragment,he),j(g.$$.fragment,he),j(S.$$.fragment,he),j(z.$$.fragment,he),j(J.$$.fragment,he),j(Ne.$$.fragment,he),Je=!0)},o(he){R(r.$$.fragment,he),R(g.$$.fragment,he),R(S.$$.fragment,he),R(z.$$.fragment,he),R(J.$$.fragment,he),R(Ne.$$.fragment,he),Je=!1},d(he){he&&W(e),ne(r),ne(g),ne(S),It&&It.d(),ne(z),ne(J),ne(Ne),zt(ft,he),zt(_t,he),Ot&&Ot.d(),Bt&&Bt.d(),rr=!1,ct(Cr)}}}function J_(t,e,n){let r,i;nt(t,Rt,ae=>n(14,r=ae)),nt(t,Wi,ae=>n(43,i=ae));let{labelProps:a}=e,{onChange:s}=e;const o=["right","bottom","left","top"],l=["left","top"],c=["rect","rounded_rect","circle"],u=["none","vertical","horizontal"],d=["none","flip","copy"];let m=hl,g="",p="mm",_="mm",b=8,v=0,w=0,S="left",P="rect",O="none",k=0,E="right",D="none",I="";const A=()=>{let ae=v,de=w,X=k;_==="mm"&&(ae*=b,de*=b,X*=b),ae=ae<b?b:ae,de=de<b?b:de,S==="left"?de-=de%b:ae-=ae%b,s({printDirection:S,size:{width:Math.floor(ae),height:Math.floor(de)},shape:P,split:O,tailPos:E,tailLength:Math.floor(X),mirror:D})},C=ae=>{const de=m[ae];n(7,b=de.dpmm),p=de.unit,n(6,_=de.unit),n(10,S=de.printDirection),n(8,v=de.width),n(9,w=de.height),n(5,g=de.title??""),n(1,P=de.shape??"rect"),n(2,O=de.split??"none"),n(11,E=de.tailPos??"right"),n(3,k=de.tailLength??0),n(12,D=de.mirror??"none"),A()},T=ae=>{const de=[...m];de.splice(ae,1),n(4,m=de),gt.saveLabelPresets(m)},M=()=>{const ae={dpmm:b,printDirection:S,unit:_,width:v,height:w,title:g,shape:P,split:O,tailPos:E,tailLength:k,mirror:D},de=[...m,ae];try{gt.saveLabelPresets(de),n(4,m=de)}catch(X){vt.zodErrors(X,"Presets save error:")}},N=()=>{let ae=v;n(8,v=w),n(9,w=ae),n(10,S=S==="top"?"left":"top")},x=()=>{p==="mm"&&_==="px"?(n(8,v=Math.floor(v*b)),n(9,w=Math.floor(w*b)),n(3,k=Math.floor(k*b))):p==="px"&&_==="mm"&&(n(8,v=Math.floor(v/b)),n(9,w=Math.floor(w/b)),n(3,k=Math.floor(k/b))),p=_},B=ae=>{if(n(13,I=""),i!==void 0){const de=ae.printDirection=="left"?ae.size.height:ae.size.width;de>i.printheadPixels&&(n(13,I+=r("params.label.warning.width")+" "),n(13,I+=`(${de} > ${i.printheadPixels})`),n(13,I+=`
`)),i.printDirection!==ae.printDirection&&(n(13,I+=r("params.label.warning.direction")+" "),i.printDirection=="left"?n(13,I+=r("params.label.direction.left")):n(13,I+=r("params.label.direction.top")))}},H=()=>{p="px",n(8,v=a.size.width),n(9,w=a.size.height),n(10,S=a.printDirection),n(1,P=a.shape??"rect"),n(2,O=a.split??"none"),n(11,E=a.tailPos??"right"),n(3,k=a.tailLength??0),n(12,D=a.mirror??"none"),x()},V=async()=>{const ae=await Sn.pickAndReadTextFile("json"),de=JSON.parse(ae);if(confirm(r("params.label.warning.import")))try{const X=Ce.array(Pa).parse(de);gt.saveLabelPresets(X),n(4,m=X)}catch(X){vt.zodErrors(X,"Presets load error:")}},Q=()=>{try{Sn.saveLabelPresetsAsJson(m)}catch(ae){vt.zodErrors(ae,"Presets save error:")}};ei(()=>{const ae=hl[0];n(8,v=ae.width),n(9,w=ae.height),p=ae.unit,n(6,_=ae.unit),n(10,S=ae.printDirection),n(1,P=ae.shape??"rect"),n(2,O=ae.split??"none"),n(11,E=ae.tailPos??"right"),n(3,k=ae.tailLength??0),n(12,D=ae.mirror??"none");try{const de=gt.loadLabelPresets();de!==null&&n(4,m=de)}catch(de){vt.zodErrors(de,"Presets load error:")}vu().then(()=>H())});const G=[[],[],[],[],[]];function U(){v=dt(this.value),n(8,v)}function $(){w=dt(this.value),n(9,w)}function z(){_=Zn(this),n(6,_)}function F(){b=dt(this.value),n(7,b)}function Z(){S=this.__value,n(10,S)}function J(){P=this.__value,n(1,P)}function oe(){O=this.__value,n(2,O),n(1,P)}function _e(){D=this.__value,n(12,D)}function Le(){E=this.__value,n(11,E)}function be(){k=dt(this.value),n(3,k),n(2,O),n(1,P)}function xe(){g=this.value,n(5,g)}return t.$$set=ae=>{"labelProps"in ae&&n(0,a=ae.labelProps),"onChange"in ae&&n(29,s=ae.onChange)},t.$$.update=()=>{t.$$.dirty[0]&1&&B(a),t.$$.dirty[0]&6&&P==="circle"&&O!=="none"&&n(2,O="none"),t.$$.dirty[0]&4&&O==="none"&&n(3,k=0),t.$$.dirty[0]&8&&k<0&&n(3,k=0)},[a,P,O,k,m,g,_,b,v,w,S,E,D,I,r,o,l,c,u,d,A,C,T,M,N,x,H,V,Q,s,U,$,z,F,Z,G,J,oe,_e,Le,be,xe]}class X_ extends Pt{constructor(e){super(),Tt(this,e,J_,Q_,wt,{labelProps:0,onChange:29},null,[-1,-1])}}function em(t){let e,n;return e=new me({props:{icon:"warning",class:"text-warning"}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function tm(t){let e,n;return e=new me({props:{icon:"hourglass_top"}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function nm(t){let e,n,r,i,a,s,o,l,c,u;n=new me({props:{icon:"receipt_long"}});const d=[tm,em],m=[];function g(p,_){return p[1]==="processing"?0:p[1]==="error"?1:-1}return~(s=g(t))&&(o=m[s]=d[s](t)),{c(){e=y("button"),re(n.$$.fragment),r=L(),i=K(t[0]),a=L(),o&&o.c(),h(e,"class","btn btn-sm")},m(p,_){q(p,e,_),te(n,e,null),f(e,r),f(e,i),f(e,a),~s&&m[s].m(e,null),l=!0,c||(u=Y(e,"click",t[2]),c=!0)},p(p,[_]){(!l||_&1)&&ie(i,p[0]);let b=s;s=g(p),s!==b&&(o&&(Xe(),R(m[b],1,1,()=>{m[b]=null}),et()),~s?(o=m[s],o||(o=m[s]=d[s](p),o.c()),j(o,1),o.m(e,null)):o=null)},i(p){l||(j(n.$$.fragment,p),j(o),l=!0)},o(p){R(n.$$.fragment,p),R(o),l=!1},d(p){p&&W(e),ne(n),~s&&m[s].d(),c=!1,u()}}}function rm(t,e,n){let{text:r}=e,{labelProps:i}=e,{onImageReady:a}=e,s="idle";const o=async()=>{const u=i.size.width/8/25.4,d=i.size.height/8/25.4,m=await Sn.pickAndReadTextFile("zpl");n(1,s="processing");try{const g=await fetch(`https://api.labelary.com/v1/printers/8dpmm/labels/${u}x${d}/0/`,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"image/png","X-Quality":"bitonal"},body:m});if(g.ok){const p=await g.blob();a(p),n(1,s="idle")}else n(1,s="error")}catch(g){n(1,s="error"),console.error(g)}};return t.$$set=l=>{"text"in l&&n(0,r=l.text),"labelProps"in l&&n(3,i=l.labelProps),"onImageReady"in l&&n(4,a=l.onImageReady)},[r,s,o,i,a]}class im extends Pt{constructor(e){super(),Tt(this,e,rm,nm,wt,{text:0,labelProps:3,onImageReady:4})}}function am(t){let e,n,r,i,a,s,o,l,c=t[3]("editor.objectpicker.title")+"",u,d,m,g,p,_,b=t[3]("editor.objectpicker.text")+"",v,w,S,P,O,k=t[3]("editor.objectpicker.line")+"",E,D,I,A,C,T=t[3]("editor.objectpicker.rectangle")+"",M,N,x,B,H,V=t[3]("editor.objectpicker.circle")+"",Q,G,U,$,z,F=t[3]("editor.objectpicker.image")+"",Z,J,oe,_e,Le,be=t[3]("editor.objectpicker.qrcode")+"",xe,ae,de,X,Ee,Ne=t[3]("editor.objectpicker.barcode")+"",we,Ve,Me,ve,Oe,We;return r=new me({props:{icon:"format_shapes"}}),a=new me({props:{icon:"add"}}),p=new me({props:{icon:"title"}}),P=new me({props:{icon:"remove"}}),A=new me({props:{icon:"crop_square"}}),B=new me({props:{icon:"radio_button_unchecked"}}),$=new me({props:{icon:"image"}}),_e=new me({props:{icon:"qr_code_2"}}),X=new me({props:{icon:"view_week"}}),Me=new im({props:{labelProps:t[1],onImageReady:t[2],text:t[3]("editor.import.zpl")}}),{c(){e=y("div"),n=y("button"),re(r.$$.fragment),i=L(),re(a.$$.fragment),s=L(),o=y("div"),l=y("h6"),u=K(c),d=L(),m=y("div"),g=y("button"),re(p.$$.fragment),_=L(),v=K(b),w=L(),S=y("button"),re(P.$$.fragment),O=L(),E=K(k),D=L(),I=y("button"),re(A.$$.fragment),C=L(),M=K(T),N=L(),x=y("button"),re(B.$$.fragment),H=L(),Q=K(V),G=L(),U=y("button"),re($.$$.fragment),z=L(),Z=K(F),J=L(),oe=y("button"),re(_e.$$.fragment),Le=L(),xe=K(be),ae=L(),de=y("button"),re(X.$$.fragment),Ee=L(),we=K(Ne),Ve=L(),re(Me.$$.fragment),h(n,"class","btn btn-sm btn-secondary"),h(n,"data-bs-toggle","dropdown"),h(n,"data-bs-auto-close","outside"),h(l,"class","dropdown-header"),h(g,"class","btn me-1"),h(S,"class","btn me-1"),h(I,"class","btn me-1"),h(x,"class","btn me-1"),h(U,"class","btn me-1"),h(oe,"class","btn me-1"),h(de,"class","btn me-1"),h(m,"class","p-3"),h(o,"class","dropdown-menu svelte-17em9aq"),h(e,"class","dropdown")},m(ue,Pe){q(ue,e,Pe),f(e,n),te(r,n,null),f(n,i),te(a,n,null),f(e,s),f(e,o),f(o,l),f(l,u),f(o,d),f(o,m),f(m,g),te(p,g,null),f(g,_),f(g,v),f(m,w),f(m,S),te(P,S,null),f(S,O),f(S,E),f(m,D),f(m,I),te(A,I,null),f(I,C),f(I,M),f(m,N),f(m,x),te(B,x,null),f(x,H),f(x,Q),f(m,G),f(m,U),te($,U,null),f(U,z),f(U,Z),f(m,J),f(m,oe),te(_e,oe,null),f(oe,Le),f(oe,xe),f(m,ae),f(m,de),te(X,de,null),f(de,Ee),f(de,we),f(m,Ve),te(Me,m,null),ve=!0,Oe||(We=[Y(g,"click",t[4]),Y(S,"click",t[5]),Y(I,"click",t[6]),Y(x,"click",t[7]),Y(U,"click",t[8]),Y(oe,"click",t[9]),Y(de,"click",t[10])],Oe=!0)},p(ue,[Pe]){(!ve||Pe&8)&&c!==(c=ue[3]("editor.objectpicker.title")+"")&&ie(u,c),(!ve||Pe&8)&&b!==(b=ue[3]("editor.objectpicker.text")+"")&&ie(v,b),(!ve||Pe&8)&&k!==(k=ue[3]("editor.objectpicker.line")+"")&&ie(E,k),(!ve||Pe&8)&&T!==(T=ue[3]("editor.objectpicker.rectangle")+"")&&ie(M,T),(!ve||Pe&8)&&V!==(V=ue[3]("editor.objectpicker.circle")+"")&&ie(Q,V),(!ve||Pe&8)&&F!==(F=ue[3]("editor.objectpicker.image")+"")&&ie(Z,F),(!ve||Pe&8)&&be!==(be=ue[3]("editor.objectpicker.qrcode")+"")&&ie(xe,be),(!ve||Pe&8)&&Ne!==(Ne=ue[3]("editor.objectpicker.barcode")+"")&&ie(we,Ne);const je={};Pe&2&&(je.labelProps=ue[1]),Pe&4&&(je.onImageReady=ue[2]),Pe&8&&(je.text=ue[3]("editor.import.zpl")),Me.$set(je)},i(ue){ve||(j(r.$$.fragment,ue),j(a.$$.fragment,ue),j(p.$$.fragment,ue),j(P.$$.fragment,ue),j(A.$$.fragment,ue),j(B.$$.fragment,ue),j($.$$.fragment,ue),j(_e.$$.fragment,ue),j(X.$$.fragment,ue),j(Me.$$.fragment,ue),ve=!0)},o(ue){R(r.$$.fragment,ue),R(a.$$.fragment,ue),R(p.$$.fragment,ue),R(P.$$.fragment,ue),R(A.$$.fragment,ue),R(B.$$.fragment,ue),R($.$$.fragment,ue),R(_e.$$.fragment,ue),R(X.$$.fragment,ue),R(Me.$$.fragment,ue),ve=!1},d(ue){ue&&W(e),ne(r),ne(a),ne(p),ne(P),ne(A),ne(B),ne($),ne(_e),ne(X),ne(Me),Oe=!1,ct(We)}}}function sm(t,e,n){let r;nt(t,Rt,p=>n(3,r=p));let{onSubmit:i}=e,{labelProps:a}=e,{zplImageReady:s}=e;const o=()=>i("text"),l=()=>i("line"),c=()=>i("rectangle"),u=()=>i("circle"),d=()=>i("image"),m=()=>i("qrcode"),g=()=>i("barcode");return t.$$set=p=>{"onSubmit"in p&&n(0,i=p.onSubmit),"labelProps"in p&&n(1,a=p.labelProps),"zplImageReady"in p&&n(2,s=p.zplImageReady)},[i,a,s,r,o,l,c,u,d,m,g]}class om extends Pt{constructor(e){super(),Tt(this,e,sm,am,wt,{onSubmit:0,labelProps:1,zplImageReady:2})}}var yd={exports:{}},ps={exports:{}};/*!
  * Bootstrap backdrop.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Wl;function lm(){return Wl||(Wl=1,function(t,e){(function(n,r){t.exports=r(Xr(),Hs(),Xn())})(ht,function(n,r,i){const a="backdrop",s="fade",o="show",l=`mousedown.bs.${a}`,c={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},u={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class d extends r{constructor(g){super(),this._config=this._getConfig(g),this._isAppended=!1,this._element=null}static get Default(){return c}static get DefaultType(){return u}static get NAME(){return a}show(g){if(!this._config.isVisible){i.execute(g);return}this._append();const p=this._getElement();this._config.isAnimated&&i.reflow(p),p.classList.add(o),this._emulateAnimation(()=>{i.execute(g)})}hide(g){if(!this._config.isVisible){i.execute(g);return}this._getElement().classList.remove(o),this._emulateAnimation(()=>{this.dispose(),i.execute(g)})}dispose(){this._isAppended&&(n.off(this._element,l),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const g=document.createElement("div");g.className=this._config.className,this._config.isAnimated&&g.classList.add(s),this._element=g}return this._element}_configAfterMerge(g){return g.rootElement=i.getElement(g.rootElement),g}_append(){if(this._isAppended)return;const g=this._getElement();this._config.rootElement.append(g),n.on(g,l,()=>{i.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(g){i.executeAfterTransition(g,this._getElement(),this._config.isAnimated)}}return d})}(ps)),ps.exports}var ia={exports:{}};/*!
  * Bootstrap component-functions.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var ql;function cm(){return ql||(ql=1,function(t,e){(function(n,r){r(e,Xr(),Hi(),Xn())})(ht,function(n,r,i,a){const s=(o,l="hide")=>{const c=`click.dismiss${o.EVENT_KEY}`,u=o.NAME;r.on(document,c,`[data-bs-dismiss="${u}"]`,function(d){if(["A","AREA"].includes(this.tagName)&&d.preventDefault(),a.isDisabled(this))return;const m=i.getElementFromSelector(this)||this.closest(`.${u}`);o.getOrCreateInstance(m)[l]()})};n.enableDismissTrigger=s,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})})}(ia,ia.exports)),ia.exports}var hs={exports:{}};/*!
  * Bootstrap focustrap.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Fl;function um(){return Fl||(Fl=1,function(t,e){(function(n,r){t.exports=r(Xr(),Hi(),Hs())})(ht,function(n,r,i){const a="focustrap",o=".bs.focustrap",l=`focusin${o}`,c=`keydown.tab${o}`,u="Tab",d="forward",m="backward",g={autofocus:!0,trapElement:null},p={autofocus:"boolean",trapElement:"element"};class _ extends i{constructor(v){super(),this._config=this._getConfig(v),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return g}static get DefaultType(){return p}static get NAME(){return a}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),n.off(document,o),n.on(document,l,v=>this._handleFocusin(v)),n.on(document,c,v=>this._handleKeydown(v)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,n.off(document,o))}_handleFocusin(v){const{trapElement:w}=this._config;if(v.target===document||v.target===w||w.contains(v.target))return;const S=r.focusableChildren(w);S.length===0?w.focus():this._lastTabNavDirection===m?S[S.length-1].focus():S[0].focus()}_handleKeydown(v){v.key===u&&(this._lastTabNavDirection=v.shiftKey?m:d)}}return _})}(hs)),hs.exports}var _s={exports:{}};/*!
  * Bootstrap scrollbar.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Hl;function dm(){return Hl||(Hl=1,function(t,e){(function(n,r){t.exports=r(Fs(),Hi(),Xn())})(ht,function(n,r,i){const a=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",s=".sticky-top",o="padding-right",l="margin-right";class c{constructor(){this._element=document.body}getWidth(){const d=document.documentElement.clientWidth;return Math.abs(window.innerWidth-d)}hide(){const d=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,o,m=>m+d),this._setElementAttributes(a,o,m=>m+d),this._setElementAttributes(s,l,m=>m-d)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,o),this._resetElementAttributes(a,o),this._resetElementAttributes(s,l)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(d,m,g){const p=this.getWidth(),_=b=>{if(b!==this._element&&window.innerWidth>b.clientWidth+p)return;this._saveInitialAttribute(b,m);const v=window.getComputedStyle(b).getPropertyValue(m);b.style.setProperty(m,`${g(Number.parseFloat(v))}px`)};this._applyManipulationCallback(d,_)}_saveInitialAttribute(d,m){const g=d.style.getPropertyValue(m);g&&n.setDataAttribute(d,m,g)}_resetElementAttributes(d,m){const g=p=>{const _=n.getDataAttribute(p,m);if(_===null){p.style.removeProperty(m);return}n.removeDataAttribute(p,m),p.style.setProperty(m,_)};this._applyManipulationCallback(d,g)}_applyManipulationCallback(d,m){if(i.isElement(d)){m(d);return}for(const g of r.find(d,this._element))m(g)}}return c})}(_s)),_s.exports}/*!
  * Bootstrap modal.js v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(t,e){(function(n,r){t.exports=r(hu(),Xr(),Hi(),lm(),cm(),um(),Xn(),dm())})(ht,function(n,r,i,a,s,o,l,c){const u="modal",m=".bs.modal",g=".data-api",p="Escape",_=`hide${m}`,b=`hidePrevented${m}`,v=`hidden${m}`,w=`show${m}`,S=`shown${m}`,P=`resize${m}`,O=`click.dismiss${m}`,k=`mousedown.dismiss${m}`,E=`keydown.dismiss${m}`,D=`click${m}${g}`,I="modal-open",A="fade",C="show",T="modal-static",M=".modal.show",N=".modal-dialog",x=".modal-body",B='[data-bs-toggle="modal"]',H={backdrop:!0,focus:!0,keyboard:!0},V={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Q extends n{constructor(U,$){super(U,$),this._dialog=i.findOne(N,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new c,this._addEventListeners()}static get Default(){return H}static get DefaultType(){return V}static get NAME(){return u}toggle(U){return this._isShown?this.hide():this.show(U)}show(U){this._isShown||this._isTransitioning||r.trigger(this._element,w,{relatedTarget:U}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(I),this._adjustDialog(),this._backdrop.show(()=>this._showElement(U)))}hide(){!this._isShown||this._isTransitioning||r.trigger(this._element,_).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(C),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){r.off(window,m),r.off(this._dialog,m),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new a({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new o({trapElement:this._element})}_showElement(U){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const $=i.findOne(x,this._dialog);$&&($.scrollTop=0),l.reflow(this._element),this._element.classList.add(C);const z=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,r.trigger(this._element,S,{relatedTarget:U})};this._queueCallback(z,this._dialog,this._isAnimated())}_addEventListeners(){r.on(this._element,E,U=>{if(U.key===p){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),r.on(window,P,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),r.on(this._element,k,U=>{r.one(this._element,O,$=>{if(!(this._element!==U.target||this._element!==$.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(I),this._resetAdjustments(),this._scrollBar.reset(),r.trigger(this._element,v)})}_isAnimated(){return this._element.classList.contains(A)}_triggerBackdropTransition(){if(r.trigger(this._element,b).defaultPrevented)return;const $=this._element.scrollHeight>document.documentElement.clientHeight,z=this._element.style.overflowY;z==="hidden"||this._element.classList.contains(T)||($||(this._element.style.overflowY="hidden"),this._element.classList.add(T),this._queueCallback(()=>{this._element.classList.remove(T),this._queueCallback(()=>{this._element.style.overflowY=z},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const U=this._element.scrollHeight>document.documentElement.clientHeight,$=this._scrollBar.getWidth(),z=$>0;if(z&&!U){const F=l.isRTL()?"paddingLeft":"paddingRight";this._element.style[F]=`${$}px`}if(!z&&U){const F=l.isRTL()?"paddingRight":"paddingLeft";this._element.style[F]=`${$}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(U,$){return this.each(function(){const z=Q.getOrCreateInstance(this,U);if(typeof U=="string"){if(typeof z[U]>"u")throw new TypeError(`No method named "${U}"`);z[U]($)}})}}return r.on(document,D,B,function(G){const U=i.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&G.preventDefault(),r.one(U,w,F=>{F.defaultPrevented||r.one(U,v,()=>{l.isVisible(this)&&this.focus()})});const $=i.findOne(M);$&&Q.getInstance($).hide(),Q.getOrCreateInstance(U).toggle(this)}),s.enableDismissTrigger(Q),l.defineJQueryPlugin(Q),Q})})(yd);var fm=yd.exports;const pm=qi(fm),hm=t=>new ImageData(new Uint8ClampedArray(t.data),t.width,t.height),_m=(t,e)=>{for(let n=0;n<t.data.length;n+=4){const i=t.data[n]*.299+t.data[n+1]*.587+t.data[n+2]*.114<e?0:255;t.data.fill(i,n,n+3)}return t},mm=(t,e)=>{const n=t.data,r=new Uint8ClampedArray(t.width*t.height);for(let i=0,a=0;a<n.length;i++,a+=4)r[i]=n[a]*.299+n[a+1]*.587+n[a+2]*.114;for(let i=0,a=0;a<n.length;i++,a+=4){const s=r[i]<e?0:255,o=Math.floor((r[i]-s)/8);n.fill(s,a,a+3),r[i+1]+=o,r[i+2]+=o,r[i+t.width-1]+=o,r[i+t.width]+=o,r[i+t.width+1]+=o,r[i+2*t.width]+=o}return t};function bm(t){let e,n;return e=new me({props:{icon:"lock_open"}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function gm(t){let e,n;return e=new me({props:{icon:"lock",class:"text-warning"}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function vm(t){let e,n,r,i,a,s;const o=[gm,bm],l=[];function c(u,d){return u[1]?0:1}return n=c(t),r=l[n]=o[n](t),{c(){e=y("button"),r.c(),h(e,"class","btn btn-sm btn-outline-secondary param-lock-btn")},m(u,d){q(u,e,d),l[n].m(e,null),i=!0,a||(s=Y(e,"click",t[4]),a=!0)},p(u,[d]){let m=n;n=c(u),n!==m&&(Xe(),R(l[m],1,1,()=>{l[m]=null}),et(),r=l[n],r||(r=l[n]=o[n](u),r.c()),j(r,1),r.m(e,null))},i(u){i||(j(r),i=!0)},o(u){R(r),i=!1},d(u){u&&W(e),l[n].d(),a=!1,s()}}}function ym(t,e,n){let{propName:r}=e,{savedValue:i}=e,{value:a}=e,{onClick:s}=e;const o=()=>s(r,a);return t.$$set=l=>{"propName"in l&&n(0,r=l.propName),"savedValue"in l&&n(1,i=l.savedValue),"value"in l&&n(2,a=l.value),"onClick"in l&&n(3,s=l.onClick)},[r,i,a,s,o]}class gr extends Pt{constructor(e){super(),Tt(this,e,ym,vm,wt,{propName:0,savedValue:1,value:2,onClick:3})}}var wd={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(ht,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",s="second",o="minute",l="hour",c="day",u="week",d="month",m="quarter",g="year",p="date",_="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var x=["th","st","nd","rd"],B=N%100;return"["+N+(x[(B-20)%10]||x[B]||x[0])+"]"}},S=function(N,x,B){var H=String(N);return!H||H.length>=x?N:""+Array(x+1-H.length).join(B)+N},P={s:S,z:function(N){var x=-N.utcOffset(),B=Math.abs(x),H=Math.floor(B/60),V=B%60;return(x<=0?"+":"-")+S(H,2,"0")+":"+S(V,2,"0")},m:function N(x,B){if(x.date()<B.date())return-N(B,x);var H=12*(B.year()-x.year())+(B.month()-x.month()),V=x.clone().add(H,d),Q=B-V<0,G=x.clone().add(H+(Q?-1:1),d);return+(-(H+(B-V)/(Q?V-G:G-V))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:d,y:g,w:u,d:c,D:p,h:l,m:o,s,ms:a,Q:m}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},O="en",k={};k[O]=w;var E="$isDayjsObject",D=function(N){return N instanceof T||!(!N||!N[E])},I=function N(x,B,H){var V;if(!x)return O;if(typeof x=="string"){var Q=x.toLowerCase();k[Q]&&(V=Q),B&&(k[Q]=B,V=Q);var G=x.split("-");if(!V&&G.length>1)return N(G[0])}else{var U=x.name;k[U]=x,V=U}return!H&&V&&(O=V),V||!H&&O},A=function(N,x){if(D(N))return N.clone();var B=typeof x=="object"?x:{};return B.date=N,B.args=arguments,new T(B)},C=P;C.l=I,C.i=D,C.w=function(N,x){return A(N,{locale:x.$L,utc:x.$u,x:x.$x,$offset:x.$offset})};var T=function(){function N(B){this.$L=I(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[E]=!0}var x=N.prototype;return x.parse=function(B){this.$d=function(H){var V=H.date,Q=H.utc;if(V===null)return new Date(NaN);if(C.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var G=V.match(b);if(G){var U=G[2]-1||0,$=(G[7]||"0").substring(0,3);return Q?new Date(Date.UTC(G[1],U,G[3]||1,G[4]||0,G[5]||0,G[6]||0,$)):new Date(G[1],U,G[3]||1,G[4]||0,G[5]||0,G[6]||0,$)}}return new Date(V)}(B),this.init()},x.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},x.$utils=function(){return C},x.isValid=function(){return this.$d.toString()!==_},x.isSame=function(B,H){var V=A(B);return this.startOf(H)<=V&&V<=this.endOf(H)},x.isAfter=function(B,H){return A(B)<this.startOf(H)},x.isBefore=function(B,H){return this.endOf(H)<A(B)},x.$g=function(B,H,V){return C.u(B)?this[H]:this.set(V,B)},x.unix=function(){return Math.floor(this.valueOf()/1e3)},x.valueOf=function(){return this.$d.getTime()},x.startOf=function(B,H){var V=this,Q=!!C.u(H)||H,G=C.p(B),U=function(Le,be){var xe=C.w(V.$u?Date.UTC(V.$y,be,Le):new Date(V.$y,be,Le),V);return Q?xe:xe.endOf(c)},$=function(Le,be){return C.w(V.toDate()[Le].apply(V.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(be)),V)},z=this.$W,F=this.$M,Z=this.$D,J="set"+(this.$u?"UTC":"");switch(G){case g:return Q?U(1,0):U(31,11);case d:return Q?U(1,F):U(0,F+1);case u:var oe=this.$locale().weekStart||0,_e=(z<oe?z+7:z)-oe;return U(Q?Z-_e:Z+(6-_e),F);case c:case p:return $(J+"Hours",0);case l:return $(J+"Minutes",1);case o:return $(J+"Seconds",2);case s:return $(J+"Milliseconds",3);default:return this.clone()}},x.endOf=function(B){return this.startOf(B,!1)},x.$set=function(B,H){var V,Q=C.p(B),G="set"+(this.$u?"UTC":""),U=(V={},V[c]=G+"Date",V[p]=G+"Date",V[d]=G+"Month",V[g]=G+"FullYear",V[l]=G+"Hours",V[o]=G+"Minutes",V[s]=G+"Seconds",V[a]=G+"Milliseconds",V)[Q],$=Q===c?this.$D+(H-this.$W):H;if(Q===d||Q===g){var z=this.clone().set(p,1);z.$d[U]($),z.init(),this.$d=z.set(p,Math.min(this.$D,z.daysInMonth())).$d}else U&&this.$d[U]($);return this.init(),this},x.set=function(B,H){return this.clone().$set(B,H)},x.get=function(B){return this[C.p(B)]()},x.add=function(B,H){var V,Q=this;B=Number(B);var G=C.p(H),U=function(F){var Z=A(Q);return C.w(Z.date(Z.date()+Math.round(F*B)),Q)};if(G===d)return this.set(d,this.$M+B);if(G===g)return this.set(g,this.$y+B);if(G===c)return U(1);if(G===u)return U(7);var $=(V={},V[o]=r,V[l]=i,V[s]=n,V)[G]||1,z=this.$d.getTime()+B*$;return C.w(z,this)},x.subtract=function(B,H){return this.add(-1*B,H)},x.format=function(B){var H=this,V=this.$locale();if(!this.isValid())return V.invalidDate||_;var Q=B||"YYYY-MM-DDTHH:mm:ssZ",G=C.z(this),U=this.$H,$=this.$m,z=this.$M,F=V.weekdays,Z=V.months,J=V.meridiem,oe=function(be,xe,ae,de){return be&&(be[xe]||be(H,Q))||ae[xe].slice(0,de)},_e=function(be){return C.s(U%12||12,be,"0")},Le=J||function(be,xe,ae){var de=be<12?"AM":"PM";return ae?de.toLowerCase():de};return Q.replace(v,function(be,xe){return xe||function(ae){switch(ae){case"YY":return String(H.$y).slice(-2);case"YYYY":return C.s(H.$y,4,"0");case"M":return z+1;case"MM":return C.s(z+1,2,"0");case"MMM":return oe(V.monthsShort,z,Z,3);case"MMMM":return oe(Z,z);case"D":return H.$D;case"DD":return C.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return oe(V.weekdaysMin,H.$W,F,2);case"ddd":return oe(V.weekdaysShort,H.$W,F,3);case"dddd":return F[H.$W];case"H":return String(U);case"HH":return C.s(U,2,"0");case"h":return _e(1);case"hh":return _e(2);case"a":return Le(U,$,!0);case"A":return Le(U,$,!1);case"m":return String($);case"mm":return C.s($,2,"0");case"s":return String(H.$s);case"ss":return C.s(H.$s,2,"0");case"SSS":return C.s(H.$ms,3,"0");case"Z":return G}return null}(be)||G.replace(":","")})},x.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},x.diff=function(B,H,V){var Q,G=this,U=C.p(H),$=A(B),z=($.utcOffset()-this.utcOffset())*r,F=this-$,Z=function(){return C.m(G,$)};switch(U){case g:Q=Z()/12;break;case d:Q=Z();break;case m:Q=Z()/3;break;case u:Q=(F-z)/6048e5;break;case c:Q=(F-z)/864e5;break;case l:Q=F/i;break;case o:Q=F/r;break;case s:Q=F/n;break;default:Q=F}return V?Q:C.a(Q)},x.daysInMonth=function(){return this.endOf(d).$D},x.$locale=function(){return k[this.$L]},x.locale=function(B,H){if(!B)return this.$L;var V=this.clone(),Q=I(B,H,!0);return Q&&(V.$L=Q),V},x.clone=function(){return C.w(this.$d,this)},x.toDate=function(){return new Date(this.valueOf())},x.toJSON=function(){return this.isValid()?this.toISOString():null},x.toISOString=function(){return this.$d.toISOString()},x.toString=function(){return this.$d.toUTCString()},N}(),M=T.prototype;return A.prototype=M,[["$ms",a],["$s",s],["$m",o],["$H",l],["$W",c],["$M",d],["$y",g],["$D",p]].forEach(function(N){M[N[1]]=function(x){return this.$g(x,N[0],N[1])}}),A.extend=function(N,x){return N.$i||(N(x,T,A),N.$i=!0),A},A.locale=I,A.isDayjs=D,A.unix=function(N){return A(1e3*N)},A.en=k[O],A.Ls=k,A.p={},A})})(wd);var wm=wd.exports;const km=qi(wm),Tm=/{\s*(\w+)\s*(?:\|\s*(.*?)\s*)?}/g,Pm=t=>{const e=km();return t?e.format(t):e.format("YYYY-MM-DD HH:mm:ss")},ms=(t,e)=>t.replace(Tm,(n,r,i)=>e!==void 0&&r in e?e[r]:r==="dt"?Pm(i):n),Em=(t,e)=>{t.forEachObject(n=>{n instanceof it.fabric.IText?n.set({text:ms(n.text??"",e)}):n instanceof Yn?n.set({text:ms(n.text??"",e)}):n instanceof jn&&n.encoding==="CODE128B"&&n.set({text:ms(n.text??"",e)})})};class kd extends it.fabric.Canvas{constructor(){super(...arguments),this.labelProps=nd,this.SEPARATOR_LINE_WIDTH=2,this.ROUND_RADIUS=10,this.TAIL_WIDTH=40,this.GRAY="#CFCFCF",this.MIRROR_GHOST_COLOR="rgba(0, 0, 0, 0.3)",this.customBackground=!0,this.highlightMirror=!0}setLabelProps(e){this.labelProps=e,this.requestRenderAll()}setCustomBackground(e){this.customBackground=e}setHighlightMirror(e){this.highlightMirror=e}getLabelBounds(){let e=this.width??1,n=this.height??1,r=0,i=0;return this.labelProps.tailPos==="right"?e-=this.labelProps.tailLength??0:this.labelProps.tailPos==="bottom"?n-=this.labelProps.tailLength??0:this.labelProps.tailPos==="left"?r+=this.labelProps.tailLength??0:this.labelProps.tailPos==="top"&&(i+=this.labelProps.tailLength??0),{startX:r,startY:i,endX:e,endY:n}}getFoldLine(){const{startX:e,startY:n,endX:r,endY:i}=this.getLabelBounds();return this.labelProps.split==="horizontal"?{axis:"horizontal",pos:n/2+i/2-this.SEPARATOR_LINE_WIDTH/2+1}:this.labelProps.split==="vertical"?{axis:"vertical",pos:e/2+r/2-this.SEPARATOR_LINE_WIDTH/2+1}:{axis:"none",pos:0}}_renderBackground(e){if(this.width===void 0||this.height===void 0)return;if(e.save(),e.fillStyle="white",!this.customBackground){e.fillRect(0,0,this.width,this.height),e.restore();return}if(this.labelProps.shape==="circle"){e.beginPath(),e.arc(this.width/2,this.height/2,this.height/2,0,2*Math.PI),e.fill(),e.restore();return}let n=this.ROUND_RADIUS;const{startX:r,startY:i,endX:a,endY:s}=this.getLabelBounds();this.labelProps.shape!=="rounded_rect"&&(n=0),e.fillStyle=this.GRAY,e.beginPath(),this.labelProps.tailLength!==void 0&&(this.labelProps.tailPos==="right"?e.rect(a-n,s/2-this.TAIL_WIDTH/2,this.width-a+n,this.TAIL_WIDTH):this.labelProps.tailPos==="bottom"?e.rect(a/2-this.TAIL_WIDTH/2,s-n,this.TAIL_WIDTH,this.height-s+n):this.labelProps.tailPos==="left"?e.rect(0,s/2-this.TAIL_WIDTH/2,r+n,this.TAIL_WIDTH):this.labelProps.tailPos==="top"&&e.rect(a/2-this.TAIL_WIDTH/2,0,this.TAIL_WIDTH,i+n)),e.fill(),e.fillStyle="white",e.beginPath(),this.labelProps.shape==="rounded_rect"?this.labelProps.split==="horizontal"?(e.roundRect(r,i,a-r,s/2-i/2,n),e.roundRect(r,s/2+i/2,a-r,s/2-i/2,n)):this.labelProps.split==="vertical"?(e.roundRect(r,i,a/2-r/2,s-i,n),e.roundRect(a/2+r/2,i,a/2-r/2,s-i,n)):e.roundRect(0,0,this.width,this.height,n):e.rect(r,i,a-r,s-i),e.fill(),e.strokeStyle=this.GRAY,e.lineWidth=this.SEPARATOR_LINE_WIDTH,e.setLineDash([8,8]),e.beginPath();const o=this.getFoldLine();o.axis==="horizontal"?(e.moveTo(r+n,o.pos),e.lineTo(a-n,o.pos)):o.axis==="vertical"&&(e.moveTo(o.pos,i+n),e.lineTo(o.pos,s-n)),e.stroke(),e.restore()}_renderObjects(e,n){super._renderObjects(e,n),!(!this.highlightMirror||this.getActiveObjects().length>1)&&(e.save(),n.forEach(r=>{const i=this.getMirroredObjectCoords(r);if(i!==void 0){const a=r.getBoundingRect(!0);e.fillStyle=this.MIRROR_GHOST_COLOR,e.fillRect(i.pos.x-a.width/2,i.pos.y-a.height/2,a.width,a.height),e.restore()}}),e.restore())}getMirroredObjectCoords(e){const n=this.getFoldLine();if(n.axis==="none"||!(this.labelProps.mirror==="flip"||this.labelProps.mirror==="copy"))return;let r=!1,i=!1;const a=e.getPointByOrigin("center","center"),s=this.getLabelBounds();if(n.axis==="vertical"?(r=!0,this.labelProps.mirror==="copy"?a.setX(n.pos+(a.x-s.startX)):this.labelProps.mirror==="flip"&&(i=!0,a.setX(n.pos+(n.pos-a.x)),a.setY(s.startY+s.endY-a.y))):n.axis==="horizontal"&&(r=!0,this.labelProps.mirror==="copy"?a.setY(n.pos+(a.y-s.startY)):this.labelProps.mirror==="flip"&&(i=!0,a.setY(n.pos+(n.pos-a.y)),a.setX(s.startX+s.endX-a.x))),!!r)return{pos:a,flip:i}}createMirroredObjects(){this.forEachObject(e=>{const n=this.getMirroredObjectCoords(e);n!=null&&e.clone(r=>{r.setPositionByOrigin(n.pos,"center","center"),n.flip&&(r.centeredRotation=!0,r.rotate(180)),this.add(r)})})}}function Gl(t,e,n){const r=t.slice();return r[63]=e[n],r}function Zl(t,e,n){const r=t.slice();return r[66]=e[n],r}function Yl(t){let e,n,r,i,a,s;return n=new me({props:{icon:"chevron_left"}}),{c(){e=y("button"),re(n.$$.fragment),e.disabled=r=t[3]!=="idle",h(e,"class","btn w-100 fs-1")},m(o,l){q(o,e,l),te(n,e,null),i=!0,a||(s=Y(e,"click",t[27]),a=!0)},p(o,l){(!i||l[0]&8&&r!==(r=o[3]!=="idle"))&&(e.disabled=r)},i(o){i||(j(n.$$.fragment,o),i=!0)},o(o){R(n.$$.fragment,o),i=!1},d(o){o&&W(e),ne(n),a=!1,s()}}}function Kl(t){let e,n,r,i,a,s;return n=new me({props:{icon:"chevron_right"}}),{c(){e=y("button"),re(n.$$.fragment),e.disabled=r=t[3]!=="idle",h(e,"class","btn w-100 fs-1")},m(o,l){q(o,e,l),te(n,e,null),i=!0,a||(s=Y(e,"click",t[28]),a=!0)},p(o,l){(!i||l[0]&8&&r!==(r=o[3]!=="idle"))&&(e.disabled=r)},i(o){i||(j(n.$$.fragment,o),i=!0)},o(o){R(n.$$.fragment,o),i=!1},d(o){o&&W(e),ne(n),a=!1,s()}}}function Ql(t){let e,n,r=t[12]+1+"",i,a,s;return{c(){e=y("div"),n=K("Page "),i=K(r),a=K(" / "),s=K(t[13])},m(o,l){q(o,e,l),f(e,n),f(e,i),f(e,a),f(e,s)},p(o,l){l[0]&4096&&r!==(r=o[12]+1+"")&&ie(i,r),l[0]&8192&&ie(s,o[13])},d(o){o&&W(e)}}}function Jl(t){let e;return{c(){e=y("div"),e.textContent="Sending..."},m(n,r){q(n,e,r)},d(n){n&&W(e)}}}function Xl(t){let e,n,r,i,a,s;return{c(){e=y("div"),n=K(`Printing...\r
            `),r=y("div"),i=y("div"),a=K(t[4]),s=K("%"),h(i,"class","progress-bar svelte-wgb889"),yn(i,"width",t[4]+"%"),h(r,"class","progress"),h(r,"role","progressbar")},m(o,l){q(o,e,l),f(e,n),f(e,r),f(r,i),f(i,a),f(i,s)},p(o,l){l[0]&16&&ie(a,o[4]),l[0]&16&&yn(i,"width",o[4]+"%")},d(o){o&&W(e)}}}function ec(t){let e,n;return{c(){e=y("div"),n=K(t[11]),h(e,"class","alert alert-danger"),h(e,"role","alert")},m(r,i){q(r,e,i),f(e,n)},p(r,i){i[0]&2048&&ie(n,r[11])},d(r){r&&W(e)}}}function Sm(t){var l;let e,n=(l=t[18])==null?void 0:l.paperTypes.includes(t[66]),r,i=t[19](t[22](lt.LabelType[t[66]]))+"",a,s,o=n&&tc();return{c(){e=y("option"),o&&o.c(),r=L(),a=K(i),s=L(),e.__value=t[66],ke(e,e.__value)},m(c,u){q(c,e,u),o&&o.m(e,null),f(e,r),f(e,a),f(e,s)},p(c,u){var d;u[0]&262144&&(n=(d=c[18])==null?void 0:d.paperTypes.includes(c[66])),n?o||(o=tc(),o.c(),o.m(e,r)):o&&(o.d(1),o=null),u[0]&524288&&i!==(i=c[19](c[22](lt.LabelType[c[66]]))+"")&&ie(a,i)},d(c){c&&W(e),o&&o.d()}}}function tc(t){let e;return{c(){e=K("")},m(n,r){q(n,e,r)},d(n){n&&W(e)}}}function nc(t){let e,n=typeof t[66]!="string"&&Sm(t);return{c(){n&&n.c(),e=er()},m(r,i){n&&n.m(r,i),q(r,e,i)},p(r,i){typeof r[66]!="string"&&n.p(r,i)},d(r){r&&W(e),n&&n.d(r)}}}function Am(t){let e;return{c(){e=K("")},m(n,r){q(n,e,r)},d(n){n&&W(e)}}}function rc(t){let e,n,r,i,a=t[20]===t[63]&&Am();return{c(){e=y("option"),a&&a.c(),n=L(),r=K(t[63]),i=L(),e.__value=t[63],ke(e,e.__value)},m(s,o){q(s,e,o),a&&a.m(e,null),f(e,n),f(e,r),f(e,i)},p:yt,d(s){s&&W(e),a&&a.d()}}}function ic(t){let e,n,r;return n=new me({props:{icon:"warning"}}),{c(){e=y("span"),re(n.$$.fragment),h(e,"class","input-group-text text-warning"),h(e,"title",t[15])},m(i,a){q(i,e,a),te(n,e,null),r=!0},p(i,a){(!r||a[0]&32768)&&h(e,"title",i[15])},i(i){r||(j(n.$$.fragment,i),r=!0)},o(i){R(n.$$.fragment,i),r=!1},d(i){i&&W(e),ne(n)}}}function ac(t){let e,n=t[19]("preview.print.cancel")+"",r,i,a;return{c(){e=y("button"),r=K(n),h(e,"type","button"),h(e,"class","btn btn-primary"),e.disabled=t[17]},m(s,o){q(s,e,o),f(e,r),i||(a=Y(e,"click",t[23]),i=!0)},p(s,o){o[0]&524288&&n!==(n=s[19]("preview.print.cancel")+"")&&ie(r,n),o[0]&131072&&(e.disabled=s[17])},d(s){s&&W(e),i=!1,a()}}}function Dm(t){let e,n,r=t[19]("preview.print")+"",i,a;return e=new me({props:{icon:"print"}}),{c(){re(e.$$.fragment),n=L(),i=K(r)},m(s,o){te(e,s,o),q(s,n,o),q(s,i,o),a=!0},p(s,o){(!a||o[0]&524288)&&r!==(r=s[19]("preview.print")+"")&&ie(i,r)},i(s){a||(j(e.$$.fragment,s),a=!0)},o(s){R(e.$$.fragment,s),a=!1},d(s){s&&(W(n),W(i)),ne(e,s)}}}function Om(t){let e=t[19]("preview.not_connected")+"",n;return{c(){n=K(e)},m(r,i){q(r,n,i)},p(r,i){i[0]&524288&&e!==(e=r[19]("preview.not_connected")+"")&&ie(n,e)},i:yt,o:yt,d(r){r&&W(n)}}}function Lm(t){let e,n,r,i,a,s=t[19]("preview.title")+"",o,l,c,u,d,m,g,p,_,b,v,w,S,P,O,k,E,D,I=t[19]("preview.postprocess")+"",A,C,T,M,N=t[19]("preview.postprocess.threshold")+"",x,B,H=t[19]("preview.postprocess.atkinson")+"",V,Q,G,U,$,z,F=t[19]("preview.threshold")+"",Z,J,oe,_e,Le,be,xe,ae,de,X,Ee,Ne=t[19]("preview.copies")+"",we,Ve,Me,ve,Oe,We,ue,Pe,je=t[19]("preview.density")+"",De,se,le,qe,pe,ot,Re,at,Ze,Et,Vt=t[19]("preview.label_type")+"",gn,Cn,At,$t,Wt,qt,Dt,vn,Ye=t[19]("preview.print_task")+"",Ft,In,Ct,nn,dn,pr,st,Bn,ce=t[19]("preview.offset")+"",Se,Tn,hr,_r,Zt,ri,Ht,nr,Vn,Mn,ii,Yt,mr,rn,Je,rr=t[19]("preview.offset.inner")+"",Cr,Wn,Pn=t[19]("preview.offset.outer")+"",It,qn,ft,Fn,_t,Ot=t[19]("preview.close")+"",Bt,he,$e,mt,He,Ut,Qi,bt,xa,oo,Mt=t[13]>1&&Yl(t),Nt=t[13]>1&&Kl(t),an=t[13]>1&&Ql(t),fn=t[3]==="sending"&&Jl(),sn=t[3]==="printing"&&Xl(t),on=t[11]&&ec(t);G=new gr({props:{propName:"postProcess",value:t[7],savedValue:t[16].postProcess,onClick:t[25]}}),ae=new gr({props:{propName:"threshold",value:t[8],savedValue:t[16].threshold,onClick:t[25]}}),Oe=new gr({props:{propName:"quantity",value:t[6],savedValue:t[16].quantity,onClick:t[25]}}),Re=new gr({props:{propName:"density",value:t[5],savedValue:t[16].density,onClick:t[25]}});let Ir=Qe(Object.values(lt.LabelType)),Kt=[];for(let ee=0;ee<Ir.length;ee+=1)Kt[ee]=nc(Zl(t,Ir,ee));Wt=new gr({props:{propName:"labelType",value:t[10],savedValue:t[16].labelType,onClick:t[25]}});let Br=Qe(lt.printTaskNames),Qt=[];for(let ee=0;ee<Br.length;ee+=1)Qt[ee]=rc(Gl(t,Br,ee));dn=new gr({props:{propName:"printTaskName",value:t[9],savedValue:t[16].printTaskName,onClick:t[25]}});let jt=t[15]&&ic(t);Zt=new me({props:{icon:"unfold_more",class:"r-90"}}),Mn=new me({props:{icon:"unfold_more"}}),ft=new gr({props:{propName:"offset",value:t[14],savedValue:t[16].offset,onClick:t[25]}});let ln=t[3]!=="idle"&&ac(t);const lo=[Om,Dm],ir=[];function co(ee,Te){return ee[17]?0:1}return He=co(t),Ut=ir[He]=lo[He](t),{c(){var ee,Te;e=y("div"),n=y("div"),r=y("div"),i=y("div"),a=y("h1"),o=K(s),l=L(),c=y("button"),u=L(),d=y("div"),m=y("div"),Mt&&Mt.c(),g=L(),p=y("canvas"),b=L(),Nt&&Nt.c(),v=L(),an&&an.c(),w=L(),fn&&fn.c(),S=L(),sn&&sn.c(),P=L(),on&&on.c(),O=L(),k=y("div"),E=y("div"),D=y("span"),A=K(I),C=L(),T=y("select"),M=y("option"),x=K(N),B=y("option"),V=K(H),Q=L(),re(G.$$.fragment),U=L(),$=y("div"),z=y("span"),Z=K(F),J=L(),oe=y("input"),_e=L(),Le=y("span"),be=K(t[8]),xe=L(),re(ae.$$.fragment),de=L(),X=y("div"),Ee=y("span"),we=K(Ne),Ve=L(),Me=y("input"),ve=L(),re(Oe.$$.fragment),We=L(),ue=y("div"),Pe=y("span"),De=K(je),se=L(),le=y("input"),ot=L(),re(Re.$$.fragment),at=L(),Ze=y("div"),Et=y("span"),gn=K(Vt),Cn=L(),At=y("select");for(let kt=0;kt<Kt.length;kt+=1)Kt[kt].c();$t=L(),re(Wt.$$.fragment),qt=L(),Dt=y("div"),vn=y("span"),Ft=K(Ye),In=L(),Ct=y("select");for(let kt=0;kt<Qt.length;kt+=1)Qt[kt].c();nn=L(),re(dn.$$.fragment),pr=L(),st=y("div"),Bn=y("span"),Se=K(ce),Tn=L(),jt&&jt.c(),hr=L(),_r=y("span"),re(Zt.$$.fragment),ri=L(),Ht=y("input"),nr=L(),Vn=y("span"),re(Mn.$$.fragment),ii=L(),Yt=y("input"),mr=L(),rn=y("select"),Je=y("option"),Cr=K(rr),Wn=y("option"),It=K(Pn),qn=L(),re(ft.$$.fragment),Fn=L(),_t=y("button"),Bt=K(Ot),he=L(),ln&&ln.c(),$e=L(),mt=y("button"),Ut.c(),h(a,"class","modal-title fs-5"),h(c,"type","button"),h(c,"class","btn-close"),h(c,"data-bs-dismiss","modal"),h(i,"class","modal-header"),h(p,"class",_="print-start-"+t[0].printDirection+" svelte-wgb889"),h(m,"class","d-flex justify-content-center"),h(d,"class","modal-body text-center"),h(D,"class","input-group-text"),M.__value="threshold",ke(M,M.__value),B.__value="dither",ke(B,B.__value),h(T,"class","form-select"),t[7]===void 0&&wn(()=>t[35].call(T)),h(E,"class","input-group input-group-sm"),h(z,"class","input-group-text"),h(oe,"type","range"),h(oe,"id","threshold"),h(oe,"class","form-range svelte-wgb889"),h(oe,"min","1"),h(oe,"max","255"),h(Le,"class","input-group-text"),h($,"class","input-group input-group-sm svelte-wgb889"),h(Ee,"class","input-group-text"),h(Me,"class","form-control"),h(Me,"type","number"),h(Me,"min","1"),h(X,"class","input-group flex-nowrap input-group-sm"),h(Pe,"class","input-group-text"),h(le,"class","form-control"),h(le,"type","number"),h(le,"min",qe=((ee=t[18])==null?void 0:ee.densityMin)??1),h(le,"max",pe=((Te=t[18])==null?void 0:Te.densityMax)??20),h(ue,"class","input-group flex-nowrap input-group-sm"),h(Et,"class","input-group-text"),h(At,"class","form-select"),t[10]===void 0&&wn(()=>t[43].call(At)),h(Ze,"class","input-group input-group-sm"),h(vn,"class","input-group-text"),h(Ct,"class","form-select"),t[9]===void 0&&wn(()=>t[45].call(Ct)),h(Dt,"class","input-group input-group-sm"),h(Bn,"class","input-group-text"),h(_r,"class","input-group-text"),h(Ht,"class","form-control"),h(Ht,"type","number"),h(Vn,"class","input-group-text"),h(Yt,"class","form-control"),h(Yt,"type","number"),Je.__value="inner",ke(Je,Je.__value),Wn.__value="outer",ke(Wn,Wn.__value),h(rn,"class","form-select"),t[14].offsetType===void 0&&wn(()=>t[51].call(rn)),h(st,"class","input-group input-group-sm"),h(_t,"type","button"),h(_t,"class","btn btn-secondary"),h(_t,"data-bs-dismiss","modal"),h(mt,"type","button"),h(mt,"class","btn btn-primary"),mt.disabled=Qi=t[17]||t[3]!=="idle",h(k,"class","modal-footer"),h(r,"class","modal-content"),h(n,"class","modal-dialog modal-dialog-centered"),h(e,"class","modal fade"),h(e,"tabindex","-1")},m(ee,Te){q(ee,e,Te),f(e,n),f(n,r),f(r,i),f(i,a),f(a,o),f(i,l),f(i,c),f(r,u),f(r,d),f(d,m),Mt&&Mt.m(m,null),f(m,g),f(m,p),t[34](p),f(m,b),Nt&&Nt.m(m,null),f(d,v),an&&an.m(d,null),f(d,w),fn&&fn.m(d,null),f(d,S),sn&&sn.m(d,null),f(r,P),on&&on.m(r,null),f(r,O),f(r,k),f(k,E),f(E,D),f(D,A),f(E,C),f(E,T),f(T,M),f(M,x),f(T,B),f(B,V),xt(T,t[7],!0),f(E,Q),te(G,E,null),f(k,U),f(k,$),f($,z),f(z,Z),f($,J),f($,oe),ke(oe,t[8]),f($,_e),f($,Le),f(Le,be),f($,xe),te(ae,$,null),f(k,de),f(k,X),f(X,Ee),f(Ee,we),f(X,Ve),f(X,Me),ke(Me,t[6]),f(X,ve),te(Oe,X,null),f(k,We),f(k,ue),f(ue,Pe),f(Pe,De),f(ue,se),f(ue,le),ke(le,t[5]),f(ue,ot),te(Re,ue,null),f(k,at),f(k,Ze),f(Ze,Et),f(Et,gn),f(Ze,Cn),f(Ze,At);for(let kt=0;kt<Kt.length;kt+=1)Kt[kt]&&Kt[kt].m(At,null);xt(At,t[10],!0),f(Ze,$t),te(Wt,Ze,null),f(k,qt),f(k,Dt),f(Dt,vn),f(vn,Ft),f(Dt,In),f(Dt,Ct);for(let kt=0;kt<Qt.length;kt+=1)Qt[kt]&&Qt[kt].m(Ct,null);xt(Ct,t[9],!0),f(Dt,nn),te(dn,Dt,null),f(k,pr),f(k,st),f(st,Bn),f(Bn,Se),f(st,Tn),jt&&jt.m(st,null),f(st,hr),f(st,_r),te(Zt,_r,null),f(st,ri),f(st,Ht),ke(Ht,t[14].x),f(st,nr),f(st,Vn),te(Mn,Vn,null),f(st,ii),f(st,Yt),ke(Yt,t[14].y),f(st,mr),f(st,rn),f(rn,Je),f(Je,Cr),f(rn,Wn),f(Wn,It),xt(rn,t[14].offsetType,!0),f(st,qn),te(ft,st,null),f(k,Fn),f(k,_t),f(_t,Bt),f(k,he),ln&&ln.m(k,null),f(k,$e),f(k,mt),ir[He].m(mt,null),t[53](e),bt=!0,xa||(oo=[Y(T,"change",t[35]),Y(T,"change",t[36]),Y(oe,"change",t[37]),Y(oe,"input",t[37]),Y(oe,"change",t[38]),Y(Me,"input",t[39]),Y(Me,"change",t[40]),Y(le,"input",t[41]),Y(le,"change",t[42]),Y(At,"change",t[43]),Y(At,"change",t[44]),Y(Ct,"change",t[45]),Y(Ct,"change",t[46]),Y(Ht,"input",t[47]),Y(Ht,"change",t[48]),Y(Yt,"input",t[49]),Y(Yt,"change",t[50]),Y(rn,"change",t[51]),Y(rn,"change",t[52]),Y(mt,"click",t[24])],xa=!0)},p(ee,Te){var uo,fo;(!bt||Te[0]&524288)&&s!==(s=ee[19]("preview.title")+"")&&ie(o,s),ee[13]>1?Mt?(Mt.p(ee,Te),Te[0]&8192&&j(Mt,1)):(Mt=Yl(ee),Mt.c(),j(Mt,1),Mt.m(m,g)):Mt&&(Xe(),R(Mt,1,1,()=>{Mt=null}),et()),(!bt||Te[0]&1&&_!==(_="print-start-"+ee[0].printDirection+" svelte-wgb889"))&&h(p,"class",_),ee[13]>1?Nt?(Nt.p(ee,Te),Te[0]&8192&&j(Nt,1)):(Nt=Kl(ee),Nt.c(),j(Nt,1),Nt.m(m,null)):Nt&&(Xe(),R(Nt,1,1,()=>{Nt=null}),et()),ee[13]>1?an?an.p(ee,Te):(an=Ql(ee),an.c(),an.m(d,w)):an&&(an.d(1),an=null),ee[3]==="sending"?fn||(fn=Jl(),fn.c(),fn.m(d,S)):fn&&(fn.d(1),fn=null),ee[3]==="printing"?sn?sn.p(ee,Te):(sn=Xl(ee),sn.c(),sn.m(d,null)):sn&&(sn.d(1),sn=null),ee[11]?on?on.p(ee,Te):(on=ec(ee),on.c(),on.m(r,O)):on&&(on.d(1),on=null),(!bt||Te[0]&524288)&&I!==(I=ee[19]("preview.postprocess")+"")&&ie(A,I),(!bt||Te[0]&524288)&&N!==(N=ee[19]("preview.postprocess.threshold")+"")&&ie(x,N),(!bt||Te[0]&524288)&&H!==(H=ee[19]("preview.postprocess.atkinson")+"")&&ie(V,H),Te[0]&128&&xt(T,ee[7]);const kt={};Te[0]&128&&(kt.value=ee[7]),Te[0]&65536&&(kt.savedValue=ee[16].postProcess),G.$set(kt),(!bt||Te[0]&524288)&&F!==(F=ee[19]("preview.threshold")+"")&&ie(Z,F),Te[0]&256&&ke(oe,ee[8]),(!bt||Te[0]&256)&&ie(be,ee[8]);const Ra={};Te[0]&256&&(Ra.value=ee[8]),Te[0]&65536&&(Ra.savedValue=ee[16].threshold),ae.$set(Ra),(!bt||Te[0]&524288)&&Ne!==(Ne=ee[19]("preview.copies")+"")&&ie(we,Ne),Te[0]&64&&dt(Me.value)!==ee[6]&&ke(Me,ee[6]);const $a={};Te[0]&64&&($a.value=ee[6]),Te[0]&65536&&($a.savedValue=ee[16].quantity),Oe.$set($a),(!bt||Te[0]&524288)&&je!==(je=ee[19]("preview.density")+"")&&ie(De,je),(!bt||Te[0]&262144&&qe!==(qe=((uo=ee[18])==null?void 0:uo.densityMin)??1))&&h(le,"min",qe),(!bt||Te[0]&262144&&pe!==(pe=((fo=ee[18])==null?void 0:fo.densityMax)??20))&&h(le,"max",pe),Te[0]&32&&dt(le.value)!==ee[5]&&ke(le,ee[5]);const Ua={};if(Te[0]&32&&(Ua.value=ee[5]),Te[0]&65536&&(Ua.savedValue=ee[16].density),Re.$set(Ua),(!bt||Te[0]&524288)&&Vt!==(Vt=ee[19]("preview.label_type")+"")&&ie(gn,Vt),Te[0]&4980736){Ir=Qe(Object.values(lt.LabelType));let ut;for(ut=0;ut<Ir.length;ut+=1){const ai=Zl(ee,Ir,ut);Kt[ut]?Kt[ut].p(ai,Te):(Kt[ut]=nc(ai),Kt[ut].c(),Kt[ut].m(At,null))}for(;ut<Kt.length;ut+=1)Kt[ut].d(1);Kt.length=Ir.length}Te[0]&1024&&xt(At,ee[10]);const za={};if(Te[0]&1024&&(za.value=ee[10]),Te[0]&65536&&(za.savedValue=ee[16].labelType),Wt.$set(za),(!bt||Te[0]&524288)&&Ye!==(Ye=ee[19]("preview.print_task")+"")&&ie(Ft,Ye),Te[0]&1048576){Br=Qe(lt.printTaskNames);let ut;for(ut=0;ut<Br.length;ut+=1){const ai=Gl(ee,Br,ut);Qt[ut]?Qt[ut].p(ai,Te):(Qt[ut]=rc(ai),Qt[ut].c(),Qt[ut].m(Ct,null))}for(;ut<Qt.length;ut+=1)Qt[ut].d(1);Qt.length=Br.length}Te[0]&512&&xt(Ct,ee[9]);const Va={};Te[0]&512&&(Va.value=ee[9]),Te[0]&65536&&(Va.savedValue=ee[16].printTaskName),dn.$set(Va),(!bt||Te[0]&524288)&&ce!==(ce=ee[19]("preview.offset")+"")&&ie(Se,ce),ee[15]?jt?(jt.p(ee,Te),Te[0]&32768&&j(jt,1)):(jt=ic(ee),jt.c(),j(jt,1),jt.m(st,hr)):jt&&(Xe(),R(jt,1,1,()=>{jt=null}),et()),Te[0]&16384&&dt(Ht.value)!==ee[14].x&&ke(Ht,ee[14].x),Te[0]&16384&&dt(Yt.value)!==ee[14].y&&ke(Yt,ee[14].y),(!bt||Te[0]&524288)&&rr!==(rr=ee[19]("preview.offset.inner")+"")&&ie(Cr,rr),(!bt||Te[0]&524288)&&Pn!==(Pn=ee[19]("preview.offset.outer")+"")&&ie(It,Pn),Te[0]&16384&&xt(rn,ee[14].offsetType);const Wa={};Te[0]&16384&&(Wa.value=ee[14]),Te[0]&65536&&(Wa.savedValue=ee[16].offset),ft.$set(Wa),(!bt||Te[0]&524288)&&Ot!==(Ot=ee[19]("preview.close")+"")&&ie(Bt,Ot),ee[3]!=="idle"?ln?ln.p(ee,Te):(ln=ac(ee),ln.c(),ln.m(k,$e)):ln&&(ln.d(1),ln=null);let qa=He;He=co(ee),He===qa?ir[He].p(ee,Te):(Xe(),R(ir[qa],1,1,()=>{ir[qa]=null}),et(),Ut=ir[He],Ut?Ut.p(ee,Te):(Ut=ir[He]=lo[He](ee),Ut.c()),j(Ut,1),Ut.m(mt,null)),(!bt||Te[0]&131080&&Qi!==(Qi=ee[17]||ee[3]!=="idle"))&&(mt.disabled=Qi)},i(ee){bt||(j(Mt),j(Nt),j(G.$$.fragment,ee),j(ae.$$.fragment,ee),j(Oe.$$.fragment,ee),j(Re.$$.fragment,ee),j(Wt.$$.fragment,ee),j(dn.$$.fragment,ee),j(jt),j(Zt.$$.fragment,ee),j(Mn.$$.fragment,ee),j(ft.$$.fragment,ee),j(Ut),bt=!0)},o(ee){R(Mt),R(Nt),R(G.$$.fragment,ee),R(ae.$$.fragment,ee),R(Oe.$$.fragment,ee),R(Re.$$.fragment,ee),R(Wt.$$.fragment,ee),R(dn.$$.fragment,ee),R(jt),R(Zt.$$.fragment,ee),R(Mn.$$.fragment,ee),R(ft.$$.fragment,ee),R(Ut),bt=!1},d(ee){ee&&W(e),Mt&&Mt.d(),t[34](null),Nt&&Nt.d(),an&&an.d(),fn&&fn.d(),sn&&sn.d(),on&&on.d(),ne(G),ne(ae),ne(Oe),ne(Re),zt(Kt,ee),ne(Wt),zt(Qt,ee),ne(dn),jt&&jt.d(),ne(Zt),ne(Mn),ne(ft),ln&&ln.d(),ir[He].d(),t[53](null),xa=!1,ct(oo)}}}function Cm(t,e,n){let r,i,a,s;nt(t,Wi,pe=>n(18,i=pe)),nt(t,Rt,pe=>n(19,a=pe)),nt(t,ao,pe=>n(58,s=pe));let{onClosed:o}=e,{labelProps:l}=e,{canvasCallback:c}=e,{printNow:u=!1}=e,{csvData:d}=e,{csvEnabled:m}=e,g,p,_="idle",b,v=0,w=(i==null?void 0:i.densityDefault)??3,S=1,P,O=140,k,E,D="D110",I=lt.LabelType.WithGaps,A,C="",T=s==null?void 0:s.getPrintTaskType(),M,N=0,x=1,B={x:0,y:0,offsetType:"inner"},H="",V={};const Q=td(or,pe=>pe!=="connected");nt(t,Q,pe=>n(17,r=pe));const G=pe=>`preview.label_type.${pe}`,U=async()=>{clearInterval(A),!r&&_!=="idle"&&(await s.abstraction.printEnd(),s.startHeartbeat()),n(3,_="idle"),n(4,v=0)},$=async()=>{n(3,_="sending"),n(11,C=""),s.stopHeartbeat();for(let pe=0;pe<x;pe++){const ot=s.abstraction.newPrintTask(D,{totalPages:S,density:w,labelType:I,statusPollIntervalMs:100,statusTimeoutMs:8e3});n(12,N=pe),console.log("Printing page",N),await Le(N);const Re=lt.ImageEncoder.encodeCanvas(p,l.printDirection);try{await ot.printInit(),await ot.printPage(Re,S)}catch(Ze){n(11,C=`${Ze}`),console.error(Ze);return}n(3,_="printing");const at=Ze=>{n(4,v=Math.floor(Ze.page/S*((Ze.pagePrintProgress+Ze.pageFeedProgress)/2)))};s.on("printprogress",at);try{await ot.waitForFinished()}catch(Ze){n(11,C=`${Ze}`),console.error(Ze)}s.off("printprogress",at),await U()}n(3,_="idle"),s.startHeartbeat(),u&&!C&&b.hide()},z=()=>{let pe=hm(k);if(P==="threshold"?pe=_m(pe,O):P==="dither"&&(pe=mm(pe,O)),n(15,H=""),B.offsetType==="inner"?(n(2,p.width=k.width,p),n(2,p.height=k.height,p),E.fillStyle="white",E.fillRect(0,0,p.width,p.height),E.putImageData(pe,B.x,B.y)):(n(2,p.width=k.width+Math.abs(B.x),p),n(2,p.height=k.height+Math.abs(B.y),p),E.fillStyle="white",E.fillRect(0,0,p.width,p.height),E.putImageData(pe,Math.max(B.x,0),Math.max(B.y,0))),i!==void 0){const ot=l.printDirection=="left"?p.height:p.width;ot>i.printheadPixels&&(n(15,H+=a("params.label.warning.width")+" "),n(15,H+=`(${ot} > ${i.printheadPixels})`),n(15,H+=`
`))}},F=(pe,ot)=>{const Re=pe;n(16,V[Re]=V[Re]===void 0?ot:void 0,V);try{gt.savePreviewProps(V)}catch(at){vt.zodErrors(at,"Preview parameters save error:")}},Z=(pe,ot,Re=!1)=>{const at=pe;if(V[at]!==void 0){n(16,V[at]=ot,V);try{gt.savePreviewProps(V)}catch(Ze){vt.zodErrors(Ze,"Preview parameters save error:")}}Re&&z()},J=()=>{try{const pe=gt.loadSavedPreviewProps();if(pe===null)return;n(16,V=pe),pe.postProcess&&n(7,P=pe.postProcess),pe.threshold&&n(8,O=pe.threshold),pe.quantity&&n(6,S=pe.quantity),pe.density&&n(5,w=pe.density),pe.labelType&&n(10,I=pe.labelType),pe.printTaskName&&n(9,D=pe.printTaskName),pe.offset&&n(14,B=pe.offset)}catch(pe){vt.zodErrors(pe,"Preview parameters load error:")}},oe=()=>{if(!m){n(12,N=0);return}n(12,N=Math.max(0,Math.min(M.length-1,N-1))),Le(N)},_e=()=>{if(!m){n(12,N=0);return}n(12,N=Math.min(M.length-1,N+1)),Le(N)},Le=async pe=>new Promise(ot=>{const Re=new kd(null,{width:l.size.width,height:l.size.height});Re.setCustomBackground(!1),Re.setHighlightMirror(!1),Re.setLabelProps(l),Re.loadFromJSON(c(),()=>{let at={};m&&(pe>=0&&pe<M.length?at=M[pe]:console.warn(`Page ${pe} is out of csv bounds (csv length is ${M.length})`)),console.log("Page variables:",at),Em(Re,at),Re.createMirroredObjects(),Re.requestRenderAll();const Ze=Re.toCanvasElement(),Et=Ze.getContext("2d");n(2,p.width=Ze.width,p),n(2,p.height=Ze.height,p),E=p.getContext("2d"),k=Et.getImageData(0,0,Ze.width,Ze.height),z(),Re.dispose(),ot()})});ei(async()=>{m&&(M=vd(d),n(13,x=M.length)),b=new pm(g),b.show(),g.addEventListener("hidden.bs.modal",async()=>{U(),o()}),T!==void 0&&(console.log(`Detected print task version: ${T}`),n(9,D=T)),J(),await Le(N),u&&!r&&_==="idle"&&$()}),Ys(()=>{b&&(b.hide(),b.dispose())});function be(pe){Ar[pe?"unshift":"push"](()=>{p=pe,n(2,p)})}function xe(){P=Zn(this),n(7,P)}const ae=()=>Z("postProcess",P,!0);function de(){O=dt(this.value),n(8,O)}const X=()=>Z("threshold",O,!0);function Ee(){S=dt(this.value),n(6,S)}const Ne=()=>Z("quantity",S);function we(){w=dt(this.value),n(5,w)}const Ve=()=>Z("density",w);function Me(){I=Zn(this),n(10,I)}const ve=()=>Z("labelType",I);function Oe(){D=Zn(this),n(9,D)}const We=()=>Z("printTaskName",D);function ue(){B.x=dt(this.value),n(14,B)}const Pe=()=>Z("offset",B,!0);function je(){B.y=dt(this.value),n(14,B)}const De=()=>Z("offset",B,!0);function se(){B.offsetType=Zn(this),n(14,B)}const le=()=>Z("offset",B,!0);function qe(pe){Ar[pe?"unshift":"push"](()=>{g=pe,n(1,g)})}return t.$$set=pe=>{"onClosed"in pe&&n(29,o=pe.onClosed),"labelProps"in pe&&n(0,l=pe.labelProps),"canvasCallback"in pe&&n(30,c=pe.canvasCallback),"printNow"in pe&&n(31,u=pe.printNow),"csvData"in pe&&n(32,d=pe.csvData),"csvEnabled"in pe&&n(33,m=pe.csvEnabled)},[l,g,p,_,v,w,S,P,O,D,I,C,N,x,B,H,V,r,i,a,T,Q,G,U,$,F,Z,oe,_e,o,c,u,d,m,be,xe,ae,de,X,Ee,Ne,we,Ve,Me,ve,Oe,We,ue,Pe,je,De,se,le,qe]}class Im extends Pt{constructor(e){super(),Tt(this,e,Cm,Lm,wt,{onClosed:29,labelProps:0,canvasCallback:30,printNow:31,csvData:32,csvEnabled:33},null,[-1,-1,-1])}}function sc(t){let e,n,r,i,a,s,o,l,c,u,d,m,g,p,_;return r=new me({props:{icon:"auto_fix_high"}}),{c(){e=y("div"),n=y("span"),re(r.$$.fragment),a=L(),s=y("select"),o=y("option"),o.textContent="Level L",l=y("option"),l.textContent="Level M",c=y("option"),c.textContent="Level Q",u=y("option"),u.textContent="Level H",d=L(),m=y("textarea"),h(n,"class","input-group-text"),h(n,"title",i=t[3]("params.qrcode.ecl")),o.__value="L",ke(o,o.__value),l.__value="M",ke(l,l.__value),c.__value="Q",ke(c,c.__value),u.__value="H",ke(u,u.__value),h(s,"class","form-select"),t[2]===void 0&&wn(()=>t[8].call(s)),h(e,"class","input-group input-group-sm flex-nowrap svelte-1xne2y6"),h(m,"class","qrcode-content form-control svelte-1xne2y6")},m(b,v){q(b,e,v),f(e,n),te(r,n,null),f(e,a),f(e,s),f(s,o),f(s,l),f(s,c),f(s,u),xt(s,t[2],!0),q(b,d,v),q(b,m,v),ke(m,t[1]),g=!0,p||(_=[Y(s,"change",t[8]),Y(s,"change",t[5]),Y(m,"input",t[9]),Y(m,"input",t[4])],p=!0)},p(b,v){(!g||v&8&&i!==(i=b[3]("params.qrcode.ecl")))&&h(n,"title",i),v&4&&xt(s,b[2]),v&2&&ke(m,b[1])},i(b){g||(j(r.$$.fragment,b),g=!0)},o(b){R(r.$$.fragment,b),g=!1},d(b){b&&(W(e),W(d),W(m)),ne(r),p=!1,ct(_)}}}function Bm(t){let e,n,r=t[0]&&sc(t);return{c(){r&&r.c(),e=er()},m(i,a){r&&r.m(i,a),q(i,e,a),n=!0},p(i,[a]){i[0]?r?(r.p(i,a),a&1&&j(r,1)):(r=sc(i),r.c(),j(r,1),r.m(e.parentNode,e)):r&&(Xe(),R(r,1,1,()=>{r=null}),et())},i(i){n||(j(r),n=!0)},o(i){R(r),n=!1},d(i){i&&W(e),r&&r.d(i)}}}function Mm(t,e,n){let r;nt(t,Rt,p=>n(3,r=p));let{selectedObject:i}=e,{valueUpdated:a}=e,s,o,l;const c=()=>{n(1,o=s==null?void 0:s.text),n(2,l=s==null?void 0:s.ecl)},u=()=>{s&&(s.set({text:o}),a())},d=()=>{s&&(s.set({ecl:l}),a())};function m(){l=Zn(this),n(2,l)}function g(){o=this.value,n(1,o)}return t.$$set=p=>{"selectedObject"in p&&n(6,i=p.selectedObject),"valueUpdated"in p&&n(7,a=p.valueUpdated)},t.$$.update=()=>{t.$$.dirty&64&&(n(0,s=i instanceof Yn?i:void 0),c())},[s,o,l,r,u,d,i,a,m,g]}class Nm extends Pt{constructor(e){super(),Tt(this,e,Mm,Bm,wt,{selectedObject:6,valueUpdated:7})}}function oc(t,e,n){const r=t.slice();return r[25]=e[n],r}function lc(t){let e,n,r,i,a,s,o,l,c,u,d,m,g,p,_,b,v,w,S,P,O,k,E,D,I,A,C,T,M,N,x,B,H,V,Q,G,U,$,z,F,Z,J,oe,_e,Le,be,xe,ae,de,X,Ee,Ne,we,Ve,Me,ve,Oe,We,ue,Pe,je,De,se,le,qe,pe,ot,Re,at,Ze,Et,Vt,gn,Cn,At,$t,Wt,qt,Dt,vn,Ye,Ft,In;n=new me({props:{icon:"format_align_left"}}),o=new me({props:{icon:"format_align_center"}}),m=new me({props:{icon:"format_align_right"}});const Ct=[Rm,xm,jm],nn=[];function dn(ce,Se){return ce[0].originY==="top"?0:ce[0].originY==="center"?1:ce[0].originY==="bottom"?2:-1}~(w=dn(t))&&(S=nn[w]=Ct[w](t)),D=new me({props:{icon:"vertical_align_top"}}),M=new me({props:{icon:"vertical_align_center"}}),V=new me({props:{icon:"vertical_align_bottom"}}),z=new me({props:{icon:"format_bold"}}),_e=new me({props:{icon:"invert_colors"}}),X=new me({props:{icon:"format_size"}}),ve=new me({props:{icon:"text_increase"}}),Pe=new me({props:{icon:"text_decrease"}}),qe=new me({props:{icon:"density_medium"}}),Vt=new me({props:{icon:"text_format"}});const pr=[Um,$m],st=[];function Bn(ce,Se){return ce[3]?0:1}return At=Bn(t),$t=st[At]=pr[At](t),Dt=new me({props:{icon:"edit"}}),{c(){e=y("button"),re(n.$$.fragment),a=L(),s=y("button"),re(o.$$.fragment),u=L(),d=y("button"),re(m.$$.fragment),_=L(),b=y("div"),v=y("button"),S&&S.c(),O=L(),k=y("div"),E=y("button"),re(D.$$.fragment),C=L(),T=y("button"),re(M.$$.fragment),B=L(),H=y("button"),re(V.$$.fragment),U=L(),$=y("button"),re(z.$$.fragment),J=L(),oe=y("button"),re(_e.$$.fragment),xe=L(),ae=y("div"),de=y("span"),re(X.$$.fragment),Ne=L(),we=y("input"),Ve=L(),Me=y("button"),re(ve.$$.fragment),We=L(),ue=y("button"),re(Pe.$$.fragment),De=L(),se=y("div"),le=y("span"),re(qe.$$.fragment),ot=L(),Re=y("input"),at=L(),Ze=y("div"),Et=y("span"),re(Vt.$$.fragment),Cn=L(),$t.c(),Wt=L(),qt=y("button"),re(Dt.$$.fragment),h(e,"title",r=t[2]("params.text.align.left")),h(e,"class",i="btn btn-sm "+(t[0].textAlign==="left"?"btn-secondary":"")),h(s,"title",l=t[2]("params.text.align.center")),h(s,"class",c="btn btn-sm "+(t[0].textAlign==="center"?"btn-secondary":"")),h(d,"title",g=t[2]("params.text.align.right")),h(d,"class",p="btn btn-sm "+(t[0].textAlign==="right"?"btn-secondary":"")),h(v,"class","btn btn-sm dropdown-toggle"),h(v,"type","button"),h(v,"data-bs-toggle","dropdown"),h(v,"title",P=t[2]("params.text.vorigin")),h(E,"class",I="btn btn-sm "+(t[0].originY==="top"?"btn-secondary":"")),h(E,"title",A=t[2]("params.text.vorigin.top")),h(T,"class",N="btn btn-sm "+(t[0].originY==="center"?"btn-secondary":"")),h(T,"title",x=t[2]("params.text.vorigin.center")),h(H,"class",Q="btn btn-sm "+(t[0].originY==="bottom"?"btn-secondary":"")),h(H,"title",G=t[2]("params.text.vorigin.bottom")),h(k,"class","dropdown-menu p-2"),h(b,"class","dropdown"),h($,"class",F="btn btn-sm "+(t[0].fontWeight==="bold"?"btn-secondary":"")),h($,"title",Z=t[2]("params.text.bold")),h(oe,"class",Le="btn btn-sm "+(t[0].backgroundColor==="black"?"btn-secondary":"")),h(oe,"title",be=t[2]("params.text.invert_colors")),h(de,"class","input-group-text"),h(de,"title",Ee=t[2]("params.text.font_size")),h(we,"type","number"),h(we,"min","1"),h(we,"max","999"),h(we,"step","2"),h(we,"class","form-control"),h(Me,"class","btn btn-secondary"),h(Me,"title",Oe=t[2]("params.text.font_size.up")),h(ue,"class","btn btn-secondary"),h(ue,"title",je=t[2]("params.text.font_size.down")),h(ae,"class","input-group flex-nowrap input-group-sm font-size svelte-yc2w4w"),h(le,"class","input-group-text"),h(le,"title",pe=t[2]("params.text.line_height")),h(Re,"type","number"),h(Re,"min","0.1"),h(Re,"step","0.1"),h(Re,"max","10"),h(Re,"class","form-control"),h(se,"class","input-group flex-nowrap input-group-sm svelte-yc2w4w"),h(Et,"class","input-group-text"),h(Et,"title",gn=t[2]("params.text.font_family")),h(Ze,"class","input-group flex-nowrap input-group-sm font-family svelte-yc2w4w"),h(qt,"class","btn btn-sm btn-secondary"),h(qt,"title",vn=t[2]("params.text.edit"))},m(ce,Se){q(ce,e,Se),te(n,e,null),q(ce,a,Se),q(ce,s,Se),te(o,s,null),q(ce,u,Se),q(ce,d,Se),te(m,d,null),q(ce,_,Se),q(ce,b,Se),f(b,v),~w&&nn[w].m(v,null),f(b,O),f(b,k),f(k,E),te(D,E,null),f(k,C),f(k,T),te(M,T,null),f(k,B),f(k,H),te(V,H,null),q(ce,U,Se),q(ce,$,Se),te(z,$,null),q(ce,J,Se),q(ce,oe,Se),te(_e,oe,null),q(ce,xe,Se),q(ce,ae,Se),f(ae,de),te(X,de,null),f(ae,Ne),f(ae,we),ke(we,t[0].fontSize),f(ae,Ve),f(ae,Me),te(ve,Me,null),f(ae,We),f(ae,ue),te(Pe,ue,null),q(ce,De,Se),q(ce,se,Se),f(se,le),te(qe,le,null),f(se,ot),f(se,Re),ke(Re,t[0].lineHeight),q(ce,at,Se),q(ce,Ze,Se),f(Ze,Et),te(Vt,Et,null),f(Ze,Cn),st[At].m(Ze,null),q(ce,Wt,Se),q(ce,qt,Se),te(Dt,qt,null),Ye=!0,Ft||(In=[Y(e,"click",t[15]),Y(s,"click",t[16]),Y(d,"click",t[17]),Y(E,"click",t[18]),Y(T,"click",t[19]),Y(H,"click",t[20]),Y($,"click",t[4]),Y(oe,"click",t[5]),Y(we,"input",t[21]),Y(we,"input",t[12]),Y(Me,"click",t[8]),Y(ue,"click",t[9]),Y(Re,"input",t[22]),Y(Re,"input",t[12]),Y(qt,"click",t[10])],Ft=!0)},p(ce,Se){(!Ye||Se&4&&r!==(r=ce[2]("params.text.align.left")))&&h(e,"title",r),(!Ye||Se&3&&i!==(i="btn btn-sm "+(ce[0].textAlign==="left"?"btn-secondary":"")))&&h(e,"class",i),(!Ye||Se&4&&l!==(l=ce[2]("params.text.align.center")))&&h(s,"title",l),(!Ye||Se&3&&c!==(c="btn btn-sm "+(ce[0].textAlign==="center"?"btn-secondary":"")))&&h(s,"class",c),(!Ye||Se&4&&g!==(g=ce[2]("params.text.align.right")))&&h(d,"title",g),(!Ye||Se&3&&p!==(p="btn btn-sm "+(ce[0].textAlign==="right"?"btn-secondary":"")))&&h(d,"class",p);let Tn=w;w=dn(ce),w!==Tn&&(S&&(Xe(),R(nn[Tn],1,1,()=>{nn[Tn]=null}),et()),~w?(S=nn[w],S||(S=nn[w]=Ct[w](ce),S.c()),j(S,1),S.m(v,null)):S=null),(!Ye||Se&4&&P!==(P=ce[2]("params.text.vorigin")))&&h(v,"title",P),(!Ye||Se&3&&I!==(I="btn btn-sm "+(ce[0].originY==="top"?"btn-secondary":"")))&&h(E,"class",I),(!Ye||Se&4&&A!==(A=ce[2]("params.text.vorigin.top")))&&h(E,"title",A),(!Ye||Se&3&&N!==(N="btn btn-sm "+(ce[0].originY==="center"?"btn-secondary":"")))&&h(T,"class",N),(!Ye||Se&4&&x!==(x=ce[2]("params.text.vorigin.center")))&&h(T,"title",x),(!Ye||Se&3&&Q!==(Q="btn btn-sm "+(ce[0].originY==="bottom"?"btn-secondary":"")))&&h(H,"class",Q),(!Ye||Se&4&&G!==(G=ce[2]("params.text.vorigin.bottom")))&&h(H,"title",G),(!Ye||Se&3&&F!==(F="btn btn-sm "+(ce[0].fontWeight==="bold"?"btn-secondary":"")))&&h($,"class",F),(!Ye||Se&4&&Z!==(Z=ce[2]("params.text.bold")))&&h($,"title",Z),(!Ye||Se&3&&Le!==(Le="btn btn-sm "+(ce[0].backgroundColor==="black"?"btn-secondary":"")))&&h(oe,"class",Le),(!Ye||Se&4&&be!==(be=ce[2]("params.text.invert_colors")))&&h(oe,"title",be),(!Ye||Se&4&&Ee!==(Ee=ce[2]("params.text.font_size")))&&h(de,"title",Ee),Se&3&&dt(we.value)!==ce[0].fontSize&&ke(we,ce[0].fontSize),(!Ye||Se&4&&Oe!==(Oe=ce[2]("params.text.font_size.up")))&&h(Me,"title",Oe),(!Ye||Se&4&&je!==(je=ce[2]("params.text.font_size.down")))&&h(ue,"title",je),(!Ye||Se&4&&pe!==(pe=ce[2]("params.text.line_height")))&&h(le,"title",pe),Se&3&&dt(Re.value)!==ce[0].lineHeight&&ke(Re,ce[0].lineHeight),(!Ye||Se&4&&gn!==(gn=ce[2]("params.text.font_family")))&&h(Et,"title",gn),$t.p(ce,Se),(!Ye||Se&4&&vn!==(vn=ce[2]("params.text.edit")))&&h(qt,"title",vn)},i(ce){Ye||(j(n.$$.fragment,ce),j(o.$$.fragment,ce),j(m.$$.fragment,ce),j(S),j(D.$$.fragment,ce),j(M.$$.fragment,ce),j(V.$$.fragment,ce),j(z.$$.fragment,ce),j(_e.$$.fragment,ce),j(X.$$.fragment,ce),j(ve.$$.fragment,ce),j(Pe.$$.fragment,ce),j(qe.$$.fragment,ce),j(Vt.$$.fragment,ce),j($t),j(Dt.$$.fragment,ce),Ye=!0)},o(ce){R(n.$$.fragment,ce),R(o.$$.fragment,ce),R(m.$$.fragment,ce),R(S),R(D.$$.fragment,ce),R(M.$$.fragment,ce),R(V.$$.fragment,ce),R(z.$$.fragment,ce),R(_e.$$.fragment,ce),R(X.$$.fragment,ce),R(ve.$$.fragment,ce),R(Pe.$$.fragment,ce),R(qe.$$.fragment,ce),R(Vt.$$.fragment,ce),R($t),R(Dt.$$.fragment,ce),Ye=!1},d(ce){ce&&(W(e),W(a),W(s),W(u),W(d),W(_),W(b),W(U),W($),W(J),W(oe),W(xe),W(ae),W(De),W(se),W(at),W(Ze),W(Wt),W(qt)),ne(n),ne(o),ne(m),~w&&nn[w].d(),ne(D),ne(M),ne(V),ne(z),ne(_e),ne(X),ne(ve),ne(Pe),ne(qe),ne(Vt),st[At].d(),ne(Dt),Ft=!1,ct(In)}}}function jm(t){let e,n;return e=new me({props:{icon:"vertical_align_bottom"}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function xm(t){let e,n;return e=new me({props:{icon:"vertical_align_center"}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function Rm(t){let e,n;return e=new me({props:{icon:"vertical_align_top"}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function $m(t){let e,n,r;return{c(){e=y("input"),h(e,"type","text"),h(e,"class","form-control")},m(i,a){q(i,e,a),ke(e,t[0].fontFamily),n||(r=[Y(e,"input",t[24]),Y(e,"input",t[12])],n=!0)},p(i,a){a&3&&e.value!==i[0].fontFamily&&ke(e,i[0].fontFamily)},i:yt,o:yt,d(i){i&&W(e),n=!1,ct(r)}}}function Um(t){let e,n,r,i,a,s,o,l,c=Qe(t[1]),u=[];for(let d=0;d<c.length;d+=1)u[d]=cc(oc(t,c,d));return i=new me({props:{icon:"refresh"}}),{c(){e=y("select");for(let d=0;d<u.length;d+=1)u[d].c();n=L(),r=y("button"),re(i.$$.fragment),h(e,"class","form-select"),t[0].fontFamily===void 0&&wn(()=>t[23].call(e)),h(r,"class","btn btn-secondary"),h(r,"title",a=t[2]("params.text.fetch_fonts"))},m(d,m){q(d,e,m);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(e,null);xt(e,t[0].fontFamily,!0),q(d,n,m),q(d,r,m),te(i,r,null),s=!0,o||(l=[Y(e,"change",t[23]),Y(e,"change",t[12]),Y(r,"click",t[11])],o=!0)},p(d,m){if(m&2){c=Qe(d[1]);let g;for(g=0;g<c.length;g+=1){const p=oc(d,c,g);u[g]?u[g].p(p,m):(u[g]=cc(p),u[g].c(),u[g].m(e,null))}for(;g<u.length;g+=1)u[g].d(1);u.length=c.length}m&3&&xt(e,d[0].fontFamily),(!s||m&4&&a!==(a=d[2]("params.text.fetch_fonts")))&&h(r,"title",a)},i(d){s||(j(i.$$.fragment,d),s=!0)},o(d){R(i.$$.fragment,d),s=!1},d(d){d&&(W(e),W(n),W(r)),zt(u,d),ne(i),o=!1,ct(l)}}}function cc(t){let e,n=t[25]+"",r,i;return{c(){e=y("option"),r=K(n),e.__value=i=t[25],ke(e,e.__value),yn(e,"font-family",t[25])},m(a,s){q(a,e,s),f(e,r)},p(a,s){s&2&&n!==(n=a[25]+"")&&ie(r,n),s&2&&i!==(i=a[25])&&(e.__value=i,ke(e,e.__value)),s&2&&yn(e,"font-family",a[25])},d(a){a&&W(e)}}}function zm(t){let e,n,r=t[0]&&lc(t);return{c(){r&&r.c(),e=er()},m(i,a){r&&r.m(i,a),q(i,e,a),n=!0},p(i,[a]){i[0]?r?(r.p(i,a),a&1&&j(r,1)):(r=lc(i),r.c(),j(r,1),r.m(e.parentNode,e)):r&&(Xe(),R(r,1,1,()=>{r=null}),et())},i(i){n||(j(r),n=!0)},o(i){R(r),n=!1},d(i){i&&W(e),r&&r.d(i)}}}function Vm(t,e,n){let r;nt(t,Rt,T=>n(2,r=T));let{selectedObject:i}=e,{valueUpdated:a}=e,s,o=typeof queryLocalFonts<"u",l=[Di.fontFamily];const c=()=>{s.fontWeight==="bold"?n(0,s.fontWeight="normal",s):n(0,s.fontWeight="bold",s),v()},u=()=>{s.backgroundColor==="black"?s.set({backgroundColor:"transparent",fill:"black"}):s.set({backgroundColor:"black",fill:"white"}),v()},d=T=>{n(0,s.textAlign=T,s);const M=s.getPointByOrigin("left","top");n(0,s.originX=T,s),s.setPositionByOrigin(M,"left","top"),v()},m=T=>{const M=s.getPointByOrigin("left","top");n(0,s.originY=T,s),s.setPositionByOrigin(M,"left","top"),v()},g=()=>{n(0,s.fontSize+=s.fontSize>40?10:2,s),v()},p=()=>{n(0,s.fontSize-=s.fontSize>40?10:2,s),v()},_=()=>{const T=prompt(r("params.text.edit.title"),s.text);T!==null&&(s.set({text:T}),v())},b=async()=>{try{const T=await queryLocalFonts();n(1,l=[Di.fontFamily,...new Set(T.map(M=>M.family))].sort()),console.log(l)}catch(T){vt.error(T)}},v=()=>{n(0,s.fontSize=Math.max(s.fontSize,1),s),a()},w=()=>d("left"),S=()=>d("center"),P=()=>d("right"),O=()=>m("top"),k=()=>m("center"),E=()=>m("bottom");function D(){s.fontSize=dt(this.value),n(0,s),n(13,i),n(1,l)}function I(){s.lineHeight=dt(this.value),n(0,s),n(13,i),n(1,l)}function A(){s.fontFamily=Zn(this),n(0,s),n(13,i),n(1,l)}function C(){s.fontFamily=this.value,n(0,s),n(13,i),n(1,l)}return t.$$set=T=>{"selectedObject"in T&&n(13,i=T.selectedObject),"valueUpdated"in T&&n(14,a=T.valueUpdated)},t.$$.update=()=>{t.$$.dirty&8192&&n(0,s=i instanceof it.fabric.IText?i:void 0)},[s,l,r,o,c,u,d,m,g,p,_,b,v,i,a,w,S,P,O,k,E,D,I,A,C]}class Wm extends Pt{constructor(e){super(),Tt(this,e,Vm,zm,wt,{selectedObject:13,valueUpdated:14})}}function qm(t){let e,n,r,i,a,s,o,l,c,u=t[0]("params.variables.insert.datetime")+"",d,m,g,p,_,b=t[0]("params.variables.insert.date")+"",v,w,S,P,O,k=t[0]("params.variables.insert.time")+"",E,D,I,A,C;return r=new me({props:{icon:"data_object"}}),l=new me({props:{icon:"calendar_today"}}),p=new me({props:{icon:"calendar_today"}}),P=new me({props:{icon:"schedule"}}),{c(){e=y("div"),n=y("button"),re(r.$$.fragment),i=L(),a=y("div"),s=y("div"),o=y("button"),re(l.$$.fragment),c=L(),d=K(u),m=L(),g=y("button"),re(p.$$.fragment),_=L(),v=K(b),w=L(),S=y("button"),re(P.$$.fragment),O=L(),E=K(k),h(n,"class","btn btn-sm btn-secondary dropdown-toggle"),h(n,"data-bs-toggle","dropdown"),h(n,"data-bs-auto-close","outside"),h(o,"class","btn btn-secondary btn-sm"),h(g,"class","btn btn-secondary btn-sm"),h(S,"class","btn btn-secondary btn-sm"),h(s,"class","d-flex gap-1 flex-wrap"),h(a,"class","dropdown-menu px-2"),h(e,"class","btn-group btn-group-sm"),h(e,"role","group"),h(e,"title",D=t[0]("params.variables.insert"))},m(T,M){q(T,e,M),f(e,n),te(r,n,null),f(e,i),f(e,a),f(a,s),f(s,o),te(l,o,null),f(o,c),f(o,d),f(s,m),f(s,g),te(p,g,null),f(g,_),f(g,v),f(s,w),f(s,S),te(P,S,null),f(S,O),f(S,E),I=!0,A||(C=[Y(o,"click",t[4]),Y(g,"click",t[5]),Y(S,"click",t[6])],A=!0)},p(T,[M]){(!I||M&1)&&u!==(u=T[0]("params.variables.insert.datetime")+"")&&ie(d,u),(!I||M&1)&&b!==(b=T[0]("params.variables.insert.date")+"")&&ie(v,b),(!I||M&1)&&k!==(k=T[0]("params.variables.insert.time")+"")&&ie(E,k),(!I||M&1&&D!==(D=T[0]("params.variables.insert")))&&h(e,"title",D)},i(T){I||(j(r.$$.fragment,T),j(l.$$.fragment,T),j(p.$$.fragment,T),j(P.$$.fragment,T),I=!0)},o(T){R(r.$$.fragment,T),R(l.$$.fragment,T),R(p.$$.fragment,T),R(P.$$.fragment,T),I=!1},d(T){T&&W(e),ne(r),ne(l),ne(p),ne(P),A=!1,ct(C)}}}function Fm(t,e,n){let r;nt(t,Rt,u=>n(0,r=u));let{selectedObject:i}=e,{valueUpdated:a}=e;const s=u=>{let d="{dt}";u&&(d=`{dt|${u}}`),i instanceof it.fabric.IText?(i.exitEditing(),i.set({text:`${i.text}${d}`})):i instanceof Yn?i.set({text:`${i.text}${d}`}):i instanceof jn&&i.set({text:`${i.text}${d}`}),a()},o=()=>s(),l=()=>s("YYYY-MM-DD"),c=()=>s("HH:mm:ss");return t.$$set=u=>{"selectedObject"in u&&n(2,i=u.selectedObject),"valueUpdated"in u&&n(3,a=u.valueUpdated)},[r,s,i,a,o,l,c]}class Hm extends Pt{constructor(e){super(),Tt(this,e,Fm,qm,wt,{selectedObject:2,valueUpdated:3})}}const so=class so{static cloneObject(e,n){return new Promise(r=>{n.clone(i=>{i.snapAngle=pn.snapAngle,i.top+=kr,i.left+=kr,e.add(i),e.setActiveObject(i),r()})})}static moveSelection(e,n,r){const i=e.getActiveObjects(),a=r?1:kr;i.forEach(s=>{n==="left"?s.left=Math.round(s.left)-a:n==="right"?s.left=Math.round(s.left)+a:n==="up"?s.top=Math.round(s.top)-a:n==="down"&&(s.top=Math.round(s.top)+a),s.setCoords()}),e.requestRenderAll()}static deleteSelection(e){e.getActiveObjects().forEach(r=>{e.remove(r)})}};so.isAnyInputFocused=e=>{const n=document.activeElement;return!!(n!==null&&(n.tagName==="INPUT"||n.tagName==="TEXTAREA")||e.getActiveObjects().some(a=>a instanceof it.fabric.IText&&a.isEditing))};let yr=so;function uc(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function Gm(t){let e,n,r,i,a;n=new me({props:{icon:"delete"}});function s(...o){return t[16](t[20],...o)}return{c(){e=y("button"),re(n.$$.fragment),h(e,"class","remove btn text-danger-emphasis svelte-12aqlao")},m(o,l){q(o,e,l),te(n,e,null),r=!0,i||(a=Y(e,"click",s),i=!0)},p(o,l){t=o},i(o){r||(j(n.$$.fragment,o),r=!0)},o(o){R(n.$$.fragment,o),r=!1},d(o){o&&W(e),ne(n),i=!1,a()}}}function Zm(t){let e,n,r,i,a,s,o,l;n=new me({props:{icon:"delete"}});function c(...u){return t[14](t[20],...u)}return a=new me({props:{icon:"close"}}),{c(){e=y("button"),re(n.$$.fragment),r=L(),i=y("button"),re(a.$$.fragment),h(e,"class","remove btn text-danger-emphasis svelte-12aqlao"),h(i,"class","remove btn text-success svelte-12aqlao")},m(u,d){q(u,e,d),te(n,e,null),q(u,r,d),q(u,i,d),te(a,i,null),s=!0,o||(l=[Y(e,"click",c),Y(i,"click",t[15])],o=!0)},p(u,d){t=u},i(u){s||(j(n.$$.fragment,u),j(a.$$.fragment,u),s=!0)},o(u){R(n.$$.fragment,u),R(a.$$.fragment,u),s=!1},d(u){u&&(W(e),W(r),W(i)),ne(n),ne(a),o=!1,ct(l)}}}function dc(t){let e,n;return{c(){e=y("img"),h(e,"class","thumbnail svelte-12aqlao"),Oo(e.src,n=t[18].thumbnailBase64)||h(e,"src",n),h(e,"alt","thumbnail")},m(r,i){q(r,e,i)},p(r,i){i&2&&!Oo(e.src,n=r[18].thumbnailBase64)&&h(e,"src",n)},d(r){r&&W(e)}}}function fc(t){let e,n=t[18].title+"",r;return{c(){e=y("span"),r=K(n),h(e,"class","label p-1 svelte-12aqlao")},m(i,a){q(i,e,a),f(e,r)},p(i,a){a&2&&n!==(n=i[18].title+"")&&ie(r,n)},d(i){i&&W(e)}}}function pc(t){let e,n,r,i,a,s,o,l,c,u,d,m,g,p,_,b,v;a=new me({props:{icon:"download"}});function w(...I){return t[13](t[20],...I)}const S=[Zm,Gm],P=[];function O(I,A){return I[3]===I[20]?0:1}l=O(t),c=P[l]=S[l](t);let k=t[18].thumbnailBase64&&dc(t),E=t[18].title&&fc(t);function D(){return t[17](t[20])}return{c(){e=y("button"),n=y("div"),r=y("div"),i=y("button"),re(a.$$.fragment),o=L(),c.c(),u=L(),k&&k.c(),d=L(),E&&E.c(),g=L(),h(i,"class","btn text-primary-emphasis svelte-12aqlao"),h(i,"title",s=t[4]("params.saved_labels.save.json")),h(r,"class","buttons d-flex svelte-12aqlao"),h(n,"class",m="card print-start-"+t[18].label.printDirection+" d-flex justify-content-center align-items-center svelte-12aqlao"),yn(n,"width",t[5](t[18].label).width+"%"),yn(n,"height",t[5](t[18].label).height+"%"),h(e,"class",p="btn p-0 card-wrapper d-flex justify-content-center align-items-center "+(t[2]===t[20]?"border-primary":"")+" svelte-12aqlao")},m(I,A){q(I,e,A),f(e,n),f(n,r),f(r,i),te(a,i,null),f(r,o),P[l].m(r,null),f(n,u),k&&k.m(n,null),f(n,d),E&&E.m(n,null),f(e,g),_=!0,b||(v=[Y(i,"click",w),Y(e,"click",D)],b=!0)},p(I,A){t=I,(!_||A&16&&s!==(s=t[4]("params.saved_labels.save.json")))&&h(i,"title",s);let C=l;l=O(t),l===C?P[l].p(t,A):(Xe(),R(P[C],1,1,()=>{P[C]=null}),et(),c=P[l],c?c.p(t,A):(c=P[l]=S[l](t),c.c()),j(c,1),c.m(r,null)),t[18].thumbnailBase64?k?k.p(t,A):(k=dc(t),k.c(),k.m(n,d)):k&&(k.d(1),k=null),t[18].title?E?E.p(t,A):(E=fc(t),E.c(),E.m(n,null)):E&&(E.d(1),E=null),(!_||A&2&&m!==(m="card print-start-"+t[18].label.printDirection+" d-flex justify-content-center align-items-center svelte-12aqlao"))&&h(n,"class",m),(!_||A&2)&&yn(n,"width",t[5](t[18].label).width+"%"),(!_||A&2)&&yn(n,"height",t[5](t[18].label).height+"%"),(!_||A&4&&p!==(p="btn p-0 card-wrapper d-flex justify-content-center align-items-center "+(t[2]===t[20]?"border-primary":"")+" svelte-12aqlao"))&&h(e,"class",p)},i(I){_||(j(a.$$.fragment,I),j(c),_=!0)},o(I){R(a.$$.fragment,I),R(c),_=!1},d(I){I&&W(e),ne(a),P[l].d(),k&&k.d(),E&&E.d(),b=!1,ct(v)}}}function Ym(t){let e,n,r,i=Qe(t[1]),a=[];for(let o=0;o<i.length;o+=1)a[o]=pc(uc(t,i,o));const s=o=>R(a[o],1,1,()=>{a[o]=null});return{c(){e=y("div");for(let o=0;o<a.length;o+=1)a[o].c();h(e,"class",n="labels-browser overflow-y-auto border d-flex p-2 gap-1 flex-wrap "+t[10].class+" svelte-12aqlao")},m(o,l){q(o,e,l);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(e,null);r=!0},p(o,[l]){if(l&1023){i=Qe(o[1]);let c;for(c=0;c<i.length;c+=1){const u=uc(o,i,c);a[c]?(a[c].p(u,l),j(a[c],1)):(a[c]=pc(u),a[c].c(),j(a[c],1),a[c].m(e,null))}for(Xe(),c=i.length;c<a.length;c+=1)s(c);et()}(!r||l&1024&&n!==(n="labels-browser overflow-y-auto border d-flex p-2 gap-1 flex-wrap "+o[10].class+" svelte-12aqlao"))&&h(e,"class",n)},i(o){if(!r){for(let l=0;l<i.length;l+=1)j(a[l]);r=!0}},o(o){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)R(a[l]);r=!1},d(o){o&&W(e),zt(a,o)}}}function Km(t,e,n){let r;nt(t,Rt,P=>n(4,r=P));let{onItemClicked:i}=e,{onItemDelete:a}=e,{onItemExport:s}=e,{labels:o}=e,{selectedIndex:l=-1}=e,c=-1;const u=P=>{const O=Math.min(100/P.size.width,100/P.size.height);return{width:Math.round(P.size.width*O),height:Math.round(P.size.height*O)}},d=(P,O)=>{P.stopPropagation(),n(3,c=-1),a(O)},m=P=>{P.stopPropagation(),n(3,c=-1)},g=(P,O)=>{P.stopPropagation(),n(3,c=O)},p=(P,O)=>{P.stopPropagation(),s(O)},_=(P,O)=>p(O,P),b=(P,O)=>d(O,P),v=P=>m(P),w=(P,O)=>g(O,P),S=P=>i(P);return t.$$set=P=>{n(10,e=Gr(Gr({},e),Si(P))),"onItemClicked"in P&&n(0,i=P.onItemClicked),"onItemDelete"in P&&n(11,a=P.onItemDelete),"onItemExport"in P&&n(12,s=P.onItemExport),"labels"in P&&n(1,o=P.labels),"selectedIndex"in P&&n(2,l=P.selectedIndex)},e=Si(e),[i,o,l,c,r,u,d,m,g,p,e,a,s,_,b,v,w,S]}class Qm extends Pt{constructor(e){super(),Tt(this,e,Km,Ym,wt,{onItemClicked:0,onItemDelete:11,onItemExport:12,labels:1,selectedIndex:2})}}function hc(t){let e,n,r,i,a;return n=new me({props:{icon:"close"}}),{c(){e=y("button"),re(n.$$.fragment),h(e,"class","btn text-secondary")},m(s,o){q(s,e,o),te(n,e,null),r=!0,i||(a=Y(e,"click",t[12]),i=!0)},p:yt,i(s){r||(j(n.$$.fragment,s),r=!0)},o(s){R(n.$$.fragment,s),r=!1},d(s){s&&W(e),ne(n),i=!1,a()}}}function _c(t){let e,n,r,i=t[6]("params.saved_labels.save.browser.replace")+"",a,s,o,l,c,u=t[6]("params.saved_labels.load.browser")+"",d,m,g,p;return n=new me({props:{icon:"edit_note"}}),l=new me({props:{icon:"folder"}}),{c(){e=y("button"),re(n.$$.fragment),r=L(),a=K(i),s=L(),o=y("button"),re(l.$$.fragment),c=L(),d=K(u),h(e,"class","btn btn-sm btn-secondary"),h(o,"class","btn btn-sm btn-primary")},m(_,b){q(_,e,b),te(n,e,null),f(e,r),f(e,a),q(_,s,b),q(_,o,b),te(l,o,null),f(o,c),f(o,d),m=!0,g||(p=[Y(e,"click",t[10]),Y(o,"click",t[14])],g=!0)},p(_,b){(!m||b&64)&&i!==(i=_[6]("params.saved_labels.save.browser.replace")+"")&&ie(a,i),(!m||b&64)&&u!==(u=_[6]("params.saved_labels.load.browser")+"")&&ie(d,u)},i(_){m||(j(n.$$.fragment,_),j(l.$$.fragment,_),m=!0)},o(_){R(n.$$.fragment,_),R(l.$$.fragment,_),m=!1},d(_){_&&(W(e),W(s),W(o)),ne(n),ne(l),g=!1,ct(p)}}}function Jm(t){let e,n,r,i,a,s,o=t[6]("params.saved_labels.menu_title")+"",l,c,u,d,m=t[6]("params.saved_labels.kb_used")+"",g,p,_,b,v,w,S,P=t[6]("params.saved_labels.load.json")+"",O,k,E,D,I,A,C=t[6]("params.saved_labels.save.json")+"",T,M,N,x,B,H,V,Q,G,U,$,z,F=t[6]("params.saved_labels.label_title")+"",Z,J,oe,_e,Le,be,xe,ae,de=t[6]("params.saved_labels.make_default")+"",X,Ee,Ne,we,Ve,Me,ve=t[6]("params.saved_labels.save.browser")+"",Oe,We,ue,Pe,je;r=new me({props:{icon:"sd_storage"}}),w=new me({props:{icon:"data_object"}}),I=new me({props:{icon:"data_object"}}),G=new Qm({props:{class:"mb-1",selectedIndex:t[2],labels:t[1],onItemClicked:t[7],onItemDelete:t[9],onItemExport:t[8]}});let De=t[5]&&hc(t);Ve=new me({props:{icon:"save"}});let se=t[2]!==-1&&_c(t);return{c(){e=y("div"),n=y("button"),re(r.$$.fragment),i=L(),a=y("div"),s=y("h6"),l=K(o),c=K(" - "),u=K(t[4]),d=L(),g=K(m),p=L(),_=y("div"),b=y("div"),v=y("button"),re(w.$$.fragment),S=L(),O=K(P),k=L(),E=y("div"),D=y("button"),re(I.$$.fragment),A=L(),T=K(C),M=L(),N=y("button"),N.innerHTML="",x=L(),B=y("ul"),H=y("li"),V=y("button"),V.textContent="PNG",Q=L(),re(G.$$.fragment),U=L(),$=y("div"),z=y("span"),Z=K(F),J=L(),oe=y("input"),Le=L(),be=y("div"),xe=y("div"),ae=y("button"),X=K(de),Ee=L(),De&&De.c(),Ne=L(),we=y("button"),re(Ve.$$.fragment),Me=L(),Oe=K(ve),We=L(),se&&se.c(),h(n,"class","btn btn-sm btn-secondary"),h(n,"data-bs-toggle","dropdown"),h(n,"data-bs-auto-close","outside"),h(s,"class","dropdown-header text-wrap"),h(v,"class","btn btn-sm btn-outline-secondary"),h(D,"class","btn btn-outline-secondary"),h(N,"type","button"),h(N,"class","btn btn-outline-secondary dropdown-toggle dropdown-toggle-split"),h(N,"data-bs-toggle","dropdown"),h(V,"class","dropdown-item"),h(B,"class","dropdown-menu"),h(E,"class","btn-group btn-group-sm"),h(b,"class","p-1"),h(z,"class","input-group-text"),h(oe,"class","form-control"),h(oe,"type","text"),h(oe,"placeholder",_e=t[6]("params.saved_labels.label_title.placeholder")),h($,"class","input-group flex-nowrap input-group-sm mb-3"),h(ae,"class","btn text-secondary"),h(xe,"class","btn-group btn-group-sm make-default svelte-1j8gtpw"),h(we,"class","btn btn-sm btn-secondary"),h(be,"class","d-flex gap-1 flex-wrap justify-content-end"),h(_,"class","px-3"),h(a,"class","saved-labels dropdown-menu svelte-1j8gtpw"),h(e,"class","dropdown")},m(le,qe){q(le,e,qe),f(e,n),te(r,n,null),f(e,i),f(e,a),f(a,s),f(s,l),f(s,c),f(s,u),f(s,d),f(s,g),f(a,p),f(a,_),f(_,b),f(b,v),te(w,v,null),f(v,S),f(v,O),f(b,k),f(b,E),f(E,D),te(I,D,null),f(D,A),f(D,T),f(E,M),f(E,N),f(E,x),f(E,B),f(B,H),f(H,V),f(_,Q),te(G,_,null),f(_,U),f(_,$),f($,z),f(z,Z),f($,J),f($,oe),ke(oe,t[3]),f(_,Le),f(_,be),f(be,xe),f(xe,ae),f(ae,X),f(xe,Ee),De&&De.m(xe,null),f(be,Ne),f(be,we),te(Ve,we,null),f(we,Me),f(we,Oe),f(be,We),se&&se.m(be,null),t[22](a),ue=!0,Pe||(je=[Y(v,"click",t[15]),Y(D,"click",t[16]),Y(V,"click",t[17]),Y(oe,"input",t[21]),Y(ae,"click",t[11]),Y(we,"click",t[13])],Pe=!0)},p(le,[qe]){(!ue||qe&64)&&o!==(o=le[6]("params.saved_labels.menu_title")+"")&&ie(l,o),(!ue||qe&16)&&ie(u,le[4]),(!ue||qe&64)&&m!==(m=le[6]("params.saved_labels.kb_used")+"")&&ie(g,m),(!ue||qe&64)&&P!==(P=le[6]("params.saved_labels.load.json")+"")&&ie(O,P),(!ue||qe&64)&&C!==(C=le[6]("params.saved_labels.save.json")+"")&&ie(T,C);const pe={};qe&4&&(pe.selectedIndex=le[2]),qe&2&&(pe.labels=le[1]),G.$set(pe),(!ue||qe&64)&&F!==(F=le[6]("params.saved_labels.label_title")+"")&&ie(Z,F),(!ue||qe&64&&_e!==(_e=le[6]("params.saved_labels.label_title.placeholder")))&&h(oe,"placeholder",_e),qe&8&&oe.value!==le[3]&&ke(oe,le[3]),(!ue||qe&64)&&de!==(de=le[6]("params.saved_labels.make_default")+"")&&ie(X,de),le[5]?De?(De.p(le,qe),qe&32&&j(De,1)):(De=hc(le),De.c(),j(De,1),De.m(xe,null)):De&&(Xe(),R(De,1,1,()=>{De=null}),et()),(!ue||qe&64)&&ve!==(ve=le[6]("params.saved_labels.save.browser")+"")&&ie(Oe,ve),le[2]!==-1?se?(se.p(le,qe),qe&4&&j(se,1)):(se=_c(le),se.c(),j(se,1),se.m(be,null)):se&&(Xe(),R(se,1,1,()=>{se=null}),et())},i(le){ue||(j(r.$$.fragment,le),j(w.$$.fragment,le),j(I.$$.fragment,le),j(G.$$.fragment,le),j(De),j(Ve.$$.fragment,le),j(se),ue=!0)},o(le){R(r.$$.fragment,le),R(w.$$.fragment,le),R(I.$$.fragment,le),R(G.$$.fragment,le),R(De),R(Ve.$$.fragment,le),R(se),ue=!1},d(le){le&&W(e),ne(r),ne(w),ne(I),ne(G),De&&De.d(),ne(Ve),se&&se.d(),t[22](null),Pe=!1,ct(je)}}}function Xm(t,e,n){let r;nt(t,Rt,T=>n(6,r=T));let{onRequestLabelTemplate:i}=e,{onLoadRequested:a}=e,{canvas:s}=e,o,l=[],c=-1,u="",d=0,m=gt.hasCustomDefaultTemplate();const g=()=>{n(4,d=gt.usedSpace())},p=T=>{n(2,c=T),n(3,u=l[T].title??"")},_=T=>{try{Sn.saveLabelAsJson(l[T])}catch(M){vt.zodErrors(M,"Canvas save error:")}},b=T=>{n(2,c=-1);const M=[...l];M.splice(T,1),gt.saveLabels(M),n(1,l=M),n(3,u=""),g()},v=T=>{const{zodErrors:M,otherErrors:N}=gt.saveLabels(T);M.forEach(x=>vt.zodErrors(x,"Label save error")),N.forEach(x=>vt.error(x)),M.length===0&&N.length===0&&n(1,l=T),g()},w=()=>{if(c===-1||!confirm(r("editor.warning.save")))return;const T=i();T.title=u;const M=[...l];M[c]=T,v(M)},S=()=>{const T=i();T.title=u,T.thumbnailBase64=void 0,gt.saveDefaultTemplate(T),n(5,m=!0),g()},P=()=>{gt.saveDefaultTemplate(void 0),n(5,m=!1),g()},O=()=>{const T=i();T.title=u;const M=[...l,T];v(M)},k=()=>{c!==-1&&confirm(r("editor.warning.load"))&&(a(l[c]),new ys(o).hide())},E=async()=>{const T=await Sn.pickAndReadTextFile("json"),M=JSON.parse(T);if(confirm(r("editor.warning.load")))try{a(vr.parse(M)),new ys(o).hide()}catch(N){vt.zodErrors(N,"Canvas load error:")}},D=()=>{try{Sn.saveLabelAsJson(i())}catch(T){vt.zodErrors(T,"Canvas save error:")}},I=()=>{try{Sn.saveCanvasAsPng(s)}catch(T){vt.zodErrors(T,"Canvas save error:")}};ei(()=>{n(1,l=gt.loadLabels()),g()});function A(){u=this.value,n(3,u)}function C(T){Ar[T?"unshift":"push"](()=>{o=T,n(0,o)})}return t.$$set=T=>{"onRequestLabelTemplate"in T&&n(18,i=T.onRequestLabelTemplate),"onLoadRequested"in T&&n(19,a=T.onLoadRequested),"canvas"in T&&n(20,s=T.canvas)},[o,l,c,u,d,m,r,p,_,b,w,S,P,O,k,E,D,I,i,a,s,A,C]}class e1 extends Pt{constructor(e){super(),Tt(this,e,Xm,Jm,wt,{onRequestLabelTemplate:18,onLoadRequested:19,canvas:20})}}function mc(t){let e,n,r,i,a,s;return n=new me({props:{icon:"delete"}}),{c(){e=y("button"),re(n.$$.fragment),h(e,"class","btn btn-sm btn-danger me-1"),h(e,"title",r=t[12]("editor.delete"))},m(o,l){q(o,e,l),te(n,e,null),i=!0,a||(s=Y(e,"click",t[14]),a=!0)},p(o,l){(!i||l[0]&4096&&r!==(r=o[12]("editor.delete")))&&h(e,"title",r)},i(o){i||(j(n.$$.fragment,o),i=!0)},o(o){R(n.$$.fragment,o),i=!1},d(o){o&&W(e),ne(n),a=!1,s()}}}function bc(t){let e,n,r,i,a,s,o,l;return n=new me({props:{icon:"content_copy"}}),a=new j_({props:{selectedObject:t[5],valueUpdated:t[26]}}),{c(){e=y("button"),re(n.$$.fragment),i=L(),re(a.$$.fragment),h(e,"class","btn btn-sm btn-secondary me-1"),h(e,"title",r=t[12]("editor.clone"))},m(c,u){q(c,e,u),te(n,e,null),q(c,i,u),te(a,c,u),s=!0,o||(l=Y(e,"click",t[15]),o=!0)},p(c,u){(!s||u[0]&4096&&r!==(r=c[12]("editor.clone")))&&h(e,"title",r);const d={};u[0]&32&&(d.selectedObject=c[5]),a.$set(d)},i(c){s||(j(n.$$.fragment,c),j(a.$$.fragment,c),s=!0)},o(c){R(n.$$.fragment,c),R(a.$$.fragment,c),s=!1},d(c){c&&(W(e),W(i)),ne(n),ne(a,c),o=!1,l()}}}function gc(t){let e,n;return e=new Wm({props:{selectedObject:t[5],valueUpdated:t[26]}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p(r,i){const a={};i[0]&32&&(a.selectedObject=r[5]),e.$set(a)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function vc(t){let e,n;return e=new Nm({props:{selectedObject:t[5],valueUpdated:t[26]}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p(r,i){const a={};i[0]&32&&(a.selectedObject=r[5]),e.$set(a)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function yc(t){let e,n;return e=new E_({props:{selectedObject:t[5],valueUpdated:t[26]}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p(r,i){const a={};i[0]&32&&(a.selectedObject=r[5]),e.$set(a)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function wc(t){let e,n;return e=new Hm({props:{selectedObject:t[5],valueUpdated:t[26]}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p(r,i){const a={};i[0]&32&&(a.selectedObject=r[5]),e.$set(a)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function kc(t){let e,n;return e=new Im({props:{onClosed:t[23],canvasCallback:t[27],labelProps:t[1],printNow:t[7],csvEnabled:t[9],csvData:t[8]}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p(r,i){const a={};i[0]&2&&(a.labelProps=r[1]),i[0]&128&&(a.printNow=r[7]),i[0]&512&&(a.csvEnabled=r[9]),i[0]&256&&(a.csvData=r[8]),e.$set(a)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function t1(t){let e,n,r,i,a,s,o,l,c,u,d,m,g,p,_,b,v,w,S,P,O,k,E,D,I,A,C,T,M,N,x,B,H,V=t[12]("editor.preview")+"",Q,G,U,$,z,F=t[12]("editor.print")+"",Z,J,oe,_e,Le,be,xe,ae,de,X,Ee,Ne,we,Ve,Me;d=new X_({props:{labelProps:t[1],onChange:t[17]}}),g=new e1({props:{canvas:t[0],onRequestLabelTemplate:t[18],onLoadRequested:t[19]}}),b=new me({props:{icon:"undo"}}),O=new me({props:{icon:"redo"}}),I=new B_({props:{csv:t[8],enabled:t[9],onUpdate:t[28],onPlaceholderPicked:t[29]}}),C=new $_({props:{onSubmit:t[22]}}),M=new om({props:{onSubmit:t[21],labelProps:t[1],zplImageReady:t[20]}}),B=new me({props:{icon:"visibility"}}),$=new me({props:{icon:"print"}});let ve=t[6]>0&&mc(t),Oe=t[5]&&t[6]===1&&bc(t),We=t[5]instanceof t[2].IText&&gc(t),ue=t[5]instanceof Yn&&vc(t),Pe=t[5]instanceof jn&&yc(t),je=(t[5]instanceof t[2].IText||t[5]instanceof Yn||t[5]instanceof jn&&t[5].encoding==="CODE128B")&&wc(t),De=t[4]&&kc(t);return{c(){e=y("div"),n=y("div"),r=y("div"),i=y("div"),a=y("canvas"),o=L(),l=y("div"),c=y("div"),u=y("div"),re(d.$$.fragment),m=L(),re(g.$$.fragment),p=L(),_=y("button"),re(b.$$.fragment),S=L(),P=y("button"),re(O.$$.fragment),D=L(),re(I.$$.fragment),A=L(),re(C.$$.fragment),T=L(),re(M.$$.fragment),N=L(),x=y("button"),re(B.$$.fragment),H=L(),Q=K(V),G=L(),U=y("button"),re($.$$.fragment),z=L(),Z=K(F),oe=L(),_e=y("div"),Le=y("div"),be=y("div"),ve&&ve.c(),xe=L(),Oe&&Oe.c(),ae=L(),We&&We.c(),de=L(),ue&&ue.c(),X=L(),Pe&&Pe.c(),Ee=L(),je&&je.c(),Ne=L(),De&&De.c(),h(a,"class","svelte-kxgoj8"),h(i,"class",s="canvas-wrapper print-start-"+t[1].printDirection+" svelte-kxgoj8"),h(r,"class","col d-flex justify-content-center"),h(n,"class","row mb-3"),h(_,"class","btn btn-sm btn-secondary"),_.disabled=v=t[11].undoDisabled,h(_,"title",w=t[12]("editor.undo")),h(P,"class","btn btn-sm btn-secondary"),P.disabled=k=t[11].redoDisabled,h(P,"title",E=t[12]("editor.redo")),h(x,"class","btn btn-sm btn-primary ms-1"),h(U,"title","Print with default or saved parameters"),h(U,"class","btn btn-sm btn-primary ms-1"),U.disabled=J=t[13]!=="connected",h(u,"class","toolbar d-flex flex-wrap gap-1 justify-content-center align-items-center"),h(c,"class","col d-flex justify-content-center"),h(l,"class","row mb-1"),h(be,"class","toolbar d-flex flex-wrap gap-1 justify-content-center align-items-center"),h(Le,"class","col d-flex justify-content-center"),h(_e,"class","row mb-1"),h(e,"class","image-editor")},m(se,le){q(se,e,le),f(e,n),f(n,r),f(r,i),f(i,a),t[31](a),f(e,o),f(e,l),f(l,c),f(c,u),te(d,u,null),f(u,m),te(g,u,null),f(u,p),f(u,_),te(b,_,null),f(u,S),f(u,P),te(O,P,null),f(u,D),te(I,u,null),f(u,A),te(C,u,null),f(u,T),te(M,u,null),f(u,N),f(u,x),te(B,x,null),f(x,H),f(x,Q),f(u,G),f(u,U),te($,U,null),f(U,z),f(U,Z),f(e,oe),f(e,_e),f(_e,Le),f(Le,be),ve&&ve.m(be,null),f(be,xe),Oe&&Oe.m(be,null),f(be,ae),We&&We.m(be,null),f(be,de),ue&&ue.m(be,null),f(be,X),Pe&&Pe.m(be,null),f(be,Ee),je&&je.m(be,null),f(e,Ne),De&&De.m(e,null),we=!0,Ve||(Me=[Y(window,"keydown",t[16]),Y(window,"paste",t[30]),Y(_,"click",t[32]),Y(P,"click",t[33]),Y(x,"click",t[24]),Y(U,"click",t[25])],Ve=!0)},p(se,le){(!we||le[0]&2&&s!==(s="canvas-wrapper print-start-"+se[1].printDirection+" svelte-kxgoj8"))&&h(i,"class",s);const qe={};le[0]&2&&(qe.labelProps=se[1]),d.$set(qe);const pe={};le[0]&1&&(pe.canvas=se[0]),g.$set(pe),(!we||le[0]&2048&&v!==(v=se[11].undoDisabled))&&(_.disabled=v),(!we||le[0]&4096&&w!==(w=se[12]("editor.undo")))&&h(_,"title",w),(!we||le[0]&2048&&k!==(k=se[11].redoDisabled))&&(P.disabled=k),(!we||le[0]&4096&&E!==(E=se[12]("editor.redo")))&&h(P,"title",E);const ot={};le[0]&256&&(ot.csv=se[8]),le[0]&512&&(ot.enabled=se[9]),I.$set(ot);const Re={};le[0]&2&&(Re.labelProps=se[1]),M.$set(Re),(!we||le[0]&4096)&&V!==(V=se[12]("editor.preview")+"")&&ie(Q,V),(!we||le[0]&4096)&&F!==(F=se[12]("editor.print")+"")&&ie(Z,F),(!we||le[0]&8192&&J!==(J=se[13]!=="connected"))&&(U.disabled=J),se[6]>0?ve?(ve.p(se,le),le[0]&64&&j(ve,1)):(ve=mc(se),ve.c(),j(ve,1),ve.m(be,xe)):ve&&(Xe(),R(ve,1,1,()=>{ve=null}),et()),se[5]&&se[6]===1?Oe?(Oe.p(se,le),le[0]&96&&j(Oe,1)):(Oe=bc(se),Oe.c(),j(Oe,1),Oe.m(be,ae)):Oe&&(Xe(),R(Oe,1,1,()=>{Oe=null}),et()),se[5]instanceof se[2].IText?We?(We.p(se,le),le[0]&36&&j(We,1)):(We=gc(se),We.c(),j(We,1),We.m(be,de)):We&&(Xe(),R(We,1,1,()=>{We=null}),et()),se[5]instanceof Yn?ue?(ue.p(se,le),le[0]&32&&j(ue,1)):(ue=vc(se),ue.c(),j(ue,1),ue.m(be,X)):ue&&(Xe(),R(ue,1,1,()=>{ue=null}),et()),se[5]instanceof jn?Pe?(Pe.p(se,le),le[0]&32&&j(Pe,1)):(Pe=yc(se),Pe.c(),j(Pe,1),Pe.m(be,Ee)):Pe&&(Xe(),R(Pe,1,1,()=>{Pe=null}),et()),se[5]instanceof se[2].IText||se[5]instanceof Yn||se[5]instanceof jn&&se[5].encoding==="CODE128B"?je?(je.p(se,le),le[0]&36&&j(je,1)):(je=wc(se),je.c(),j(je,1),je.m(be,null)):je&&(Xe(),R(je,1,1,()=>{je=null}),et()),se[4]?De?(De.p(se,le),le[0]&16&&j(De,1)):(De=kc(se),De.c(),j(De,1),De.m(e,null)):De&&(Xe(),R(De,1,1,()=>{De=null}),et())},i(se){we||(j(d.$$.fragment,se),j(g.$$.fragment,se),j(b.$$.fragment,se),j(O.$$.fragment,se),j(I.$$.fragment,se),j(C.$$.fragment,se),j(M.$$.fragment,se),j(B.$$.fragment,se),j($.$$.fragment,se),j(ve),j(Oe),j(We),j(ue),j(Pe),j(je),j(De),we=!0)},o(se){R(d.$$.fragment,se),R(g.$$.fragment,se),R(b.$$.fragment,se),R(O.$$.fragment,se),R(I.$$.fragment,se),R(C.$$.fragment,se),R(M.$$.fragment,se),R(B.$$.fragment,se),R($.$$.fragment,se),R(ve),R(Oe),R(We),R(ue),R(Pe),R(je),R(De),we=!1},d(se){se&&W(e),t[31](null),ne(d),ne(g),ne(b),ne(O),ne(I),ne(C),ne(M),ne(B),ne($),ve&&ve.d(),Oe&&Oe.d(),We&&We.d(),ue&&ue.d(),Pe&&Pe.d(),je&&je.d(),De&&De.d(),Ve=!1,ct(Me)}}}function n1(t,e,n){let r,i,a;nt(t,bd,F=>n(34,r=F)),nt(t,Rt,F=>n(12,i=F)),nt(t,or,F=>n(13,a=F));let s,o,l=nd,c=!1,u,d=0,m=!1,g="",p=!1;const _=new y_;let b={undoDisabled:!1,redoDisabled:!1};const v=()=>{o.discardActiveObject(),o.requestRenderAll(),n(5,u=void 0),n(6,d=0)},w=async F=>{n(10,_.paused=!0,_),E(F.label),await Sn.loadCanvasState(o,F.canvas),n(10,_.paused=!1,_)};_.onLabelUpdate=w,_.onStateUpdate=F=>{n(11,b=F)};const S=()=>{yr.deleteSelection(o),v()},P=()=>{u&&yr.cloneObject(o,u).then(()=>_.push(o,l))},O=(F,Z)=>{yr.moveSelection(o,F,Z),_.push(o,l)},k=F=>{const Z=F.key.toLowerCase();if(Z==="escape"){v();return}if(!yr.isAnyInputFocused(o)){if(Z.startsWith("arrow")){O(Z.slice(5),F.ctrlKey);return}if(!F.repeat){if(F.ctrlKey&&Z==="d"){F.preventDefault(),P();return}if(F.ctrlKey&&Z==="y"||F.ctrlKey&&F.shiftKey&&Z==="z"){F.preventDefault(),b.redoDisabled||_.redo();return}if(F.ctrlKey&&Z==="z"){F.preventDefault(),b.undoDisabled||_.undo();return}if(Z==="delete"){S();return}}}},E=F=>{n(1,l=F),o.setDimensions(l.size);try{gt.saveLastLabelProps(l),_.push(o,l)}catch(Z){vt.zodErrors(Z,"Label parameters save error:")}},D=()=>Sn.makeExportedLabel(o,l),I=F=>{w(F).then(()=>_.push(o,l))},A=F=>{Nn.addImageBlob(o,F).then(()=>_.push(o,l))},C=F=>{const Z=Nn.addObject(o,F);Z!==void 0&&(o.setActiveObject(Z),_.push(o,l))},T=F=>{Nn.addStaticText(o,String.fromCodePoint(ma[F]),{fontFamily:"Material Icons",fontSize:100}),_.push(o,l)},M=()=>{n(7,m=!1),n(4,c=!1)},N=()=>{n(7,m=!1),n(4,c=!0)},x=()=>{n(7,m=!0),n(4,c=!0)},B=()=>{o.requestRenderAll(),n(5,u)},H=()=>o.toJSON(),V=(F,Z)=>{n(8,g=Z),n(9,p=F),gt.saveCsv(g)},Q=F=>{const Z=Nn.addText(o,`{${F}}`,{textAlign:"left",originX:"left",originY:"top"});o.setActiveObject(Z),_.push(o,l)},G=async F=>{if(!(yr.isAnyInputFocused(o)||document.querySelectorAll(".dropdown-menu.show").length>0)&&F.clipboardData!=null){F.preventDefault();const J=await Nn.addObjectFromClipboard(o,F.clipboardData);J!==void 0&&(o.setActiveObject(J),_.push(o,l))}};ei(()=>{const F=gt.loadCsv();n(8,g=F.data);try{const J=gt.loadLastLabelProps();J!==null&&n(1,l=J)}catch(J){vt.zodErrors(J,"Label parameters load error:")}n(2,it.fabric.disableStyleCopyPaste=!0,it.fabric),n(0,o=new kd(s,{width:l.size.width,height:l.size.height})),o.setLabelProps(l);const Z=gt.loadDefaultTemplate();try{Z!==null?I(Z):Nn.addText(o,i("editor.default_text"))}catch(J){vt.error(J)}if(_.push(o,l),o.on("mouse:down",()=>{document.querySelectorAll("[data-bs-toggle='dropdown']").forEach(oe=>new ys(oe).hide())}),o.on("object:moving",J=>{J.target&&J.target.left!==void 0&&J.target.top!==void 0&&J.target.set({left:Math.round(J.target.left/kr)*kr,top:Math.round(J.target.top/kr)*kr})}),o.on("object:modified",()=>{_.push(o,l)}),o.on("object:removed",()=>{_.push(o,l)}),o.on("selection:created",J=>{var oe,_e;n(6,d=((oe=J.selected)==null?void 0:oe.length)??0),n(5,u=((_e=J.selected)==null?void 0:_e.length)===1?J.selected[0]:void 0)}),o.on("selection:updated",J=>{var oe,_e;n(6,d=((oe=J.selected)==null?void 0:oe.length)??0),n(5,u=((_e=J.selected)==null?void 0:_e.length)===1?J.selected[0]:void 0)}),o.on("selection:cleared",()=>{n(5,u=void 0),n(6,d=0)}),o.on("drop",J=>{var _e;const oe=J.e;oe.preventDefault(),(_e=oe.dataTransfer)!=null&&_e.files&&[...oe.dataTransfer.files].forEach(Le=>{Nn.addImageFile(o,Le),_.push(o,l)})}),o.on("object:scaling",J=>{J.target&&J.target instanceof jn&&J.target.width!==void 0&&J.target.height!==void 0&&J.target.set({width:Math.round(J.target.width*(J.target.scaleX??1)),height:Math.round(J.target.height*(J.target.scaleY??1)),scaleX:1,scaleY:1})}),r!==void 0&&r.startPrint!==void 0){if(r.startPrint==="immediately")N();else if(r.startPrint==="after_connect"){const J=or.subscribe(oe=>{oe==="connected"&&(vu().then(()=>J()),x())})}}}),Ys(()=>{o.dispose()});function U(F){Ar[F?"unshift":"push"](()=>{s=F,n(3,s)})}const $=()=>_.undo(),z=()=>_.redo();return t.$$.update=()=>{t.$$.dirty[0]&3&&(o==null||o.setLabelProps(l))},[o,l,it.fabric,s,c,u,d,m,g,p,_,b,i,a,S,P,k,E,D,I,A,C,T,M,N,x,B,H,V,Q,G,U,$,z]}class r1 extends Pt{constructor(e){super(),Tt(this,e,n1,t1,wt,{},null,[-1,-1])}}function Tc(t,e,n){const r=t.slice();return r[26]=e[n][0],r[27]=e[n][1],r}function Pc(t,e,n){const r=t.slice();return r[26]=e[n][0],r[27]=e[n][1],r}function Ec(t,e,n){const r=t.slice();return r[26]=e[n][0],r[27]=e[n][1],r}function Sc(t,e,n){const r=t.slice();return r[26]=e[n][0],r[27]=e[n][1],r}function i1(t){let e,n,r,i,a=t[2].webBluetooth&&Ac(t),s=t[2].webSerial&&Dc(t),o=t[2].capacitorBle&&Oc(t);return{c(){a&&a.c(),e=L(),s&&s.c(),n=L(),o&&o.c(),r=er()},m(l,c){a&&a.m(l,c),q(l,e,c),s&&s.m(l,c),q(l,n,c),o&&o.m(l,c),q(l,r,c),i=!0},p(l,c){l[2].webBluetooth?a?(a.p(l,c),c[0]&4&&j(a,1)):(a=Ac(l),a.c(),j(a,1),a.m(e.parentNode,e)):a&&(Xe(),R(a,1,1,()=>{a=null}),et()),l[2].webSerial?s?(s.p(l,c),c[0]&4&&j(s,1)):(s=Dc(l),s.c(),j(s,1),s.m(n.parentNode,n)):s&&(Xe(),R(s,1,1,()=>{s=null}),et()),l[2].capacitorBle?o?(o.p(l,c),c[0]&4&&j(o,1)):(o=Oc(l),o.c(),j(o,1),o.m(r.parentNode,r)):o&&(Xe(),R(o,1,1,()=>{o=null}),et())},i(l){i||(j(a),j(s),j(o),i=!0)},o(l){R(a),R(s),R(o),i=!1},d(l){l&&(W(e),W(n),W(r)),a&&a.d(l),s&&s.d(l),o&&o.d(l)}}}function a1(t){var $;let e,n,r,i,a,s,o,l,c,u,d,m,g,p,_,b,v,w,S,P,O,k,E,D,I,A=((($=t[5])==null?void 0:$.model)??t[8])+"",C,T,M,N,x,B;n=new me({props:{icon:"settings"}});let H=t[4]&&Lc(t),V=t[5]&&Ic(t),Q=t[1]&&Mc(t),G=t[6]&&jc(t),U=t[6]&&Rc(t);return{c(){e=y("button"),re(n.$$.fragment),r=L(),i=y("div"),H&&H.c(),a=L(),V&&V.c(),s=L(),Q&&Q.c(),o=L(),G&&G.c(),l=L(),c=y("div"),c.textContent="Tests",u=L(),d=y("button"),d.textContent="Rfid",m=L(),g=y("button"),g.textContent="Heartbeat on",p=L(),_=y("button"),_.textContent="Heartbeat off",b=L(),v=y("button"),v.textContent="Sound on",w=L(),S=y("button"),S.textContent="Sound off",P=L(),O=y("button"),O.textContent="Fetch info again",k=L(),E=y("button"),E.textContent="Reset",D=L(),I=y("span"),C=K(A),T=L(),U&&U.c(),h(e,"class","btn btn-secondary"),h(e,"data-bs-toggle","dropdown"),h(e,"data-bs-auto-close","outside"),h(d,"class","btn btn-sm btn-primary"),h(g,"class","btn btn-sm btn-primary"),h(_,"class","btn btn-sm btn-primary"),h(v,"class","btn btn-sm btn-primary"),h(S,"class","btn btn-sm btn-primary"),h(O,"class","btn btn-sm btn-primary"),h(E,"class","btn btn-sm btn-primary"),h(i,"class","dropdown-menu p-1 svelte-1rf5goi"),h(I,"class",M="input-group-text "+(t[7]>0?"text-warning":""))},m(z,F){q(z,e,F),te(n,e,null),q(z,r,F),q(z,i,F),H&&H.m(i,null),f(i,a),V&&V.m(i,null),f(i,s),Q&&Q.m(i,null),f(i,o),G&&G.m(i,null),f(i,l),f(i,c),f(i,u),f(i,d),f(i,m),f(i,g),f(i,p),f(i,_),f(i,b),f(i,v),f(i,w),f(i,S),f(i,P),f(i,O),f(i,k),f(i,E),q(z,D,F),q(z,I,F),f(I,C),f(I,T),U&&U.m(I,null),N=!0,x||(B=[Y(d,"click",t[12]),Y(g,"click",t[13]),Y(_,"click",t[14]),Y(v,"click",t[15]),Y(S,"click",t[16]),Y(O,"click",t[17]),Y(E,"click",t[18])],x=!0)},p(z,F){var Z;z[4]?H?H.p(z,F):(H=Lc(z),H.c(),H.m(i,a)):H&&(H.d(1),H=null),z[5]?V?V.p(z,F):(V=Ic(z),V.c(),V.m(i,s)):V&&(V.d(1),V=null),z[1]?Q?Q.p(z,F):(Q=Mc(z),Q.c(),Q.m(i,o)):Q&&(Q.d(1),Q=null),z[6]?G?G.p(z,F):(G=jc(z),G.c(),G.m(i,l)):G&&(G.d(1),G=null),(!N||F[0]&288)&&A!==(A=(((Z=z[5])==null?void 0:Z.model)??z[8])+"")&&ie(C,A),z[6]?U?(U.p(z,F),F[0]&64&&j(U,1)):(U=Rc(z),U.c(),j(U,1),U.m(I,null)):U&&(Xe(),R(U,1,1,()=>{U=null}),et()),(!N||F[0]&128&&M!==(M="input-group-text "+(z[7]>0?"text-warning":"")))&&h(I,"class",M)},i(z){N||(j(n.$$.fragment,z),j(U),N=!0)},o(z){R(n.$$.fragment,z),R(U),N=!1},d(z){z&&(W(e),W(r),W(i),W(D),W(I)),ne(n),H&&H.d(),V&&V.d(),Q&&Q.d(),G&&G.d(),U&&U.d(),x=!1,ct(B)}}}function Ac(t){let e,n,r,i=t[9]("connector.bluetooth")+"",a,s,o,l,c;return n=new me({props:{icon:"bluetooth"}}),{c(){e=y("button"),re(n.$$.fragment),r=L(),a=K(i),h(e,"class",s="btn text-nowrap "+(t[0]==="bluetooth"?"btn-light":"btn-outline-secondary"))},m(u,d){q(u,e,d),te(n,e,null),f(e,r),f(e,a),o=!0,l||(c=Y(e,"click",t[21]),l=!0)},p(u,d){(!o||d[0]&512)&&i!==(i=u[9]("connector.bluetooth")+"")&&ie(a,i),(!o||d[0]&1&&s!==(s="btn text-nowrap "+(u[0]==="bluetooth"?"btn-light":"btn-outline-secondary")))&&h(e,"class",s)},i(u){o||(j(n.$$.fragment,u),o=!0)},o(u){R(n.$$.fragment,u),o=!1},d(u){u&&W(e),ne(n),l=!1,c()}}}function Dc(t){let e,n,r,i=t[9]("connector.serial")+"",a,s,o,l,c;return n=new me({props:{icon:"usb"}}),{c(){e=y("button"),re(n.$$.fragment),r=L(),a=K(i),h(e,"class",s="btn text-nowrap "+(t[0]==="serial"?"btn-light":"btn-outline-secondary"))},m(u,d){q(u,e,d),te(n,e,null),f(e,r),f(e,a),o=!0,l||(c=Y(e,"click",t[22]),l=!0)},p(u,d){(!o||d[0]&512)&&i!==(i=u[9]("connector.serial")+"")&&ie(a,i),(!o||d[0]&1&&s!==(s="btn text-nowrap "+(u[0]==="serial"?"btn-light":"btn-outline-secondary")))&&h(e,"class",s)},i(u){o||(j(n.$$.fragment,u),o=!0)},o(u){R(n.$$.fragment,u),o=!1},d(u){u&&W(e),ne(n),l=!1,c()}}}function Oc(t){let e,n,r,i,a,s,o;return n=new me({props:{icon:"usb"}}),{c(){e=y("button"),re(n.$$.fragment),r=K(`\r
        Capacitor BLE`),h(e,"class",i="btn text-nowrap "+(t[0]==="capacitor-ble"?"btn-light":"btn-outline-secondary"))},m(l,c){q(l,e,c),te(n,e,null),f(e,r),a=!0,s||(o=Y(e,"click",t[23]),s=!0)},p(l,c){(!a||c[0]&1&&i!==(i="btn text-nowrap "+(l[0]==="capacitor-ble"?"btn-light":"btn-outline-secondary")))&&h(e,"class",i)},i(l){a||(j(n.$$.fragment,l),a=!0)},o(l){R(n.$$.fragment,l),a=!1},d(l){l&&W(e),ne(n),s=!1,o()}}}function Lc(t){let e,n,r,i=Qe(Object.entries(t[4])),a=[];for(let s=0;s<i.length;s+=1)a[s]=Cc(Sc(t,i,s));return{c(){e=y("div"),n=K(`Printer info:\r
          `),r=y("ul");for(let s=0;s<a.length;s+=1)a[s].c()},m(s,o){q(s,e,o),f(e,n),f(e,r);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,null)},p(s,o){if(o[0]&16){i=Qe(Object.entries(s[4]));let l;for(l=0;l<i.length;l+=1){const c=Sc(s,i,l);a[l]?a[l].p(c,o):(a[l]=Cc(c),a[l].c(),a[l].m(r,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(s){s&&W(e),zt(a,s)}}}function Cc(t){let e,n=t[26]+"",r,i,a,s=(t[27]??"-")+"",o;return{c(){e=y("li"),r=K(n),i=K(": "),a=y("strong"),o=K(s)},m(l,c){q(l,e,c),f(e,r),f(e,i),f(e,a),f(a,o)},p(l,c){c[0]&16&&n!==(n=l[26]+"")&&ie(r,n),c[0]&16&&s!==(s=(l[27]??"-")+"")&&ie(o,s)},d(l){l&&W(e)}}}function Ic(t){let e,n,r,i=Qe(Object.entries(t[5])),a=[];for(let s=0;s<i.length;s+=1)a[s]=Bc(Ec(t,i,s));return{c(){e=y("div"),n=K(`Model metadata:\r
          `),r=y("ul");for(let s=0;s<a.length;s+=1)a[s].c()},m(s,o){q(s,e,o),f(e,n),f(e,r);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,null)},p(s,o){if(o[0]&32){i=Qe(Object.entries(s[5]));let l;for(l=0;l<i.length;l+=1){const c=Ec(s,i,l);a[l]?a[l].p(c,o):(a[l]=Bc(c),a[l].c(),a[l].m(r,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(s){s&&W(e),zt(a,s)}}}function Bc(t){let e,n=t[26]+"",r,i,a,s=(t[27]??"-")+"",o;return{c(){e=y("li"),r=K(n),i=K(": "),a=y("strong"),o=K(s)},m(l,c){q(l,e,c),f(e,r),f(e,i),f(e,a),f(a,o)},p(l,c){c[0]&32&&n!==(n=l[26]+"")&&ie(r,n),c[0]&32&&s!==(s=(l[27]??"-")+"")&&ie(o,s)},d(l){l&&W(e)}}}function Mc(t){let e,n,r,i=Qe(Object.entries(t[1])),a=[];for(let s=0;s<i.length;s+=1)a[s]=Nc(Pc(t,i,s));return{c(){e=y("div"),n=K(`Rfid info:\r
          `),r=y("ul");for(let s=0;s<a.length;s+=1)a[s].c()},m(s,o){q(s,e,o),f(e,n),f(e,r);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,null)},p(s,o){if(o[0]&2){i=Qe(Object.entries(s[1]));let l;for(l=0;l<i.length;l+=1){const c=Pc(s,i,l);a[l]?a[l].p(c,o):(a[l]=Nc(c),a[l].c(),a[l].m(r,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(s){s&&W(e),zt(a,s)}}}function Nc(t){let e,n=t[26]+"",r,i,a,s=(t[27]??"-")+"",o;return{c(){e=y("li"),r=K(n),i=K(": "),a=y("strong"),o=K(s)},m(l,c){q(l,e,c),f(e,r),f(e,i),f(e,a),f(a,o)},p(l,c){c[0]&2&&n!==(n=l[26]+"")&&ie(r,n),c[0]&2&&s!==(s=(l[27]??"-")+"")&&ie(o,s)},d(l){l&&W(e)}}}function jc(t){let e,n,r,i=Qe(Object.entries(t[6])),a=[];for(let s=0;s<i.length;s+=1)a[s]=xc(Tc(t,i,s));return{c(){e=y("div"),n=K(`Heartbeat data:\r
          `),r=y("ul");for(let s=0;s<a.length;s+=1)a[s].c()},m(s,o){q(s,e,o),f(e,n),f(e,r);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(r,null)},p(s,o){if(o[0]&64){i=Qe(Object.entries(s[6]));let l;for(l=0;l<i.length;l+=1){const c=Tc(s,i,l);a[l]?a[l].p(c,o):(a[l]=xc(c),a[l].c(),a[l].m(r,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=i.length}},d(s){s&&W(e),zt(a,s)}}}function xc(t){let e,n=t[26]+"",r,i,a,s=(t[27]??"-")+"",o;return{c(){e=y("li"),r=K(n),i=K(": "),a=y("strong"),o=K(s)},m(l,c){q(l,e,c),f(e,r),f(e,i),f(e,a),f(a,o)},p(l,c){c[0]&64&&n!==(n=l[26]+"")&&ie(r,n),c[0]&64&&s!==(s=(l[27]??"-")+"")&&ie(o,s)},d(l){l&&W(e)}}}function Rc(t){let e,n;return e=new me({props:{icon:t[20](t[6].powerLevel),class:"r-90"}}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p(r,i){const a={};i[0]&64&&(a.icon=r[20](r[6].powerLevel)),e.$set(a)},i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}function $c(t){let e,n,r,i,a,s;return n=new me({props:{icon:"power"}}),{c(){e=y("button"),re(n.$$.fragment),h(e,"class","btn btn-primary"),e.disabled=r=t[3]==="connecting"||!t[2].capacitorBle&&!t[2].webBluetooth&&!t[2].webSerial},m(o,l){q(o,e,l),te(n,e,null),i=!0,a||(s=Y(e,"click",t[10]),a=!0)},p(o,l){(!i||l[0]&12&&r!==(r=o[3]==="connecting"||!o[2].capacitorBle&&!o[2].webBluetooth&&!o[2].webSerial))&&(e.disabled=r)},i(o){i||(j(n.$$.fragment,o),i=!0)},o(o){R(n.$$.fragment,o),i=!1},d(o){o&&W(e),ne(n),a=!1,s()}}}function Uc(t){let e,n,r,i,a;return n=new me({props:{icon:"power_off"}}),{c(){e=y("button"),re(n.$$.fragment),h(e,"class","btn btn-danger")},m(s,o){q(s,e,o),te(n,e,null),r=!0,i||(a=Y(e,"click",t[11]),i=!0)},p:yt,i(s){r||(j(n.$$.fragment,s),r=!0)},o(s){R(n.$$.fragment,s),r=!1},d(s){s&&W(e),ne(n),i=!1,a()}}}function s1(t){let e,n,r,i,a,s;const o=[a1,i1],l=[];function c(m,g){return m[3]==="connected"?0:1}n=c(t),r=l[n]=o[n](t);let u=t[3]!=="connected"&&$c(t),d=t[3]==="connected"&&Uc(t);return{c(){e=y("div"),r.c(),i=L(),u&&u.c(),a=L(),d&&d.c(),h(e,"class","input-group w-auto input-group-sm flex-nowrap justify-content-end")},m(m,g){q(m,e,g),l[n].m(e,null),f(e,i),u&&u.m(e,null),f(e,a),d&&d.m(e,null),s=!0},p(m,g){let p=n;n=c(m),n===p?l[n].p(m,g):(Xe(),R(l[p],1,1,()=>{l[p]=null}),et(),r=l[n],r?r.p(m,g):(r=l[n]=o[n](m),r.c()),j(r,1),r.m(e,i)),m[3]!=="connected"?u?(u.p(m,g),g[0]&8&&j(u,1)):(u=$c(m),u.c(),j(u,1),u.m(e,a)):u&&(Xe(),R(u,1,1,()=>{u=null}),et()),m[3]==="connected"?d?(d.p(m,g),g[0]&8&&j(d,1)):(d=Uc(m),d.c(),j(d,1),d.m(e,null)):d&&(Xe(),R(d,1,1,()=>{d=null}),et())},i(m){s||(j(r),j(u),j(d),s=!0)},o(m){R(r),R(u),R(d),s=!1},d(m){m&&W(e),l[n].d(),u&&u.d(),d&&d.d()}}}function o1(t,e,n){let r,i,a,s,o,l,c,u,d;nt(t,bd,M=>n(24,r=M)),nt(t,ao,M=>n(25,i=M)),nt(t,or,M=>n(3,a=M)),nt(t,Is,M=>n(4,s=M)),nt(t,Wi,M=>n(5,o=M)),nt(t,md,M=>n(6,l=M)),nt(t,da,M=>n(7,c=M)),nt(t,Cs,M=>n(8,u=M)),nt(t,Rt,M=>n(9,d=M));let m="bluetooth",g,p={webBluetooth:!1,webSerial:!1,capacitorBle:!1};const _=async()=>{v_(m),or.set("connecting");try{i instanceof lt.NiimbotCapacitorBleClient&&(r==null?void 0:r.autoConnectDeviceId)!==void 0?(console.log("auto connect"),await i.connect({deviceId:r.autoConnectDeviceId})):(console.log("dont auto connect"),await i.connect())}catch(M){or.set("disconnected"),vt.error(M)}},b=()=>{i.disconnect()},v=async()=>{n(1,g=await i.abstraction.rfidInfo())},w=async()=>{i.startHeartbeat()},S=async()=>{i.stopHeartbeat()},P=async()=>{await i.abstraction.setSoundEnabled(lt.SoundSettingsItemType.BluetoothConnectionSound,!0),await i.abstraction.setSoundEnabled(lt.SoundSettingsItemType.PowerSound,!0)},O=async()=>{await i.abstraction.setSoundEnabled(lt.SoundSettingsItemType.BluetoothConnectionSound,!1),await i.abstraction.setSoundEnabled(lt.SoundSettingsItemType.PowerSound,!1)},k=async()=>{await i.fetchPrinterInfo()},E=async()=>{await i.abstraction.printerReset()},D=M=>{gt.saveLastConnectionType(M),n(0,m=M)},I=M=>M===4?"battery_full":M===3?"battery_5_bar":M===2?"battery_3_bar":M===1?"battery_2_bar":"battery_0_bar";return ei(()=>{n(2,p=lt.Utils.getAvailableTransports()),n(0,m=gt.loadLastConnectionType()??"bluetooth"),!p.capacitorBle&&m==="capacitor-ble"&&n(0,m="bluetooth"),!p.webSerial&&m==="serial"&&n(0,m="bluetooth"),!p.webBluetooth&&m==="bluetooth"&&p.capacitorBle&&n(0,m="capacitor-ble"),r!==void 0&&r.autoConnect&&m==="capacitor-ble"&&_()}),[m,g,p,a,s,o,l,c,u,d,_,b,v,w,S,P,O,k,E,D,I,()=>D("bluetooth"),()=>D(n(0,m="serial")),()=>D(n(0,m="capacitor-ble"))]}class l1 extends Pt{constructor(e){super(),Tt(this,e,o1,s1,wt,{},null,[-1,-1])}}function zc(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function Vc(t){let e,n=t[5]+"",r;return{c(){e=y("option"),r=K(n),e.__value=t[4],ke(e,e.__value)},m(i,a){q(i,e,a),f(e,r)},p:yt,d(i){i&&W(e)}}}function c1(t){let e,n,r,i,a,s,o,l,c,u,d,m,g,p,_,b,v,w,S,P,O,k,E,D,I=t[1]("main.built")+"",A,C,T,M,N,x,B=t[1]("main.code")+"",H,V,Q,G;c=new l1({}),g=new th({}),v=new r1({});let U=Qe(Object.entries(fl)),$=[];for(let z=0;z<U.length;z+=1)$[z]=Vc(zc(t,U,z));return{c(){e=y("div"),n=y("div"),r=y("div"),i=y("h1"),a=y("span"),a.textContent="Niim",s=y("span"),s.textContent=`Blue${t[2]?"s":""}`,o=L(),l=y("div"),re(c.$$.fragment),u=L(),d=y("div"),m=y("div"),re(g.$$.fragment),p=L(),_=y("div"),b=y("div"),re(v.$$.fragment),w=L(),S=y("div"),P=y("div"),O=y("select");for(let z=0;z<$.length;z+=1)$[z].c();k=L(),E=y("div"),D=L(),A=K(I),C=L(),T=K("2024-11-29"),M=L(),N=y("div"),x=y("a"),H=K(B),h(a,"class","niim svelte-1b0ps5k"),h(s,"class","blue svelte-1b0ps5k"),h(i,"class","title"),h(r,"class","col"),h(l,"class","col-md-3"),h(n,"class","row align-items-center mb-3"),h(m,"class","col"),h(d,"class","row"),h(b,"class","col"),h(_,"class","row"),h(e,"class","container my-2"),h(O,"class","form-select form-select-sm text-secondary d-inline-block w-auto"),t[0]===void 0&&wn(()=>t[3].call(O)),h(x,"class","text-secondary"),h(x,"href","https://github.com/MultiMote/niimblue"),h(S,"class","footer text-end text-secondary p-3 svelte-1b0ps5k")},m(z,F){q(z,e,F),f(e,n),f(n,r),f(r,i),f(i,a),f(i,s),f(n,o),f(n,l),te(c,l,null),f(e,u),f(e,d),f(d,m),te(g,m,null),f(e,p),f(e,_),f(_,b),te(v,b,null),q(z,w,F),q(z,S,F),f(S,P),f(P,O);for(let Z=0;Z<$.length;Z+=1)$[Z]&&$[Z].m(O,null);xt(O,t[0],!0),f(S,k),f(S,E),f(E,D),f(E,A),f(E,C),f(E,T),f(S,M),f(S,N),f(N,x),f(x,H),V=!0,Q||(G=Y(O,"change",t[3]),Q=!0)},p(z,[F]){if(F&0){U=Qe(Object.entries(fl));let Z;for(Z=0;Z<U.length;Z+=1){const J=zc(z,U,Z);$[Z]?$[Z].p(J,F):($[Z]=Vc(J),$[Z].c(),$[Z].m(O,null))}for(;Z<$.length;Z+=1)$[Z].d(1);$.length=U.length}F&1&&xt(O,z[0]),(!V||F&2)&&I!==(I=z[1]("main.built")+"")&&ie(A,I),(!V||F&2)&&B!==(B=z[1]("main.code")+"")&&ie(H,B)},i(z){V||(j(c.$$.fragment,z),j(g.$$.fragment,z),j(v.$$.fragment,z),V=!0)},o(z){R(c.$$.fragment,z),R(g.$$.fragment,z),R(v.$$.fragment,z),V=!1},d(z){z&&(W(e),W(w),W(S)),ne(c),ne(g),ne(v),zt($,z),Q=!1,G()}}}function u1(t,e,n){let r,i;nt(t,_a,o=>n(0,r=o)),nt(t,Rt,o=>n(1,i=o));let a=lt.Utils.getAvailableTransports().capacitorBle;function s(){r=Zn(this),_a.set(r)}return[r,i,a,s]}class d1 extends Pt{constructor(e){super(),Tt(this,e,u1,c1,wt,{})}}function f1(t){let e,n;return e=new d1({}),{c(){re(e.$$.fragment)},m(r,i){te(e,r,i),n=!0},p:yt,i(r){n||(j(e.$$.fragment,r),n=!0)},o(r){R(e.$$.fragment,r),n=!1},d(r){ne(e,r)}}}class p1 extends Pt{constructor(e){super(),Tt(this,e,null,f1,wt,{})}}new p1({target:document.getElementById("app")});export{Xs as W,Qu as h,Bp as m,Ip as w};
